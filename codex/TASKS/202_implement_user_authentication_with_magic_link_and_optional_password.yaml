id: 202
filename: 202_implement_user_authentication_with_magic_link_and_optional_password.yaml
title: Implement User Authentication with Magic Link and Optional Password
description: >
    Build complete login flow
    - Create users table with token, optional email and password
    - Allow creation of user via token interaction (anonymous by default)
    - Support login via email link (code expiration handling)
    - Optional password can be set at any time
    - Future Schema allows 2FA configuration
    - Implement Express endpoints for login/initiate, send magic link, validate, set password
    - Write Jest tests for session lifecycle, token reuse, magic code validation
dependencies: [201]
