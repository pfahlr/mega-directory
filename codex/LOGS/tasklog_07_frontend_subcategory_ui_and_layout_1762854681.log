OpenAI Codex v0.57.0 (research preview)
--------
workdir: /var/home/rick/Development/mega-directory
model: gpt-5-codex
provider: openai
approval: never
sandbox: workspace-write [workdir, /tmp, $TMPDIR]
reasoning effort: high
reasoning summaries: auto
session id: 019a7253-baa0-7bd0-88d8-70e594f9ff74
--------
user
Implement the functionality described in codex/TASKS/07_frontend_subcategory_ui_and_layout.yaml, then verify with any available tests.

thinking
**Planning implementation steps**
exec
bash -lc ls in /var/home/rick/Development/mega-directory succeeded in 39ms:
admin
agents
AGENTS.md
api
astro
codex
codex.toml
codex.yaml
db
docker-compose.yml
docs
README.md

thinking
**Opening specific task file**
exec
bash -lc 'cat codex/TASKS/07_frontend_subcategory_ui_and_layout.yaml' in /var/home/rick/Development/mega-directory succeeded in 38ms:
id: 7
title: Frontend Subcategory UI & Layout
description: Allow navigation/filtering of listings by subcategory, maintaining SSR
  speed and SEO.
dependencies:
- 6

thinking
**Exploring project structure and docs**
exec
bash -lc 'ls astro' in /var/home/rick/Development/mega-directory succeeded in 38ms:
astro.config.mjs
dist
Dockerfile
node_modules
package.json
package-lock.json
postcss.config.cjs
public
README.md
src
tailwind.config.mjs
test
tsconfig.json

thinking
**Examining source directory**
exec
bash -lc 'ls astro/src' in /var/home/rick/Development/mega-directory succeeded in 41ms:
components
data
layouts
lib
pages
styles

thinking
**Searching for subcategory mentions**
exec
bash -lc 'rg -n "subcategory" -n' in /var/home/rick/Development/mega-directory succeeded in 54ms:
codex.yaml:18:    path: codex/TASKS/07_frontend_subcategory_ui_&_layout.yaml
db/migrations/001_core_schema.sql:149:  "subcategoryId" INTEGER NOT NULL,
db/migrations/001_core_schema.sql:151:  PRIMARY KEY ("listingId", "subcategoryId"),
db/migrations/001_core_schema.sql:153:  CONSTRAINT "ListingSubcategory_subcategoryId_fkey" FOREIGN KEY ("subcategoryId") REFERENCES "Subcategory"("id") ON DELETE CASCADE ON UPDATE CASCADE
db/seed.ts:118:  const electricalSubcategory = await prisma.subcategory.upsert({
db/seed.ts:131:  const hvacSubcategory = await prisma.subcategory.upsert({
db/seed.ts:182:      listingId_subcategoryId: {
db/seed.ts:184:        subcategoryId: electricalSubcategory.id
db/seed.ts:190:      subcategoryId: electricalSubcategory.id
db/seed.ts:196:      listingId_subcategoryId: {
db/seed.ts:198:        subcategoryId: hvacSubcategory.id
db/seed.ts:204:      subcategoryId: hvacSubcategory.id
db/schema.prisma:191:  subcategory   Subcategory @relation(fields: [subcategoryId], references: [id])
db/schema.prisma:192:  subcategoryId Int
db/schema.prisma:195:  @@id([listingId, subcategoryId])
codex/TASKS/07_frontend_subcategory_ui_and_layout.yaml:3:description: Allow navigation/filtering of listings by subcategory, maintaining SSR
codex/LOGS/tasklog_07_frontend_subcategory_ui_and_layout_1762854681.log:13:Implement the functionality described in codex/TASKS/07_frontend_subcategory_ui_and_layout.yaml, then verify with any available tests.
codex/LOGS/tasklog_07_frontend_subcategory_ui_and_layout_1762854681.log:35:bash -lc 'cat codex/TASKS/07_frontend_subcategory_ui_and_layout.yaml' in /var/home/rick/Development/mega-directory succeeded in 38ms:
codex/LOGS/tasklog_07_frontend_subcategory_ui_and_layout_1762854681.log:38:description: Allow navigation/filtering of listings by subcategory, maintaining SSR
codex/LOGS/tasklog_07_frontend_subcategory_ui_and_layout_1762854681.log:73:**Searching for subcategory mentions**

thinking
**Reviewing previous task logs**
exec
bash -lc 'ls astro/src/pages' in /var/home/rick/Development/mega-directory succeeded in 38ms:
index.astro
listings

thinking
**Checking route for listings**
exec
bash -lc 'ls astro/src/pages/listings' in /var/home/rick/Development/mega-directory succeeded in 39ms:
[category]
index.astro

thinking
**Viewing dynamic folder**
exec
bash -lc 'ls astro/src/pages/listings/[category]' in /var/home/rick/Development/mega-directory succeeded in 40ms:
[location].astro

thinking
**Checking general listings page**
exec
bash -lc "sed -n '1,200p' astro/src/pages/listings/[category]/[location].astro" in /var/home/rick/Development/mega-directory succeeded in 38ms:
---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import DirectoryListing from '../../../components/DirectoryListing.astro';
import { directoryCatalog } from '../../../data/directory-catalog.js';
import { findDirectoryEntry, sortListingsByScore } from '../../../lib/directory-helpers.js';

export function getStaticPaths() {
  return directoryCatalog.map((directory) => ({
    params: {
      category: directory.category.slug,
      location: directory.location.slug,
    },
  }));
}

const { category, location } = Astro.params;
const directory = findDirectoryEntry(directoryCatalog, category, location);

if (!directory) {
  throw new Error(`Directory not found for ${category}/${location}`);

thinking
**Checking directory-catalog for navigation data**
exec
bash -lc "sed -n '1,200p' astro/src/data/directory-catalog.js" in /var/home/rick/Development/mega-directory succeeded in 38ms:
export const directoryCatalog = [
  {
    slug: 'professional-services-new-york-city',
    name: 'NYC Professional Services',
    heroTitle: 'Trusted Pros in New York City',
    heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
    category: {
      slug: 'professional-services',
      name: 'Professional Services',
      description: 'Verified operators for commercial and residential work orders.',
    },
    location: {
      slug: 'new-york-city',
      name: 'New York City',
      state: 'NY',
      country: 'US',
      timezone: 'America/New_York',
    },
    stats: {
      coverage: '5 boroughs',

thinking
**Checking data subcategory presence**
exec
bash -lc "sed -n '1,200p' astro/src/components/DirectoryListing.astro" in /var/home/rick/Development/mega-directory succeeded in 38ms:
---
interface DirectoryListing {
  slug: string;
  name: string;
  url: string;
  summary: string;
  description?: string;
  badges?: string[];
  score?: number;
  scoreTooltip?: string;
  highlights?: string[];
  locationLabel?: string;
}

const { listing, rank }: { listing: DirectoryListing; rank: number } = Astro.props;
const headingId = `directory-listing-${listing.slug}`;
const tooltipId = `${headingId}-tooltip`;
const showTooltip = Boolean(listing.scoreTooltip);
const badges = listing.badges ?? [];
const highlights = listing.highlights ?? [];

thinking
**Searching for subcategory data**
exec
bash -lc 'rg -n "subcategory" astro/src -n' in /var/home/rick/Development/mega-directory exited 1 in 41ms:


thinking
**Checking data for subcategory inclusion**
exec
bash -lc "sed -n '1,200p' astro/src/pages/listings/index.astro" in /var/home/rick/Development/mega-directory succeeded in 41ms:
---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { directoryCatalog } from '../../data/directory-catalog.js';
import { buildDirectoryGroups } from '../../lib/directory-helpers.js';

const groups = buildDirectoryGroups(directoryCatalog);
const totalLocations = groups.reduce((sum, group) => sum + group.locations.length, 0);
const totalListings = groups.reduce((sum, group) => sum + group.totalListings, 0);

const navItems = [
  { href: '#overview', label: 'Overview' },
  { href: '#directories', label: 'Directories' },
];

const heroStats = [
  { label: 'Active categories', value: groups.length },
  { label: 'Locations tracked', value: totalLocations },
  { label: 'Listings scored', value: totalListings },
];
---

thinking
**Inspecting library file directory-helpers.js**
exec
bash -lc "sed -n '1,200p' astro/src/lib/directory-helpers.js" in /var/home/rick/Development/mega-directory succeeded in 42ms:
const FALLBACK_SCORE = -Infinity;

const normalizeScore = (value) =>
  typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;

const normalizeSlug = (value) =>
  String(value ?? '')
    .trim()
    .toLowerCase()
    .replace(/[^a-z0-9]+/g, '-')
    .replace(/^-+|-+$/g, '') || 'directory';

export function sortListingsByScore(listings = []) {
  if (!Array.isArray(listings)) {
    return [];
  }
  return [...listings].sort((a, b) => normalizeScore(b?.score) - normalizeScore(a?.score));
}

export function buildDirectoryPath(categorySlug, locationSlug) {

thinking
**Searching for subcategory data**
exec
bash -lc 'rg -n "subcategory" -R' in /var/home/rick/Development/mega-directory exited 2 in 38ms:
rg: unrecognized flag -R

thinking
**Searching for "subcategory" occurrences**
exec
bash -lc 'rg -n "subcategory"' in /var/home/rick/Development/mega-directory succeeded in 45ms:
codex.yaml:18:    path: codex/TASKS/07_frontend_subcategory_ui_&_layout.yaml
db/migrations/001_core_schema.sql:149:  "subcategoryId" INTEGER NOT NULL,
db/migrations/001_core_schema.sql:151:  PRIMARY KEY ("listingId", "subcategoryId"),
db/migrations/001_core_schema.sql:153:  CONSTRAINT "ListingSubcategory_subcategoryId_fkey" FOREIGN KEY ("subcategoryId") REFERENCES "Subcategory"("id") ON DELETE CASCADE ON UPDATE CASCADE
db/seed.ts:118:  const electricalSubcategory = await prisma.subcategory.upsert({
db/seed.ts:131:  const hvacSubcategory = await prisma.subcategory.upsert({
db/seed.ts:182:      listingId_subcategoryId: {
db/seed.ts:184:        subcategoryId: electricalSubcategory.id
db/seed.ts:190:      subcategoryId: electricalSubcategory.id
db/seed.ts:196:      listingId_subcategoryId: {
db/seed.ts:198:        subcategoryId: hvacSubcategory.id
db/seed.ts:204:      subcategoryId: hvacSubcategory.id
db/schema.prisma:191:  subcategory   Subcategory @relation(fields: [subcategoryId], references: [id])
db/schema.prisma:192:  subcategoryId Int
db/schema.prisma:195:  @@id([listingId, subcategoryId])
codex/LOGS/tasklog_07_frontend_subcategory_ui_and_layout_1762854681.log:13:Implement the functionality described in codex/TASKS/07_frontend_subcategory_ui_and_layout.yaml, then verify with any available tests.
codex/LOGS/tasklog_07_frontend_subcategory_ui_and_layout_1762854681.log:35:bash -lc 'cat codex/TASKS/07_frontend_subcategory_ui_and_layout.yaml' in /var/home/rick/Development/mega-directory succeeded in 38ms:
codex/LOGS/tasklog_07_frontend_subcategory_ui_and_layout_1762854681.log:38:description: Allow navigation/filtering of listings by subcategory, maintaining SSR
codex/LOGS/tasklog_07_frontend_subcategory_ui_and_layout_1762854681.log:73:**Searching for subcategory mentions**
codex/LOGS/tasklog_07_frontend_subcategory_ui_and_layout_1762854681.log:75:bash -lc 'rg -n "subcategory" -n' in /var/home/rick/Development/mega-directory succeeded in 54ms:

thinking
**Seeking specification details**
exec
bash -lc "sed -n '1,200p' README.md" in /var/home/rick/Development/mega-directory succeeded in 44ms:
# Mega Directory

Mega Directory is a server-rendered directory listing platform built with Astro, Express, and Prisma. It supports dynamic subdomains, AI-generated content enrichment, and moderation workflows.

## Features

- üõ∞Ô∏è Subdomain-based regional directories (e.g. electricians.nyc.example.com)
- ‚ö° Express API with JWT-based auth
- üß† AI agents for crawling, enrichment, and moderation (via OpenRouter)
- üß© Admin dashboard for approving or rejecting listings
- üíÖ Tailwind CSS and minimal JavaScript for accessibility and performance
- üê≥ Dockerized and deployable behind Cloudflare with SSR

## Tech Stack

- Astro (SSR)
- Express.js
- Prisma + PostgreSQL
- Tailwind CSS
- OpenRouter (AI Agents)

thinking
**Checking for tests in astro/test**
exec
bash -lc 'ls astro/test' in /var/home/rick/Development/mega-directory succeeded in 40ms:
directory-helpers.test.mjs

thinking
**Opening test file for library functions**
exec
bash -lc "sed -n '1,200p' astro/test/directory-helpers.test.mjs" in /var/home/rick/Development/mega-directory succeeded in 40ms:
import test from 'node:test';
import assert from 'node:assert/strict';
import {
  sortListingsByScore,
  buildDirectoryGroups,
  buildDirectoryPath,
  findDirectoryEntry,
} from '../src/lib/directory-helpers.js';

const sampleDirectories = [
  {
    slug: 'professional-services-new-york-city',
    name: 'NYC Professional Services',
    category: { slug: 'professional-services', name: 'Professional Services' },
    location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
    heroTitle: 'Trusted Pros in NYC',
    heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
    listings: [
      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },

thinking
**Planning subcategory filter tests**
exec
bash -lc "sed -n '1,260p' db/seed.ts" in /var/home/rick/Development/mega-directory succeeded in 38ms:
import { PrismaClient } from '@prisma/client';

const prisma = new PrismaClient();

async function main() {
  const adminUser = await prisma.user.upsert({
    where: { email: 'admin@example.com' },
    update: {},
    create: {
      email: 'admin@example.com',
      passwordHash: 'placeholder-hash',
      displayName: 'Demo Admin',
      role: 'ADMIN',
      status: 'ACTIVE'
    }
  });

  const servicesCategory = await prisma.category.upsert({
    where: { slug: 'professional-services' },
    update: {},

thinking
**Investigating subcategory data usage**
exec
bash -lc 'rg -n "subcategory" -g"*"' in /var/home/rick/Development/mega-directory exited 124 in 10.34s:
codex.yaml:18:    path: codex/TASKS/07_frontend_subcategory_ui_&_layout.yaml
db/migrations/001_core_schema.sql:149:  "subcategoryId" INTEGER NOT NULL,
db/migrations/001_core_schema.sql:151:  PRIMARY KEY ("listingId", "subcategoryId"),
db/migrations/001_core_schema.sql:153:  CONSTRAINT "ListingSubcategory_subcategoryId_fkey" FOREIGN KEY ("subcategoryId") REFERENCES "Subcategory"("id") ON DELETE CASCADE ON UPDATE CASCADE
db/seed.ts:118:  const electricalSubcategory = await prisma.subcategory.upsert({
db/seed.ts:131:  const hvacSubcategory = await prisma.subcategory.upsert({
db/seed.ts:182:      listingId_subcategoryId: {
db/seed.ts:184:        subcategoryId: electricalSubcategory.id
db/seed.ts:190:      subcategoryId: electricalSubcategory.id
db/seed.ts:196:      listingId_subcategoryId: {
db/seed.ts:198:        subcategoryId: hvacSubcategory.id
db/seed.ts:204:      subcategoryId: hvacSubcategory.id
db/schema.prisma:191:  subcategory   Subcategory @relation(fields: [subcategoryId], references: [id])
db/schema.prisma:192:  subcategoryId Int
db/schema.prisma:195:  @@id([listingId, subcategoryId])
codex/LOGS/tasklog_07_frontend_subcategory_ui_and_layout_1762854681.log:13:Implement the functionality described in codex/TASKS/07_frontend_subcategory_ui_and_layout.yaml, then verify with any available tests.
codex/LOGS/tasklog_07_frontend_subcategory_ui_and_layout_1762854681.log:35:bash -lc 'cat codex/TASKS/07_frontend_subcategory_ui_and_layout.yaml' in /var/home/rick/Development/mega-directory succeeded in 38ms:
codex/LOGS/tasklog_07_frontend_subcategory_ui_and_layout_1762854681.log:38:description: Allow navigation/filtering of listings by subcategory, maintaining SSR
codex/LOGS/tasklog_07_frontend_subcategory_ui_and_layout_1762854681.log:73:**Searching for subcategory mentions**
codex/LOGS/tasklog_07_frontend_subcategory_ui_and_layout_1762854681.log:75:bash -lc 'rg -n "subcategory" -n' in /var/home/rick/Development/mega-directory succeeded in 54ms:

thinking
**Searching documentation for front-end specs**
exec
bash -lc 'rg -n "subcategory" docs -n' in /var/home/rick/Development/mega-directory exited 1 in 43ms:


thinking
**Searching for instructions on subcategories**
exec
bash -lc "sed -n '1,200p' astro/README.md" in /var/home/rick/Development/mega-directory succeeded in 39ms:
# Mega Directory ¬∑ Astro Frontend

Accessible-by-default Astro frontend that powers the public marketing site for Mega Directory. It ships with a hero layout, listing cards, category highlights, and supporting sections tuned for SEO + performance.

## Project Structure

```
astro/
‚îú‚îÄ‚îÄ public/                # Static assets
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/        # Base UI building blocks
‚îÇ   ‚îú‚îÄ‚îÄ layouts/           # Shared layout w/ header + footer
‚îÇ   ‚îú‚îÄ‚îÄ pages/             # Route-driven content
‚îÇ   ‚îî‚îÄ‚îÄ styles/            # Global CSS + design tokens
‚îú‚îÄ‚îÄ astro.config.mjs
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ tsconfig.json
```

Tailwind utility classes power the UI. Because this environment is offline, the project currently relies on the Tailwind CDN runtime that is injected from `BaseLayout.astro`. Once network access is available you can run `npm install` to pull down the declared Tailwind devDependencies and replace the CDN include with a local build.

thinking
**Opening BaseLayout for context**
exec
bash -lc "sed -n '1,220p' astro/src/layouts/BaseLayout.astro" in /var/home/rick/Development/mega-directory succeeded in 41ms:
---
import SiteFooter from '../components/SiteFooter.astro';
import SiteHeader from '../components/SiteHeader.astro';
import '../styles/global.css';

const {
  title = 'Mega Directory',
  description = 'Curated business listings with human-friendly scoring and best-in-class accessibility.',
  navItems,
  showHeader = true,
  showFooter = true,
} = Astro.props;

const siteName = 'Mega Directory';
const computedTitle = title === siteName ? siteName : `${title} ¬∑ ${siteName}`;
const resolvedNavItems =
  navItems ??
  [
    { href: '#listings', label: 'Listings' },
    { href: '#categories', label: 'Categories' },

thinking
**Planning subcategory filter implementation**
exec
bash -lc 'rg -n "filter" astro/src -n' in /var/home/rick/Development/mega-directory succeeded in 41ms:
astro/src/styles/global.css:103:  backdrop-filter: blur(16px);
astro/src/components/HeroSection.astro:28:    'Composable filters for categories, locations, and scores.',
astro/src/components/SiteHeader.astro:17:<header class="relative border-b border-white/10 bg-slate-950/80 text-white shadow-lg shadow-black/20 backdrop-blur supports-[backdrop-filter]:bg-slate-950/60">
astro/src/pages/index.astro:83:    title: 'Composable filters',

thinking
**Reviewing index page styles**
exec
bash -lc "sed -n '1,200p' astro/src/pages/index.astro" in /var/home/rick/Development/mega-directory succeeded in 39ms:
---
import BaseLayout from '../layouts/BaseLayout.astro';
import CategoryCard from '../components/CategoryCard.astro';
import HeroSection from '../components/HeroSection.astro';
import ListingItem from '../components/ListingItem.astro';

const featuredListings = [
  {
    link_text: 'Northwind Coffee Roasters',
    uri: 'https://example.com/northwind',
    description_short: 'Solar-powered roastery shipping to 38 states with zero-waste packaging.',
    description_long:
      'Certified organic beans, flexible wholesale programs, and an ADA-compliant tasting room that doubles as a community studio.',
    score: 97,
    badges: ['Carbon neutral', 'Wholesale ready', 'Local pickup'],
    category: 'Food & Beverage',
    location: 'Portland, OR',
    slug: 'northwind-coffee',
  },
  {

thinking
**Searching for Subcategory UI documentation**
exec
bash -lc 'rg -n "Subcategory" -g"*.md"' in /var/home/rick/Development/mega-directory exited 1 in 43ms:


thinking
**Checking additional TASKS directory**
exec
bash -lc 'ls codex/TASKS' in /var/home/rick/Development/mega-directory succeeded in 39ms:
00_prepare_repository.yaml
01_initialize_astro_frontend.yaml
02_setup_api_server_with_express_and_jwt_auth.yaml
03_design_postgresql_schema.yaml
04_implement_listing_ingestion_api_endpoint.yaml
05_admin_auth_route_and_middleware.yaml
06_frontend_directory_page_rendering.yaml
07_frontend_subcategory_ui_and_layout.yaml
08_setup_featured_listings_logic.yaml
09_add_category_meta_and_seo_controls.yaml
10_scaffold_python_crawler_agent.yaml
11_llm_field_generation_via_jinja2.yaml
12_post_listings_from_crawler_to_api_server.yaml
13_create_json_crawler_configuration_schema.yaml
14_scaffold_admin_ui_application.yaml
15_admin_ui:_listing_review_table.yaml
16_admin_ui:_category_location_approval.yaml
17_admin_ui:_seo_field_editor.yaml
18_deploy_web_+_api_to_railway.yaml
19_setup_logging,_healthchecks_and_monitoring.yaml

thinking
**Opening Task 06 for context**
exec
bash -lc 'cat codex/TASKS/06_frontend_directory_page_rendering.yaml' in /var/home/rick/Development/mega-directory succeeded in 40ms:
id: 6
title: Frontend Directory Page Rendering
description: Generate directory pages using SSR in Astro, grouped by category/location.
  Listings sorted by score with tooltip and expandable content.
dependencies:
- 1
- 3

thinking
**Checking for additional task details**
exec
bash -lc 'cat codex/CODEX_TODO.md' in /var/home/rick/Development/mega-directory exited 1 in 38ms:
cat: codex/CODEX_TODO.md: No such file or directory

thinking
**Checking for TASKS/work_list**
exec
bash -lc 'cat codex/TASKS/work_list' in /var/home/rick/Development/mega-directory succeeded in 41ms:
04_implement_listing_ingestion_api_endpoint.yaml
05_admin_auth_route_and_middleware.yaml
23_docker_compose_local_dev.yaml
06_frontend_directory_page_rendering.yaml
07_frontend_subcategory_ui_and_layout.yaml
08_setup_featured_listings_logic.yaml
09_add_category_meta_and_seo_controls.yaml
10_scaffold_python_crawler_agent.yaml
11_llm_field_generation_via_jinja2.yaml
12_post_listings_from_crawler_to_api_server.yaml
13_create_json_crawler_configuration_schema.yaml
14_scaffold_admin_ui_application.yaml

thinking
**Searching for subcategories references**
exec
bash -lc 'rg -n "subcategor" -i' in /var/home/rick/Development/mega-directory succeeded in 44ms:
codex.yaml:18:    path: codex/TASKS/07_frontend_subcategory_ui_&_layout.yaml
db/migrations/001_core_schema.sql:9:CREATE TYPE "LlmTargetType" AS ENUM ('LISTING', 'CATEGORY', 'DIRECTORY', 'SUBCATEGORY');
db/migrations/001_core_schema.sql:79:CREATE TABLE "Subcategory" (
db/migrations/001_core_schema.sql:90:  CONSTRAINT "Subcategory_categoryId_slug_key" UNIQUE ("categoryId", "slug"),
db/migrations/001_core_schema.sql:91:  CONSTRAINT "Subcategory_categoryId_fkey" FOREIGN KEY ("categoryId") REFERENCES "Category"("id") ON DELETE CASCADE ON UPDATE CASCADE,
db/migrations/001_core_schema.sql:92:  CONSTRAINT "Subcategory_parentId_fkey" FOREIGN KEY ("parentId") REFERENCES "Subcategory"("id") ON DELETE SET NULL ON UPDATE CASCADE
db/migrations/001_core_schema.sql:147:CREATE TABLE "ListingSubcategory" (
db/migrations/001_core_schema.sql:149:  "subcategoryId" INTEGER NOT NULL,
db/migrations/001_core_schema.sql:151:  PRIMARY KEY ("listingId", "subcategoryId"),
db/migrations/001_core_schema.sql:152:  CONSTRAINT "ListingSubcategory_listingId_fkey" FOREIGN KEY ("listingId") REFERENCES "Listing"("id") ON DELETE CASCADE ON UPDATE CASCADE,
db/migrations/001_core_schema.sql:153:  CONSTRAINT "ListingSubcategory_subcategoryId_fkey" FOREIGN KEY ("subcategoryId") REFERENCES "Subcategory"("id") ON DELETE CASCADE ON UPDATE CASCADE
db/seed.ts:118:  const electricalSubcategory = await prisma.subcategory.upsert({
db/seed.ts:131:  const hvacSubcategory = await prisma.subcategory.upsert({
db/seed.ts:180:  await prisma.listingSubcategory.upsert({
db/seed.ts:182:      listingId_subcategoryId: {
db/seed.ts:184:        subcategoryId: electricalSubcategory.id
db/seed.ts:190:      subcategoryId: electricalSubcategory.id
db/seed.ts:194:  await prisma.listingSubcategory.upsert({
db/seed.ts:196:      listingId_subcategoryId: {
db/seed.ts:198:        subcategoryId: hvacSubcategory.id

thinking
**Searching documentation for subcategory**
exec
bash -lc 'rg -n "subcategor" docs' in /var/home/rick/Development/mega-directory exited 1 in 42ms:


thinking
**Searching for subcategory references**
exec
bash -lc 'rg -n "subcategory" codex/LOGS/tasklog_06_frontend_directory_page_rendering_1762853993.log' in /var/home/rick/Development/mega-directory succeeded in 40ms:
378:07_frontend_subcategory_ui_and_layout.yaml
471:bash -lc "sed -n '1,160p' codex/TASKS/07_frontend_subcategory_ui_and_layout.yaml" in /var/home/rick/Development/mega-directory succeeded in 38ms:
474:description: Allow navigation/filtering of listings by subcategory, maintaining SSR
11138:2. Extend the new tests/pages with subcategory filtering (Codex Task 07) so the SSR plumbing keeps its coverage as functionality grows.
11423:2. Extend the new tests/pages with subcategory filtering (Codex Task 07) so the SSR plumbing keeps its coverage as functionality grows.

thinking
**Preparing to edit line with sed**
exec
bash -lc "sed -n '11080,11170p' codex/LOGS/tasklog_06_frontend_directory_page_rendering_1762853993.log" in /var/home/rick/Development/mega-directory succeeded in 41ms:
+
+.listing-details summary .chevron {
+  display: inline-block;
+  transition: transform 0.2s ease;
+}
+
+.listing-details[open] summary .chevron {
+  transform: rotate(90deg);
+}
+
+.listing-details__content {
+  margin-top: 0.75rem;
+}
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 19cb0ca2c7731fdaf950cc090eb85bcc60ae4b28..5e13001917a684bcd1b8652710255a11e53acd68
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,7 @@
   sortListingsByScore,
   buildDirectoryGroups,

thinking
**Analyzing subcategory filtering requirements**

I'm piecing together how to add subcategory filtering for listings with SSR and SEO in mind. Since query params aren‚Äôt available at build time for static pages, full dynamic filtering server-side is tricky, so I‚Äôm thinking about options like pre-grouping listings by subcategory, minimal client JS, or generating separate pages per subcategory. I need to check logs for more clues or specs on expected behavior.
exec
bash -lc 'tail -n 200 codex/LOGS/tasklog_07_frontend_subcategory_ui_and_layout_1762854681.log' in /var/home/rick/Development/mega-directory succeeded in 38ms:

Tailwind utility classes power the UI. Because this environment is offline, the project currently relies on the Tailwind CDN runtime that is injected from `BaseLayout.astro`. Once network access is available you can run `npm install` to pull down the declared Tailwind devDependencies and replace the CDN include with a local build.

thinking
**Opening BaseLayout for context**
exec
bash -lc "sed -n '1,220p' astro/src/layouts/BaseLayout.astro" in /var/home/rick/Development/mega-directory succeeded in 41ms:
---
import SiteFooter from '../components/SiteFooter.astro';
import SiteHeader from '../components/SiteHeader.astro';
import '../styles/global.css';

const {
  title = 'Mega Directory',
  description = 'Curated business listings with human-friendly scoring and best-in-class accessibility.',
  navItems,
  showHeader = true,
  showFooter = true,
} = Astro.props;


thinking
**Analyzing subcategory filtering approach**

I'm figuring out how to implement subcategory filtering on the directory page while preserving server-side rendering speed and SEO. There‚Äôs a tension between needing interactive filtering (likely via light client-side JS) and keeping the page statically rendered, so I‚Äôm weighing options like multiple pre-rendered sections versus minimal JS toggles through an Astro component. I want to check config and existing docs to clarify the intended approach.
exec
bash -lc 'cat astro/astro.config.mjs' in /var/home/rick/Development/mega-directory succeeded in 40ms:
// @ts-check
import { defineConfig } from 'astro/config';

// https://astro.build/config
export default defineConfig({});

thinking
**Planning SSR-friendly subcategory routes**

I‚Äôm figuring out how to support subcategory filtering with static site generation and SSR by pre-rendering pages for each filter combo, likely adding new dynamic routes like `/listings/[category]/[location]/[subcategory].astro`. I‚Äôm weighing options for routing structure to handle optional subcategory segments while sharing logic and maintaining SEO and navigation speed. Let‚Äôs see if Astro supports optional dynamic segments or if I need to duplicate or restructure files.
exec
bash -lc "rg -n \"\\[\\[\" -g\"*.astro\" -n" in /var/home/rick/Development/mega-directory exited 1 in 45ms:



thinking
**Designing subcategory filtering and routing**

I'm mapping out how to support subcategory filtering in listings with restful routes, considering Astro's routing limits and static build behavior. I'll likely keep existing category/location pages and add new dynamic routes for subcategories, sharing logic via components and helper functions. I need to update data structures to include subcategories at directory and listing levels, create helper functions for filtering and counting, and extend tests. There‚Äôs quite a bit to plan for smooth UI navigation, SEO, and SSR speed while minimizing code duplication. Let's explore how to organize files, routes, data, and tests together!
thinking
**Planning subcategory UI and routing helpers**

I'm outlining how to enhance the listings page with subcategory filters, including building navigation items, computing filtered listings, and generating hrefs for subcategory routes. I‚Äôll create helper functions like `buildSubcategoryPath` to keep URLs consistent and plan CSS updates for filter navigation styling. Since this spans multiple tasks, I‚Äôm preparing a clear multi-step plan to tackle requirements, tests, and dataset updates efficiently.
Plan update
  ‚Üí Review directory data/tests to decide how to model subcategories and plan helper API for filtering.
  ‚Ä¢ Add/adjust automated tests + data fixtures for subcategory metadata and filtering behavior (expect failures).
  ‚Ä¢ Implement data, helper, and UI updates (pages/components/styles) plus new subcategory route to satisfy tests and functionality.
  ‚Ä¢ Run relevant tests/builds and verify results, then summarize changes.

thinking
**Updating project plan status**
Plan update
  ‚úì Review directory data/tests to decide how to model subcategories and plan helper API for filtering.
  ‚Üí Add/adjust automated tests + data fixtures for subcategory metadata and filtering behavior (expect failures).
  ‚Ä¢ Implement data, helper, and UI updates (pages/components/styles) plus new subcategory route to satisfy tests and functionality.
  ‚Ä¢ Run relevant tests/builds and verify results, then summarize changes.

thinking
**Planning test updates for subcategory helpers**

I‚Äôm laying out a detailed plan to update tests for new subcategory helper functions by expanding sample data with subcategories and listing assignments, thinking carefully about edge cases like slug normalization and filtering zero-count subcategories, and preparing to edit the existing test file accordingly.
exec
bash -lc "sed -n '1,200p' astro/test/directory-helpers.test.mjs" in /var/home/rick/Development/mega-directory succeeded in 43ms:
import test from 'node:test';
import assert from 'node:assert/strict';
import {
  sortListingsByScore,
  buildDirectoryGroups,
  buildDirectoryPath,
  findDirectoryEntry,
} from '../src/lib/directory-helpers.js';

const sampleDirectories = [
  {
    slug: 'professional-services-new-york-city',
    name: 'NYC Professional Services',
    category: { slug: 'professional-services', name: 'Professional Services' },
    location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
    heroTitle: 'Trusted Pros in NYC',
    heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
    listings: [
      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },

thinking
**Preparing test data and plan**
file update
M /var/home/rick/Development/mega-directory/astro/test/directory-helpers.test.mjs
@@ -6,2 +6,5 @@
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  filterListingsBySubcategory,
   findDirectoryEntry,
@@ -17,6 +20,21 @@
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
@@ -31,4 +49,14 @@
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
@@ -42,3 +70,10 @@
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
@@ -74,2 +109,13 @@
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
@@ -107,2 +153,47 @@
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
apply_patch(auto_approved=true) exited 0 in 6ms:
Success. Updated the following files:
M astro/test/directory-helpers.test.mjs
file update:
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..2e24ef11b301eb979c387da4466385763ea60211
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,9 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +18,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +47,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +68,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +107,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +151,51 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');

file update:
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..2e24ef11b301eb979c387da4466385763ea60211
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,9 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +18,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +47,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +68,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +107,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +151,51 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');


thinking
**Preparing to run tests with new imports**
exec
bash -lc 'node --test test/directory-helpers.test.mjs' in /var/home/rick/Development/mega-directory/astro exited 1 in 302ms:
TAP version 13
# file:///var/home/rick/Development/mega-directory/astro/test/directory-helpers.test.mjs:8
#   buildDirectorySubcategories,
#   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
# SyntaxError: The requested module '../src/lib/directory-helpers.js' does not provide an export named 'buildDirectorySubcategories'
#     at ModuleJob._instantiate (node:internal/modules/esm/module_job:228:21)
#     at async ModuleJob.run (node:internal/modules/esm/module_job:337:5)
#     at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:665:26)
#     at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
# Node.js v22.20.0
# Subtest: test/directory-helpers.test.mjs
not ok 1 - test/directory-helpers.test.mjs
  ---
  duration_ms: 130.176597
  type: 'test'
  location: '/var/home/rick/Development/mega-directory/astro/test/directory-helpers.test.mjs:1:1'
  failureType: 'testCodeFailure'
  exitCode: 1
  signal: ~
  error: 'test failed'
file update:
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..2e24ef11b301eb979c387da4466385763ea60211
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,9 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +18,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +47,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +68,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +107,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +151,51 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');


thinking
**Updating plan status after test verification**
Plan update
  ‚úì Review directory data/tests to decide how to model subcategories and plan helper API for filtering.
  ‚úì Add/adjust automated tests + data fixtures for subcategory metadata and filtering behavior (expect failures).
  ‚Üí Implement data, helper, and UI updates (pages/components/styles) plus new subcategory route to satisfy tests and functionality.
  ‚Ä¢ Run relevant tests/builds and verify results, then summarize changes.
file update:
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..2e24ef11b301eb979c387da4466385763ea60211
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,9 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +18,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +47,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +68,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +107,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +151,51 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');


thinking
**Starting implementation tasks**
exec
bash -lc "sed -n '1,240p' astro/src/lib/directory-helpers.js" in /var/home/rick/Development/mega-directory succeeded in 40ms:
const FALLBACK_SCORE = -Infinity;

const normalizeScore = (value) =>
  typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;

const normalizeSlug = (value) =>
  String(value ?? '')
    .trim()
    .toLowerCase()
    .replace(/[^a-z0-9]+/g, '-')
    .replace(/^-+|-+$/g, '') || 'directory';

export function sortListingsByScore(listings = []) {
  if (!Array.isArray(listings)) {
    return [];
  }
  return [...listings].sort((a, b) => normalizeScore(b?.score) - normalizeScore(a?.score));
}

export function buildDirectoryPath(categorySlug, locationSlug) {
file update:
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..2e24ef11b301eb979c387da4466385763ea60211
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,9 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +18,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +47,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +68,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +107,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +151,51 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');




thinking
**Implementing subcategory exports and helpers**
thinking
**Designing shared DirectoryPage component and subcategory navigation UI**

I'll create a presentational DirectoryPage component to consolidate page markup and accept precomputed props like listings, nav items, and filters. This will let both base and subcategory routes reuse layout and show subcategory filter navigation with counts and descriptions, using accessible, styled pills powered by TailwindCSS. I'll plan the subcategory route file next.
thinking
**Planning subcategory route and shared navigation helpers**

I'm outlining the new subcategory page that mirrors the base page but reads active subcategory from route params and sets up static paths accordingly. To avoid code duplication, I'll create and export shared helper functions to build subcategory nav items with counts, URLs, and active state inside directory-helpers.js, ensuring consistent data and simpler page logic. Adding tests for these helpers will help keep things reliable.
file update
M /var/home/rick/Development/mega-directory/astro/src/lib/directory-helpers.js
@@ -5,4 +5,4 @@
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
@@ -10,4 +10,44 @@
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
@@ -30,2 +70,13 @@
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
@@ -139 +190,106 @@
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
apply_patch(auto_approved=true) exited 0 in 8ms:
Success. Updated the following files:
M astro/src/lib/directory-helpers.js
file update:
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..2e24ef11b301eb979c387da4466385763ea60211
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,9 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +18,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +47,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +68,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +107,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +151,51 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');

file update:
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..2e24ef11b301eb979c387da4466385763ea60211
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,9 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +18,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +47,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +68,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +107,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +151,51 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');


thinking
**Updating imports and tests for new functions**
file update
M /var/home/rick/Development/mega-directory/astro/test/directory-helpers.test.mjs
@@ -8,2 +8,3 @@
   buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
   filterListingsBySubcategory,
@@ -173,2 +174,24 @@
 
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
 test('filterListingsBySubcategory reduces results to a matching slug', () => {
apply_patch(auto_approved=true) exited 0 in 7ms:
Success. Updated the following files:
M astro/test/directory-helpers.test.mjs
file update:
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');

file update:
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');


thinking
**Planning directory data updates**

I‚Äôm making sure the directory filtering logic matches expectations and now planning to update the large data file by adding consistent subcategory arrays to each directory and its listings, carefully matching slugs, names, and descriptions to enable proper filtering and sorting. I'll verify all directories have at least two subcategories and review the full data file to ensure completeness before proceeding.
exec
bash -lc "sed -n '200,520p' astro/src/data/directory-catalog.js" in /var/home/rick/Development/mega-directory succeeded in 45ms:
    listings: [
      {
        slug: 'mission-placement-studio',
        name: 'Mission Placement Studio',
        url: 'https://missionplacement.example.com',
        summary: 'Product + design recruiting with async project previews for candidates.',
        description:
          'Sends candidates Loom walkthroughs, salary ladders, and ramp plans before interviews.',
        badges: ['Product', 'Design systems'],
        score: 81.3,
        scoreTooltip: 'Candidate preparedness + hiring manager CSAT weighting.',
        highlights: ['Bench of bilingual coordinators', 'Portfolio critique workshops'],
        locationLabel: 'Mission District, SF',
      },
      {
        slug: 'summa-search',
        name: 'Summa Search',
        url: 'https://summasearch.example.com',
        summary: 'Go-to-market recruiters for AI tooling startups.',
        description:
file update:
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');


thinking
**Preparing to patch directory listings**
exec
bash -lc "sed -n '1,160p' astro/src/data/directory-catalog.js" in /var/home/rick/Development/mega-directory succeeded in 50ms:
export const directoryCatalog = [
  {
    slug: 'professional-services-new-york-city',
    name: 'NYC Professional Services',
    heroTitle: 'Trusted Pros in New York City',
    heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
    category: {
      slug: 'professional-services',
      name: 'Professional Services',
      description: 'Verified operators for commercial and residential work orders.',
    },
    location: {
      slug: 'new-york-city',
      name: 'New York City',
      state: 'NY',
      country: 'US',
      timezone: 'America/New_York',
    },
    stats: {
      coverage: '5 boroughs',
file update:
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');


thinking
**Continuing to review structure**
exec
bash -lc "sed -n '160,360p' astro/src/data/directory-catalog.js" in /var/home/rick/Development/mega-directory succeeded in 140ms:
        highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
        locationLabel: 'Flatiron, Manhattan',
      },
      {
        slug: 'atlas-talent-lab',
        name: 'Atlas Talent Lab',
        url: 'https://atlastalent.example.com',
        summary: 'Fractional recruiters who spin up TA programs for Series B teams.',
        description:
          'Stand up stack, interview rubrics, and compensation bands in four sprints.',
        badges: ['Fractional', 'Systems setup'],
        score: 73.2,
        scoreTooltip: 'Weighted by onboarding documentation quality.',
        highlights: ['Templates for hiring manager training', 'ATS migrations included'],
        locationLabel: 'SoHo, Manhattan',
      },
    ],
  },
  {
    slug: 'jobs-san-francisco',
file update:
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');


thinking
**Adding subcategories fields with apply_patch**
file update
M /var/home/rick/Development/mega-directory/astro/src/data/directory-catalog.js
@@ -23,2 +23,19 @@
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
@@ -32,2 +49,3 @@
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
@@ -49,2 +67,3 @@
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
@@ -65,2 +84,3 @@
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
apply_patch(auto_approved=true) exited 0 in 794ms:
Success. Updated the following files:
M astro/src/data/directory-catalog.js
file update:
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..3fcd768583e9eb8ff349c0ce11593e9294eeaec1
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');

file update:
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..3fcd768583e9eb8ff349c0ce11593e9294eeaec1
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');


thinking
**Adding subcategories to Denver directory**
file update
M /var/home/rick/Development/mega-directory/astro/src/data/directory-catalog.js
@@ -117,2 +117,14 @@
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
@@ -126,2 +138,3 @@
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
@@ -139,2 +152,3 @@
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
apply_patch(auto_approved=true) exited 0 in 9ms:
Success. Updated the following files:
M astro/src/data/directory-catalog.js
file update:
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..994f0956318e781a62e6162ea2e600bef3e59841
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');

file update:
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..994f0956318e781a62e6162ea2e600bef3e59841
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');


thinking
**Updating jobs directory with subcategories**
file update
M /var/home/rick/Development/mega-directory/astro/src/data/directory-catalog.js
@@ -182,2 +182,19 @@
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
@@ -191,2 +208,3 @@
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
@@ -204,2 +222,3 @@
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
apply_patch(auto_approved=true) exited 0 in 96ms:
Success. Updated the following files:
M astro/src/data/directory-catalog.js
file update:
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..487348bac8db66ab997e0fbd58005145bde1a5c4
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
@@ -146,6 +180,23 @@
       responseSla: 'Candidate intros in 3 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
       {
         slug: 'fifth-avenue-search',
@@ -155,6 +206,7 @@
         description:
           'Runs calibration sprints, candidate memos, and DEI scorecards for every slate.',
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
         scoreTooltip: 'Composite of placement velocity + candidate NPS.',
         highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
@@ -168,6 +220,7 @@
         description:
           'Stand up stack, interview rubrics, and compensation bands in four sprints.',
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
         scoreTooltip: 'Weighted by onboarding documentation quality.',
         highlights: ['Templates for hiring manager training', 'ATS migrations included'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');

file update:
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..487348bac8db66ab997e0fbd58005145bde1a5c4
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
@@ -146,6 +180,23 @@
       responseSla: 'Candidate intros in 3 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
       {
         slug: 'fifth-avenue-search',
@@ -155,6 +206,7 @@
         description:
           'Runs calibration sprints, candidate memos, and DEI scorecards for every slate.',
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
         scoreTooltip: 'Composite of placement velocity + candidate NPS.',
         highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
@@ -168,6 +220,7 @@
         description:
           'Stand up stack, interview rubrics, and compensation bands in four sprints.',
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
         scoreTooltip: 'Weighted by onboarding documentation quality.',
         highlights: ['Templates for hiring manager training', 'ATS migrations included'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');


thinking
**Updating SF jobs directory with subcategories**
file update
M /var/home/rick/Development/mega-directory/astro/src/data/directory-catalog.js
@@ -252,2 +252,14 @@
     },
+    subcategories: [
+      {
+        slug: 'product-design',
+        name: 'Product & Design',
+        description: 'Product, research, and design recruiting partners.',
+      },
+      {
+        slug: 'gtm',
+        name: 'Go-to-Market',
+        description: 'Sales, marketing, and post-sales recruiters with AI focus.',
+      },
+    ],
     listings: [
@@ -261,2 +273,3 @@
         badges: ['Product', 'Design systems'],
+        subcategories: ['product-design'],
         score: 81.3,
@@ -274,2 +287,3 @@
         badges: ['Go-to-market', 'AI'],
+        subcategories: ['gtm'],
         score: 76.7,
apply_patch(auto_approved=true) exited 0 in 9ms:
Success. Updated the following files:
M astro/src/data/directory-catalog.js
file update:
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..b9da09020776f281176aba75e5654c53f2b555ed
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
@@ -146,6 +180,23 @@
       responseSla: 'Candidate intros in 3 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
       {
         slug: 'fifth-avenue-search',
@@ -155,6 +206,7 @@
         description:
           'Runs calibration sprints, candidate memos, and DEI scorecards for every slate.',
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
         scoreTooltip: 'Composite of placement velocity + candidate NPS.',
         highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
@@ -168,6 +220,7 @@
         description:
           'Stand up stack, interview rubrics, and compensation bands in four sprints.',
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
         scoreTooltip: 'Weighted by onboarding documentation quality.',
         highlights: ['Templates for hiring manager training', 'ATS migrations included'],
@@ -197,6 +250,18 @@
       responseSla: 'Shortlists in 5 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'product-design',
+        name: 'Product & Design',
+        description: 'Product, research, and design recruiting partners.',
+      },
+      {
+        slug: 'gtm',
+        name: 'Go-to-Market',
+        description: 'Sales, marketing, and post-sales recruiters with AI focus.',
+      },
+    ],
     listings: [
       {
         slug: 'mission-placement-studio',
@@ -206,6 +271,7 @@
         description:
           'Sends candidates Loom walkthroughs, salary ladders, and ramp plans before interviews.',
         badges: ['Product', 'Design systems'],
+        subcategories: ['product-design'],
         score: 81.3,
         scoreTooltip: 'Candidate preparedness + hiring manager CSAT weighting.',
         highlights: ['Bench of bilingual coordinators', 'Portfolio critique workshops'],
@@ -219,6 +285,7 @@
         description:
           'Run-of-show templates, comp benchmarking, and enablement for first revenue hires.',
         badges: ['Go-to-market', 'AI'],
+        subcategories: ['gtm'],
         score: 76.7,
         scoreTooltip: 'Score includes ramp success tracking 90 days post-hire.',
         highlights: ['Intent-based sourcing', 'Recordings of calibration calls shared'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');

file update:
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..b9da09020776f281176aba75e5654c53f2b555ed
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
@@ -146,6 +180,23 @@
       responseSla: 'Candidate intros in 3 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
       {
         slug: 'fifth-avenue-search',
@@ -155,6 +206,7 @@
         description:
           'Runs calibration sprints, candidate memos, and DEI scorecards for every slate.',
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
         scoreTooltip: 'Composite of placement velocity + candidate NPS.',
         highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
@@ -168,6 +220,7 @@
         description:
           'Stand up stack, interview rubrics, and compensation bands in four sprints.',
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
         scoreTooltip: 'Weighted by onboarding documentation quality.',
         highlights: ['Templates for hiring manager training', 'ATS migrations included'],
@@ -197,6 +250,18 @@
       responseSla: 'Shortlists in 5 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'product-design',
+        name: 'Product & Design',
+        description: 'Product, research, and design recruiting partners.',
+      },
+      {
+        slug: 'gtm',
+        name: 'Go-to-Market',
+        description: 'Sales, marketing, and post-sales recruiters with AI focus.',
+      },
+    ],
     listings: [
       {
         slug: 'mission-placement-studio',
@@ -206,6 +271,7 @@
         description:
           'Sends candidates Loom walkthroughs, salary ladders, and ramp plans before interviews.',
         badges: ['Product', 'Design systems'],
+        subcategories: ['product-design'],
         score: 81.3,
         scoreTooltip: 'Candidate preparedness + hiring manager CSAT weighting.',
         highlights: ['Bench of bilingual coordinators', 'Portfolio critique workshops'],
@@ -219,6 +285,7 @@
         description:
           'Run-of-show templates, comp benchmarking, and enablement for first revenue hires.',
         badges: ['Go-to-market', 'AI'],
+        subcategories: ['gtm'],
         score: 76.7,
         scoreTooltip: 'Score includes ramp success tracking 90 days post-hire.',
         highlights: ['Intent-based sourcing', 'Recordings of calibration calls shared'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');


thinking
**Designing DirectoryPage component with filter UI**

I'm planning to build a new DirectoryPage component that centralizes layout and integrates the new subcategory filter navigation UI for the directory listing pages. I'll ensure it handles props like listings, hero stats, and subcategory navigation while adding accessible attributes and a user-friendly filter summary above the listings. The next step is to implement this component and update pages to use it.
file update
A /var/home/rick/Development/mega-directory/astro/src/components/DirectoryPage.astro
---
import BaseLayout from '../layouts/BaseLayout.astro';
import DirectoryListing from './DirectoryListing.astro';

const {
  directory,
  navItems,
  heroStats,
  listings = [],
  totalListings = listings.length,
  subcategoryNav = [],
} = Astro.props;

const hasSubcategoryNav = subcategoryNav.length > 0;
const activeFilter = hasSubcategoryNav
  ? subcategoryNav.find((item) => item.active) ?? subcategoryNav[0]
  : null;
const filterLabel = activeFilter?.label ?? 'All subcategories';
const filterDescription = activeFilter?.description ?? '';

const filterSummary = hasSubcategoryNav
  ? `Showing ${listings.length} of ${totalListings} listings${
      activeFilter?.slug ? ` filtered to ${filterLabel.toLowerCase()}` : ''
    }.`
  : '';

const filterLinkClass = (isActive) =>
  [
    'inline-flex items-center gap-3 rounded-full border px-4 py-2 text-sm transition',
    'focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-emerald-400',
    isActive
      ? 'border-emerald-400 text-white bg-emerald-400/10'
      : 'border-white/20 text-slate-200 hover:border-emerald-400/80',
  ].join(' ');
---

<BaseLayout
  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
  description={directory.heroSubtitle}
  navItems={navItems}
>
  <section id="hero" class="space-y-6">
    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
      <span class="mx-2 text-slate-600">/</span>
      <span>{directory.category.name}</span>
      <span class="mx-2 text-slate-600">/</span>
      <span>{directory.location.name}</span>
    </nav>
    <div class="space-y-3">
      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
    </div>
    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
      {heroStats.map((stat) => (
        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
        </div>
      ))}
    </dl>
  </section>

  <section id="listings" class="space-y-6">
    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
      <div>
        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
        <p class="text-sm text-slate-400">
          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
          notes and highlights.
        </p>
      </div>
      <div class="text-sm text-slate-400">
        {hasSubcategoryNav ? (
          <>
            {filterSummary} <span aria-live="polite">{filterDescription}</span>
          </>
        ) : (
          <>Updated weekly with crawler + admin data</>
        )}
      </div>
    </div>

    {hasSubcategoryNav && (
      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 sm:p-5">
        <div class="space-y-2">
          <p class="text-xs font-semibold uppercase tracking-[0.3em] text-emerald-300">Subcategories</p>
          <div>
            <h3 class="text-lg font-semibold text-white">{filterLabel}</h3>
            <p class="text-sm text-slate-400">
              Showing {listings.length} of {totalListings} listings
              {activeFilter?.slug ? ` in ${filterLabel.toLowerCase()}` : ''}.
            </p>
            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
          </div>
        </div>
        <div class="mt-4 flex flex-wrap gap-3">
          {subcategoryNav.map((item) => (
            <a
              class={filterLinkClass(item.active)}
              aria-current={item.active ? 'page' : undefined}
              href={item.href}
            >
              <span>{item.label}</span>
              <span class="rounded-full border border-white/20 px-2 py-0.5 text-xs text-slate-300">
                {item.count}
              </span>
            </a>
          ))}
        </div>
      </div>
    )}

    <ol class="space-y-5" role="list">
      {listings.map((listing, index) => (
        <DirectoryListing listing={listing} rank={index + 1} />
      ))}
    </ol>
  </section>

  <section id="review-notes" class="glass-panel space-y-4 p-6">
    <div>
      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
    </div>
    <p class="text-sm text-slate-300">
      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
    </p>
    <p class="text-sm text-slate-400">
      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
      support@megadirectory.local.
    </p>
  </section>
</BaseLayout>
apply_patch(auto_approved=true) exited 0 in 9ms:
Success. Updated the following files:
A astro/src/components/DirectoryPage.astro
file update:
diff --git a/astro/src/components/DirectoryPage.astro b/astro/src/components/DirectoryPage.astro
new file mode 100644
index 0000000000000000000000000000000000000000..74305b45482b356b99da9a6b9ff5eca6acbbdecd
--- /dev/null
+++ b/astro/src/components/DirectoryPage.astro
@@ -0,0 +1,137 @@
+---
+import BaseLayout from '../layouts/BaseLayout.astro';
+import DirectoryListing from './DirectoryListing.astro';
+
+const {
+  directory,
+  navItems,
+  heroStats,
+  listings = [],
+  totalListings = listings.length,
+  subcategoryNav = [],
+} = Astro.props;
+
+const hasSubcategoryNav = subcategoryNav.length > 0;
+const activeFilter = hasSubcategoryNav
+  ? subcategoryNav.find((item) => item.active) ?? subcategoryNav[0]
+  : null;
+const filterLabel = activeFilter?.label ?? 'All subcategories';
+const filterDescription = activeFilter?.description ?? '';
+
+const filterSummary = hasSubcategoryNav
+  ? `Showing ${listings.length} of ${totalListings} listings${
+      activeFilter?.slug ? ` filtered to ${filterLabel.toLowerCase()}` : ''
+    }.`
+  : '';
+
+const filterLinkClass = (isActive) =>
+  [
+    'inline-flex items-center gap-3 rounded-full border px-4 py-2 text-sm transition',
+    'focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-emerald-400',
+    isActive
+      ? 'border-emerald-400 text-white bg-emerald-400/10'
+      : 'border-white/20 text-slate-200 hover:border-emerald-400/80',
+  ].join(' ');
+---
+
+<BaseLayout
+  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
+  description={directory.heroSubtitle}
+  navItems={navItems}
+>
+  <section id="hero" class="space-y-6">
+    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
+      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.category.name}</span>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.location.name}</span>
+    </nav>
+    <div class="space-y-3">
+      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
+      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+    </div>
+    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
+      {heroStats.map((stat) => (
+        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
+          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
+          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
+        </div>
+      ))}
+    </dl>
+  </section>
+
+  <section id="listings" class="space-y-6">
+    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
+      <div>
+        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
+        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
+        <p class="text-sm text-slate-400">
+          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
+          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
+          notes and highlights.
+        </p>
+      </div>
+      <div class="text-sm text-slate-400">
+        {hasSubcategoryNav ? (
+          <>
+            {filterSummary} <span aria-live="polite">{filterDescription}</span>
+          </>
+        ) : (
+          <>Updated weekly with crawler + admin data</>
+        )}
+      </div>
+    </div>
+
+    {hasSubcategoryNav && (
+      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 sm:p-5">
+        <div class="space-y-2">
+          <p class="text-xs font-semibold uppercase tracking-[0.3em] text-emerald-300">Subcategories</p>
+          <div>
+            <h3 class="text-lg font-semibold text-white">{filterLabel}</h3>
+            <p class="text-sm text-slate-400">
+              Showing {listings.length} of {totalListings} listings
+              {activeFilter?.slug ? ` in ${filterLabel.toLowerCase()}` : ''}.
+            </p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        </div>
+        <div class="mt-4 flex flex-wrap gap-3">
+          {subcategoryNav.map((item) => (
+            <a
+              class={filterLinkClass(item.active)}
+              aria-current={item.active ? 'page' : undefined}
+              href={item.href}
+            >
+              <span>{item.label}</span>
+              <span class="rounded-full border border-white/20 px-2 py-0.5 text-xs text-slate-300">
+                {item.count}
+              </span>
+            </a>
+          ))}
+        </div>
+      </div>
+    )}
+
+    <ol class="space-y-5" role="list">
+      {listings.map((listing, index) => (
+        <DirectoryListing listing={listing} rank={index + 1} />
+      ))}
+    </ol>
+  </section>
+
+  <section id="review-notes" class="glass-panel space-y-4 p-6">
+    <div>
+      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
+      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
+    </div>
+    <p class="text-sm text-slate-300">
+      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
+      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
+    </p>
+    <p class="text-sm text-slate-400">
+      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
+      support@megadirectory.local.
+    </p>
+  </section>
+</BaseLayout>
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..b9da09020776f281176aba75e5654c53f2b555ed
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
@@ -146,6 +180,23 @@
       responseSla: 'Candidate intros in 3 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
       {
         slug: 'fifth-avenue-search',
@@ -155,6 +206,7 @@
         description:
           'Runs calibration sprints, candidate memos, and DEI scorecards for every slate.',
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
         scoreTooltip: 'Composite of placement velocity + candidate NPS.',
         highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
@@ -168,6 +220,7 @@
         description:
           'Stand up stack, interview rubrics, and compensation bands in four sprints.',
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
         scoreTooltip: 'Weighted by onboarding documentation quality.',
         highlights: ['Templates for hiring manager training', 'ATS migrations included'],
@@ -197,6 +250,18 @@
       responseSla: 'Shortlists in 5 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'product-design',
+        name: 'Product & Design',
+        description: 'Product, research, and design recruiting partners.',
+      },
+      {
+        slug: 'gtm',
+        name: 'Go-to-Market',
+        description: 'Sales, marketing, and post-sales recruiters with AI focus.',
+      },
+    ],
     listings: [
       {
         slug: 'mission-placement-studio',
@@ -206,6 +271,7 @@
         description:
           'Sends candidates Loom walkthroughs, salary ladders, and ramp plans before interviews.',
         badges: ['Product', 'Design systems'],
+        subcategories: ['product-design'],
         score: 81.3,
         scoreTooltip: 'Candidate preparedness + hiring manager CSAT weighting.',
         highlights: ['Bench of bilingual coordinators', 'Portfolio critique workshops'],
@@ -219,6 +285,7 @@
         description:
           'Run-of-show templates, comp benchmarking, and enablement for first revenue hires.',
         badges: ['Go-to-market', 'AI'],
+        subcategories: ['gtm'],
         score: 76.7,
         scoreTooltip: 'Score includes ramp success tracking 90 days post-hire.',
         highlights: ['Intent-based sourcing', 'Recordings of calibration calls shared'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');

file update:
diff --git a/astro/src/components/DirectoryPage.astro b/astro/src/components/DirectoryPage.astro
new file mode 100644
index 0000000000000000000000000000000000000000..74305b45482b356b99da9a6b9ff5eca6acbbdecd
--- /dev/null
+++ b/astro/src/components/DirectoryPage.astro
@@ -0,0 +1,137 @@
+---
+import BaseLayout from '../layouts/BaseLayout.astro';
+import DirectoryListing from './DirectoryListing.astro';
+
+const {
+  directory,
+  navItems,
+  heroStats,
+  listings = [],
+  totalListings = listings.length,
+  subcategoryNav = [],
+} = Astro.props;
+
+const hasSubcategoryNav = subcategoryNav.length > 0;
+const activeFilter = hasSubcategoryNav
+  ? subcategoryNav.find((item) => item.active) ?? subcategoryNav[0]
+  : null;
+const filterLabel = activeFilter?.label ?? 'All subcategories';
+const filterDescription = activeFilter?.description ?? '';
+
+const filterSummary = hasSubcategoryNav
+  ? `Showing ${listings.length} of ${totalListings} listings${
+      activeFilter?.slug ? ` filtered to ${filterLabel.toLowerCase()}` : ''
+    }.`
+  : '';
+
+const filterLinkClass = (isActive) =>
+  [
+    'inline-flex items-center gap-3 rounded-full border px-4 py-2 text-sm transition',
+    'focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-emerald-400',
+    isActive
+      ? 'border-emerald-400 text-white bg-emerald-400/10'
+      : 'border-white/20 text-slate-200 hover:border-emerald-400/80',
+  ].join(' ');
+---
+
+<BaseLayout
+  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
+  description={directory.heroSubtitle}
+  navItems={navItems}
+>
+  <section id="hero" class="space-y-6">
+    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
+      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.category.name}</span>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.location.name}</span>
+    </nav>
+    <div class="space-y-3">
+      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
+      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+    </div>
+    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
+      {heroStats.map((stat) => (
+        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
+          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
+          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
+        </div>
+      ))}
+    </dl>
+  </section>
+
+  <section id="listings" class="space-y-6">
+    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
+      <div>
+        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
+        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
+        <p class="text-sm text-slate-400">
+          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
+          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
+          notes and highlights.
+        </p>
+      </div>
+      <div class="text-sm text-slate-400">
+        {hasSubcategoryNav ? (
+          <>
+            {filterSummary} <span aria-live="polite">{filterDescription}</span>
+          </>
+        ) : (
+          <>Updated weekly with crawler + admin data</>
+        )}
+      </div>
+    </div>
+
+    {hasSubcategoryNav && (
+      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 sm:p-5">
+        <div class="space-y-2">
+          <p class="text-xs font-semibold uppercase tracking-[0.3em] text-emerald-300">Subcategories</p>
+          <div>
+            <h3 class="text-lg font-semibold text-white">{filterLabel}</h3>
+            <p class="text-sm text-slate-400">
+              Showing {listings.length} of {totalListings} listings
+              {activeFilter?.slug ? ` in ${filterLabel.toLowerCase()}` : ''}.
+            </p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        </div>
+        <div class="mt-4 flex flex-wrap gap-3">
+          {subcategoryNav.map((item) => (
+            <a
+              class={filterLinkClass(item.active)}
+              aria-current={item.active ? 'page' : undefined}
+              href={item.href}
+            >
+              <span>{item.label}</span>
+              <span class="rounded-full border border-white/20 px-2 py-0.5 text-xs text-slate-300">
+                {item.count}
+              </span>
+            </a>
+          ))}
+        </div>
+      </div>
+    )}
+
+    <ol class="space-y-5" role="list">
+      {listings.map((listing, index) => (
+        <DirectoryListing listing={listing} rank={index + 1} />
+      ))}
+    </ol>
+  </section>
+
+  <section id="review-notes" class="glass-panel space-y-4 p-6">
+    <div>
+      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
+      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
+    </div>
+    <p class="text-sm text-slate-300">
+      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
+      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
+    </p>
+    <p class="text-sm text-slate-400">
+      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
+      support@megadirectory.local.
+    </p>
+  </section>
+</BaseLayout>
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..b9da09020776f281176aba75e5654c53f2b555ed
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
@@ -146,6 +180,23 @@
       responseSla: 'Candidate intros in 3 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
       {
         slug: 'fifth-avenue-search',
@@ -155,6 +206,7 @@
         description:
           'Runs calibration sprints, candidate memos, and DEI scorecards for every slate.',
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
         scoreTooltip: 'Composite of placement velocity + candidate NPS.',
         highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
@@ -168,6 +220,7 @@
         description:
           'Stand up stack, interview rubrics, and compensation bands in four sprints.',
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
         scoreTooltip: 'Weighted by onboarding documentation quality.',
         highlights: ['Templates for hiring manager training', 'ATS migrations included'],
@@ -197,6 +250,18 @@
       responseSla: 'Shortlists in 5 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'product-design',
+        name: 'Product & Design',
+        description: 'Product, research, and design recruiting partners.',
+      },
+      {
+        slug: 'gtm',
+        name: 'Go-to-Market',
+        description: 'Sales, marketing, and post-sales recruiters with AI focus.',
+      },
+    ],
     listings: [
       {
         slug: 'mission-placement-studio',
@@ -206,6 +271,7 @@
         description:
           'Sends candidates Loom walkthroughs, salary ladders, and ramp plans before interviews.',
         badges: ['Product', 'Design systems'],
+        subcategories: ['product-design'],
         score: 81.3,
         scoreTooltip: 'Candidate preparedness + hiring manager CSAT weighting.',
         highlights: ['Bench of bilingual coordinators', 'Portfolio critique workshops'],
@@ -219,6 +285,7 @@
         description:
           'Run-of-show templates, comp benchmarking, and enablement for first revenue hires.',
         badges: ['Go-to-market', 'AI'],
+        subcategories: ['gtm'],
         score: 76.7,
         scoreTooltip: 'Score includes ramp success tracking 90 days post-hire.',
         highlights: ['Intent-based sourcing', 'Recordings of calibration calls shared'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');


thinking
**Adjusting filter summary formatting**
file update
M /var/home/rick/Development/mega-directory/astro/src/components/DirectoryPage.astro
@@ -22,3 +22,3 @@
   ? `Showing ${listings.length} of ${totalListings} listings${
-      activeFilter?.slug ? ` filtered to ${filterLabel.toLowerCase()}` : ''
+      activeFilter?.slug ? ` filtered to ${filterLabel}` : ''
     }.`
apply_patch(auto_approved=true) exited 0 in 10ms:
Success. Updated the following files:
M astro/src/components/DirectoryPage.astro
file update:
diff --git a/astro/src/components/DirectoryPage.astro b/astro/src/components/DirectoryPage.astro
new file mode 100644
index 0000000000000000000000000000000000000000..52998b17b039b9553d3e3f2c9446504696222f27
--- /dev/null
+++ b/astro/src/components/DirectoryPage.astro
@@ -0,0 +1,137 @@
+---
+import BaseLayout from '../layouts/BaseLayout.astro';
+import DirectoryListing from './DirectoryListing.astro';
+
+const {
+  directory,
+  navItems,
+  heroStats,
+  listings = [],
+  totalListings = listings.length,
+  subcategoryNav = [],
+} = Astro.props;
+
+const hasSubcategoryNav = subcategoryNav.length > 0;
+const activeFilter = hasSubcategoryNav
+  ? subcategoryNav.find((item) => item.active) ?? subcategoryNav[0]
+  : null;
+const filterLabel = activeFilter?.label ?? 'All subcategories';
+const filterDescription = activeFilter?.description ?? '';
+
+const filterSummary = hasSubcategoryNav
+  ? `Showing ${listings.length} of ${totalListings} listings${
+      activeFilter?.slug ? ` filtered to ${filterLabel}` : ''
+    }.`
+  : '';
+
+const filterLinkClass = (isActive) =>
+  [
+    'inline-flex items-center gap-3 rounded-full border px-4 py-2 text-sm transition',
+    'focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-emerald-400',
+    isActive
+      ? 'border-emerald-400 text-white bg-emerald-400/10'
+      : 'border-white/20 text-slate-200 hover:border-emerald-400/80',
+  ].join(' ');
+---
+
+<BaseLayout
+  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
+  description={directory.heroSubtitle}
+  navItems={navItems}
+>
+  <section id="hero" class="space-y-6">
+    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
+      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.category.name}</span>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.location.name}</span>
+    </nav>
+    <div class="space-y-3">
+      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
+      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+    </div>
+    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
+      {heroStats.map((stat) => (
+        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
+          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
+          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
+        </div>
+      ))}
+    </dl>
+  </section>
+
+  <section id="listings" class="space-y-6">
+    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
+      <div>
+        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
+        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
+        <p class="text-sm text-slate-400">
+          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
+          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
+          notes and highlights.
+        </p>
+      </div>
+      <div class="text-sm text-slate-400">
+        {hasSubcategoryNav ? (
+          <>
+            {filterSummary} <span aria-live="polite">{filterDescription}</span>
+          </>
+        ) : (
+          <>Updated weekly with crawler + admin data</>
+        )}
+      </div>
+    </div>
+
+    {hasSubcategoryNav && (
+      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 sm:p-5">
+        <div class="space-y-2">
+          <p class="text-xs font-semibold uppercase tracking-[0.3em] text-emerald-300">Subcategories</p>
+          <div>
+            <h3 class="text-lg font-semibold text-white">{filterLabel}</h3>
+            <p class="text-sm text-slate-400">
+              Showing {listings.length} of {totalListings} listings
+              {activeFilter?.slug ? ` in ${filterLabel.toLowerCase()}` : ''}.
+            </p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        </div>
+        <div class="mt-4 flex flex-wrap gap-3">
+          {subcategoryNav.map((item) => (
+            <a
+              class={filterLinkClass(item.active)}
+              aria-current={item.active ? 'page' : undefined}
+              href={item.href}
+            >
+              <span>{item.label}</span>
+              <span class="rounded-full border border-white/20 px-2 py-0.5 text-xs text-slate-300">
+                {item.count}
+              </span>
+            </a>
+          ))}
+        </div>
+      </div>
+    )}
+
+    <ol class="space-y-5" role="list">
+      {listings.map((listing, index) => (
+        <DirectoryListing listing={listing} rank={index + 1} />
+      ))}
+    </ol>
+  </section>
+
+  <section id="review-notes" class="glass-panel space-y-4 p-6">
+    <div>
+      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
+      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
+    </div>
+    <p class="text-sm text-slate-300">
+      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
+      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
+    </p>
+    <p class="text-sm text-slate-400">
+      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
+      support@megadirectory.local.
+    </p>
+  </section>
+</BaseLayout>
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..b9da09020776f281176aba75e5654c53f2b555ed
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
@@ -146,6 +180,23 @@
       responseSla: 'Candidate intros in 3 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
       {
         slug: 'fifth-avenue-search',
@@ -155,6 +206,7 @@
         description:
           'Runs calibration sprints, candidate memos, and DEI scorecards for every slate.',
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
         scoreTooltip: 'Composite of placement velocity + candidate NPS.',
         highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
@@ -168,6 +220,7 @@
         description:
           'Stand up stack, interview rubrics, and compensation bands in four sprints.',
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
         scoreTooltip: 'Weighted by onboarding documentation quality.',
         highlights: ['Templates for hiring manager training', 'ATS migrations included'],
@@ -197,6 +250,18 @@
       responseSla: 'Shortlists in 5 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'product-design',
+        name: 'Product & Design',
+        description: 'Product, research, and design recruiting partners.',
+      },
+      {
+        slug: 'gtm',
+        name: 'Go-to-Market',
+        description: 'Sales, marketing, and post-sales recruiters with AI focus.',
+      },
+    ],
     listings: [
       {
         slug: 'mission-placement-studio',
@@ -206,6 +271,7 @@
         description:
           'Sends candidates Loom walkthroughs, salary ladders, and ramp plans before interviews.',
         badges: ['Product', 'Design systems'],
+        subcategories: ['product-design'],
         score: 81.3,
         scoreTooltip: 'Candidate preparedness + hiring manager CSAT weighting.',
         highlights: ['Bench of bilingual coordinators', 'Portfolio critique workshops'],
@@ -219,6 +285,7 @@
         description:
           'Run-of-show templates, comp benchmarking, and enablement for first revenue hires.',
         badges: ['Go-to-market', 'AI'],
+        subcategories: ['gtm'],
         score: 76.7,
         scoreTooltip: 'Score includes ramp success tracking 90 days post-hire.',
         highlights: ['Intent-based sourcing', 'Recordings of calibration calls shared'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');

file update:
diff --git a/astro/src/components/DirectoryPage.astro b/astro/src/components/DirectoryPage.astro
new file mode 100644
index 0000000000000000000000000000000000000000..52998b17b039b9553d3e3f2c9446504696222f27
--- /dev/null
+++ b/astro/src/components/DirectoryPage.astro
@@ -0,0 +1,137 @@
+---
+import BaseLayout from '../layouts/BaseLayout.astro';
+import DirectoryListing from './DirectoryListing.astro';
+
+const {
+  directory,
+  navItems,
+  heroStats,
+  listings = [],
+  totalListings = listings.length,
+  subcategoryNav = [],
+} = Astro.props;
+
+const hasSubcategoryNav = subcategoryNav.length > 0;
+const activeFilter = hasSubcategoryNav
+  ? subcategoryNav.find((item) => item.active) ?? subcategoryNav[0]
+  : null;
+const filterLabel = activeFilter?.label ?? 'All subcategories';
+const filterDescription = activeFilter?.description ?? '';
+
+const filterSummary = hasSubcategoryNav
+  ? `Showing ${listings.length} of ${totalListings} listings${
+      activeFilter?.slug ? ` filtered to ${filterLabel}` : ''
+    }.`
+  : '';
+
+const filterLinkClass = (isActive) =>
+  [
+    'inline-flex items-center gap-3 rounded-full border px-4 py-2 text-sm transition',
+    'focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-emerald-400',
+    isActive
+      ? 'border-emerald-400 text-white bg-emerald-400/10'
+      : 'border-white/20 text-slate-200 hover:border-emerald-400/80',
+  ].join(' ');
+---
+
+<BaseLayout
+  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
+  description={directory.heroSubtitle}
+  navItems={navItems}
+>
+  <section id="hero" class="space-y-6">
+    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
+      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.category.name}</span>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.location.name}</span>
+    </nav>
+    <div class="space-y-3">
+      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
+      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+    </div>
+    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
+      {heroStats.map((stat) => (
+        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
+          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
+          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
+        </div>
+      ))}
+    </dl>
+  </section>
+
+  <section id="listings" class="space-y-6">
+    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
+      <div>
+        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
+        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
+        <p class="text-sm text-slate-400">
+          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
+          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
+          notes and highlights.
+        </p>
+      </div>
+      <div class="text-sm text-slate-400">
+        {hasSubcategoryNav ? (
+          <>
+            {filterSummary} <span aria-live="polite">{filterDescription}</span>
+          </>
+        ) : (
+          <>Updated weekly with crawler + admin data</>
+        )}
+      </div>
+    </div>
+
+    {hasSubcategoryNav && (
+      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 sm:p-5">
+        <div class="space-y-2">
+          <p class="text-xs font-semibold uppercase tracking-[0.3em] text-emerald-300">Subcategories</p>
+          <div>
+            <h3 class="text-lg font-semibold text-white">{filterLabel}</h3>
+            <p class="text-sm text-slate-400">
+              Showing {listings.length} of {totalListings} listings
+              {activeFilter?.slug ? ` in ${filterLabel.toLowerCase()}` : ''}.
+            </p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        </div>
+        <div class="mt-4 flex flex-wrap gap-3">
+          {subcategoryNav.map((item) => (
+            <a
+              class={filterLinkClass(item.active)}
+              aria-current={item.active ? 'page' : undefined}
+              href={item.href}
+            >
+              <span>{item.label}</span>
+              <span class="rounded-full border border-white/20 px-2 py-0.5 text-xs text-slate-300">
+                {item.count}
+              </span>
+            </a>
+          ))}
+        </div>
+      </div>
+    )}
+
+    <ol class="space-y-5" role="list">
+      {listings.map((listing, index) => (
+        <DirectoryListing listing={listing} rank={index + 1} />
+      ))}
+    </ol>
+  </section>
+
+  <section id="review-notes" class="glass-panel space-y-4 p-6">
+    <div>
+      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
+      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
+    </div>
+    <p class="text-sm text-slate-300">
+      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
+      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
+    </p>
+    <p class="text-sm text-slate-400">
+      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
+      support@megadirectory.local.
+    </p>
+  </section>
+</BaseLayout>
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..b9da09020776f281176aba75e5654c53f2b555ed
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
@@ -146,6 +180,23 @@
       responseSla: 'Candidate intros in 3 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
       {
         slug: 'fifth-avenue-search',
@@ -155,6 +206,7 @@
         description:
           'Runs calibration sprints, candidate memos, and DEI scorecards for every slate.',
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
         scoreTooltip: 'Composite of placement velocity + candidate NPS.',
         highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
@@ -168,6 +220,7 @@
         description:
           'Stand up stack, interview rubrics, and compensation bands in four sprints.',
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
         scoreTooltip: 'Weighted by onboarding documentation quality.',
         highlights: ['Templates for hiring manager training', 'ATS migrations included'],
@@ -197,6 +250,18 @@
       responseSla: 'Shortlists in 5 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'product-design',
+        name: 'Product & Design',
+        description: 'Product, research, and design recruiting partners.',
+      },
+      {
+        slug: 'gtm',
+        name: 'Go-to-Market',
+        description: 'Sales, marketing, and post-sales recruiters with AI focus.',
+      },
+    ],
     listings: [
       {
         slug: 'mission-placement-studio',
@@ -206,6 +271,7 @@
         description:
           'Sends candidates Loom walkthroughs, salary ladders, and ramp plans before interviews.',
         badges: ['Product', 'Design systems'],
+        subcategories: ['product-design'],
         score: 81.3,
         scoreTooltip: 'Candidate preparedness + hiring manager CSAT weighting.',
         highlights: ['Bench of bilingual coordinators', 'Portfolio critique workshops'],
@@ -219,6 +285,7 @@
         description:
           'Run-of-show templates, comp benchmarking, and enablement for first revenue hires.',
         badges: ['Go-to-market', 'AI'],
+        subcategories: ['gtm'],
         score: 76.7,
         scoreTooltip: 'Score includes ramp success tracking 90 days post-hire.',
         highlights: ['Intent-based sourcing', 'Recordings of calibration calls shared'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');


thinking
**Adjusting filter label usage**
file update
M /var/home/rick/Development/mega-directory/astro/src/components/DirectoryPage.astro
@@ -93,3 +93,3 @@
               Showing {listings.length} of {totalListings} listings
-              {activeFilter?.slug ? ` in ${filterLabel.toLowerCase()}` : ''}.
+              {activeFilter?.slug ? ` in ${filterLabel}` : ''}.
             </p>
apply_patch(auto_approved=true) exited 0 in 10ms:
Success. Updated the following files:
M astro/src/components/DirectoryPage.astro
file update:
diff --git a/astro/src/components/DirectoryPage.astro b/astro/src/components/DirectoryPage.astro
new file mode 100644
index 0000000000000000000000000000000000000000..5b13a345a26731831b5a2ee93e5b1e93d89afc9d
--- /dev/null
+++ b/astro/src/components/DirectoryPage.astro
@@ -0,0 +1,137 @@
+---
+import BaseLayout from '../layouts/BaseLayout.astro';
+import DirectoryListing from './DirectoryListing.astro';
+
+const {
+  directory,
+  navItems,
+  heroStats,
+  listings = [],
+  totalListings = listings.length,
+  subcategoryNav = [],
+} = Astro.props;
+
+const hasSubcategoryNav = subcategoryNav.length > 0;
+const activeFilter = hasSubcategoryNav
+  ? subcategoryNav.find((item) => item.active) ?? subcategoryNav[0]
+  : null;
+const filterLabel = activeFilter?.label ?? 'All subcategories';
+const filterDescription = activeFilter?.description ?? '';
+
+const filterSummary = hasSubcategoryNav
+  ? `Showing ${listings.length} of ${totalListings} listings${
+      activeFilter?.slug ? ` filtered to ${filterLabel}` : ''
+    }.`
+  : '';
+
+const filterLinkClass = (isActive) =>
+  [
+    'inline-flex items-center gap-3 rounded-full border px-4 py-2 text-sm transition',
+    'focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-emerald-400',
+    isActive
+      ? 'border-emerald-400 text-white bg-emerald-400/10'
+      : 'border-white/20 text-slate-200 hover:border-emerald-400/80',
+  ].join(' ');
+---
+
+<BaseLayout
+  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
+  description={directory.heroSubtitle}
+  navItems={navItems}
+>
+  <section id="hero" class="space-y-6">
+    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
+      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.category.name}</span>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.location.name}</span>
+    </nav>
+    <div class="space-y-3">
+      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
+      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+    </div>
+    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
+      {heroStats.map((stat) => (
+        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
+          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
+          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
+        </div>
+      ))}
+    </dl>
+  </section>
+
+  <section id="listings" class="space-y-6">
+    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
+      <div>
+        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
+        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
+        <p class="text-sm text-slate-400">
+          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
+          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
+          notes and highlights.
+        </p>
+      </div>
+      <div class="text-sm text-slate-400">
+        {hasSubcategoryNav ? (
+          <>
+            {filterSummary} <span aria-live="polite">{filterDescription}</span>
+          </>
+        ) : (
+          <>Updated weekly with crawler + admin data</>
+        )}
+      </div>
+    </div>
+
+    {hasSubcategoryNav && (
+      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 sm:p-5">
+        <div class="space-y-2">
+          <p class="text-xs font-semibold uppercase tracking-[0.3em] text-emerald-300">Subcategories</p>
+          <div>
+            <h3 class="text-lg font-semibold text-white">{filterLabel}</h3>
+            <p class="text-sm text-slate-400">
+              Showing {listings.length} of {totalListings} listings
+              {activeFilter?.slug ? ` in ${filterLabel}` : ''}.
+            </p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        </div>
+        <div class="mt-4 flex flex-wrap gap-3">
+          {subcategoryNav.map((item) => (
+            <a
+              class={filterLinkClass(item.active)}
+              aria-current={item.active ? 'page' : undefined}
+              href={item.href}
+            >
+              <span>{item.label}</span>
+              <span class="rounded-full border border-white/20 px-2 py-0.5 text-xs text-slate-300">
+                {item.count}
+              </span>
+            </a>
+          ))}
+        </div>
+      </div>
+    )}
+
+    <ol class="space-y-5" role="list">
+      {listings.map((listing, index) => (
+        <DirectoryListing listing={listing} rank={index + 1} />
+      ))}
+    </ol>
+  </section>
+
+  <section id="review-notes" class="glass-panel space-y-4 p-6">
+    <div>
+      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
+      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
+    </div>
+    <p class="text-sm text-slate-300">
+      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
+      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
+    </p>
+    <p class="text-sm text-slate-400">
+      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
+      support@megadirectory.local.
+    </p>
+  </section>
+</BaseLayout>
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..b9da09020776f281176aba75e5654c53f2b555ed
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
@@ -146,6 +180,23 @@
       responseSla: 'Candidate intros in 3 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
       {
         slug: 'fifth-avenue-search',
@@ -155,6 +206,7 @@
         description:
           'Runs calibration sprints, candidate memos, and DEI scorecards for every slate.',
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
         scoreTooltip: 'Composite of placement velocity + candidate NPS.',
         highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
@@ -168,6 +220,7 @@
         description:
           'Stand up stack, interview rubrics, and compensation bands in four sprints.',
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
         scoreTooltip: 'Weighted by onboarding documentation quality.',
         highlights: ['Templates for hiring manager training', 'ATS migrations included'],
@@ -197,6 +250,18 @@
       responseSla: 'Shortlists in 5 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'product-design',
+        name: 'Product & Design',
+        description: 'Product, research, and design recruiting partners.',
+      },
+      {
+        slug: 'gtm',
+        name: 'Go-to-Market',
+        description: 'Sales, marketing, and post-sales recruiters with AI focus.',
+      },
+    ],
     listings: [
       {
         slug: 'mission-placement-studio',
@@ -206,6 +271,7 @@
         description:
           'Sends candidates Loom walkthroughs, salary ladders, and ramp plans before interviews.',
         badges: ['Product', 'Design systems'],
+        subcategories: ['product-design'],
         score: 81.3,
         scoreTooltip: 'Candidate preparedness + hiring manager CSAT weighting.',
         highlights: ['Bench of bilingual coordinators', 'Portfolio critique workshops'],
@@ -219,6 +285,7 @@
         description:
           'Run-of-show templates, comp benchmarking, and enablement for first revenue hires.',
         badges: ['Go-to-market', 'AI'],
+        subcategories: ['gtm'],
         score: 76.7,
         scoreTooltip: 'Score includes ramp success tracking 90 days post-hire.',
         highlights: ['Intent-based sourcing', 'Recordings of calibration calls shared'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');

file update:
diff --git a/astro/src/components/DirectoryPage.astro b/astro/src/components/DirectoryPage.astro
new file mode 100644
index 0000000000000000000000000000000000000000..5b13a345a26731831b5a2ee93e5b1e93d89afc9d
--- /dev/null
+++ b/astro/src/components/DirectoryPage.astro
@@ -0,0 +1,137 @@
+---
+import BaseLayout from '../layouts/BaseLayout.astro';
+import DirectoryListing from './DirectoryListing.astro';
+
+const {
+  directory,
+  navItems,
+  heroStats,
+  listings = [],
+  totalListings = listings.length,
+  subcategoryNav = [],
+} = Astro.props;
+
+const hasSubcategoryNav = subcategoryNav.length > 0;
+const activeFilter = hasSubcategoryNav
+  ? subcategoryNav.find((item) => item.active) ?? subcategoryNav[0]
+  : null;
+const filterLabel = activeFilter?.label ?? 'All subcategories';
+const filterDescription = activeFilter?.description ?? '';
+
+const filterSummary = hasSubcategoryNav
+  ? `Showing ${listings.length} of ${totalListings} listings${
+      activeFilter?.slug ? ` filtered to ${filterLabel}` : ''
+    }.`
+  : '';
+
+const filterLinkClass = (isActive) =>
+  [
+    'inline-flex items-center gap-3 rounded-full border px-4 py-2 text-sm transition',
+    'focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-emerald-400',
+    isActive
+      ? 'border-emerald-400 text-white bg-emerald-400/10'
+      : 'border-white/20 text-slate-200 hover:border-emerald-400/80',
+  ].join(' ');
+---
+
+<BaseLayout
+  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
+  description={directory.heroSubtitle}
+  navItems={navItems}
+>
+  <section id="hero" class="space-y-6">
+    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
+      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.category.name}</span>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.location.name}</span>
+    </nav>
+    <div class="space-y-3">
+      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
+      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+    </div>
+    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
+      {heroStats.map((stat) => (
+        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
+          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
+          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
+        </div>
+      ))}
+    </dl>
+  </section>
+
+  <section id="listings" class="space-y-6">
+    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
+      <div>
+        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
+        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
+        <p class="text-sm text-slate-400">
+          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
+          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
+          notes and highlights.
+        </p>
+      </div>
+      <div class="text-sm text-slate-400">
+        {hasSubcategoryNav ? (
+          <>
+            {filterSummary} <span aria-live="polite">{filterDescription}</span>
+          </>
+        ) : (
+          <>Updated weekly with crawler + admin data</>
+        )}
+      </div>
+    </div>
+
+    {hasSubcategoryNav && (
+      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 sm:p-5">
+        <div class="space-y-2">
+          <p class="text-xs font-semibold uppercase tracking-[0.3em] text-emerald-300">Subcategories</p>
+          <div>
+            <h3 class="text-lg font-semibold text-white">{filterLabel}</h3>
+            <p class="text-sm text-slate-400">
+              Showing {listings.length} of {totalListings} listings
+              {activeFilter?.slug ? ` in ${filterLabel}` : ''}.
+            </p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        </div>
+        <div class="mt-4 flex flex-wrap gap-3">
+          {subcategoryNav.map((item) => (
+            <a
+              class={filterLinkClass(item.active)}
+              aria-current={item.active ? 'page' : undefined}
+              href={item.href}
+            >
+              <span>{item.label}</span>
+              <span class="rounded-full border border-white/20 px-2 py-0.5 text-xs text-slate-300">
+                {item.count}
+              </span>
+            </a>
+          ))}
+        </div>
+      </div>
+    )}
+
+    <ol class="space-y-5" role="list">
+      {listings.map((listing, index) => (
+        <DirectoryListing listing={listing} rank={index + 1} />
+      ))}
+    </ol>
+  </section>
+
+  <section id="review-notes" class="glass-panel space-y-4 p-6">
+    <div>
+      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
+      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
+    </div>
+    <p class="text-sm text-slate-300">
+      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
+      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
+    </p>
+    <p class="text-sm text-slate-400">
+      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
+      support@megadirectory.local.
+    </p>
+  </section>
+</BaseLayout>
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..b9da09020776f281176aba75e5654c53f2b555ed
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
@@ -146,6 +180,23 @@
       responseSla: 'Candidate intros in 3 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
       {
         slug: 'fifth-avenue-search',
@@ -155,6 +206,7 @@
         description:
           'Runs calibration sprints, candidate memos, and DEI scorecards for every slate.',
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
         scoreTooltip: 'Composite of placement velocity + candidate NPS.',
         highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
@@ -168,6 +220,7 @@
         description:
           'Stand up stack, interview rubrics, and compensation bands in four sprints.',
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
         scoreTooltip: 'Weighted by onboarding documentation quality.',
         highlights: ['Templates for hiring manager training', 'ATS migrations included'],
@@ -197,6 +250,18 @@
       responseSla: 'Shortlists in 5 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'product-design',
+        name: 'Product & Design',
+        description: 'Product, research, and design recruiting partners.',
+      },
+      {
+        slug: 'gtm',
+        name: 'Go-to-Market',
+        description: 'Sales, marketing, and post-sales recruiters with AI focus.',
+      },
+    ],
     listings: [
       {
         slug: 'mission-placement-studio',
@@ -206,6 +271,7 @@
         description:
           'Sends candidates Loom walkthroughs, salary ladders, and ramp plans before interviews.',
         badges: ['Product', 'Design systems'],
+        subcategories: ['product-design'],
         score: 81.3,
         scoreTooltip: 'Candidate preparedness + hiring manager CSAT weighting.',
         highlights: ['Bench of bilingual coordinators', 'Portfolio critique workshops'],
@@ -219,6 +285,7 @@
         description:
           'Run-of-show templates, comp benchmarking, and enablement for first revenue hires.',
         badges: ['Go-to-market', 'AI'],
+        subcategories: ['gtm'],
         score: 76.7,
         scoreTooltip: 'Score includes ramp success tracking 90 days post-hire.',
         highlights: ['Intent-based sourcing', 'Recordings of calibration calls shared'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');


thinking
**Improving summary text structure**
file update
M /var/home/rick/Development/mega-directory/astro/src/components/DirectoryPage.astro
@@ -74,9 +74,10 @@
       </div>
-      <div class="text-sm text-slate-400">
+      <div class="text-sm text-slate-400 text-left md:text-right">
         {hasSubcategoryNav ? (
-          <>
-            {filterSummary} <span aria-live="polite">{filterDescription}</span>
-          </>
+          <div class="space-y-1">
+            <p>{filterSummary}</p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
         ) : (
-          <>Updated weekly with crawler + admin data</>
+          <p>Updated weekly with crawler + admin data</p>
         )}
apply_patch(auto_approved=true) exited 0 in 9ms:
Success. Updated the following files:
M astro/src/components/DirectoryPage.astro
file update:
diff --git a/astro/src/components/DirectoryPage.astro b/astro/src/components/DirectoryPage.astro
new file mode 100644
index 0000000000000000000000000000000000000000..858b251c7b2e7ec90a5b83ef09e3406ea61afb35
--- /dev/null
+++ b/astro/src/components/DirectoryPage.astro
@@ -0,0 +1,138 @@
+---
+import BaseLayout from '../layouts/BaseLayout.astro';
+import DirectoryListing from './DirectoryListing.astro';
+
+const {
+  directory,
+  navItems,
+  heroStats,
+  listings = [],
+  totalListings = listings.length,
+  subcategoryNav = [],
+} = Astro.props;
+
+const hasSubcategoryNav = subcategoryNav.length > 0;
+const activeFilter = hasSubcategoryNav
+  ? subcategoryNav.find((item) => item.active) ?? subcategoryNav[0]
+  : null;
+const filterLabel = activeFilter?.label ?? 'All subcategories';
+const filterDescription = activeFilter?.description ?? '';
+
+const filterSummary = hasSubcategoryNav
+  ? `Showing ${listings.length} of ${totalListings} listings${
+      activeFilter?.slug ? ` filtered to ${filterLabel}` : ''
+    }.`
+  : '';
+
+const filterLinkClass = (isActive) =>
+  [
+    'inline-flex items-center gap-3 rounded-full border px-4 py-2 text-sm transition',
+    'focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-emerald-400',
+    isActive
+      ? 'border-emerald-400 text-white bg-emerald-400/10'
+      : 'border-white/20 text-slate-200 hover:border-emerald-400/80',
+  ].join(' ');
+---
+
+<BaseLayout
+  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
+  description={directory.heroSubtitle}
+  navItems={navItems}
+>
+  <section id="hero" class="space-y-6">
+    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
+      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.category.name}</span>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.location.name}</span>
+    </nav>
+    <div class="space-y-3">
+      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
+      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+    </div>
+    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
+      {heroStats.map((stat) => (
+        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
+          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
+          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
+        </div>
+      ))}
+    </dl>
+  </section>
+
+  <section id="listings" class="space-y-6">
+    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
+      <div>
+        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
+        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
+        <p class="text-sm text-slate-400">
+          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
+          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
+          notes and highlights.
+        </p>
+      </div>
+      <div class="text-sm text-slate-400 text-left md:text-right">
+        {hasSubcategoryNav ? (
+          <div class="space-y-1">
+            <p>{filterSummary}</p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        ) : (
+          <p>Updated weekly with crawler + admin data</p>
+        )}
+      </div>
+    </div>
+
+    {hasSubcategoryNav && (
+      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 sm:p-5">
+        <div class="space-y-2">
+          <p class="text-xs font-semibold uppercase tracking-[0.3em] text-emerald-300">Subcategories</p>
+          <div>
+            <h3 class="text-lg font-semibold text-white">{filterLabel}</h3>
+            <p class="text-sm text-slate-400">
+              Showing {listings.length} of {totalListings} listings
+              {activeFilter?.slug ? ` in ${filterLabel}` : ''}.
+            </p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        </div>
+        <div class="mt-4 flex flex-wrap gap-3">
+          {subcategoryNav.map((item) => (
+            <a
+              class={filterLinkClass(item.active)}
+              aria-current={item.active ? 'page' : undefined}
+              href={item.href}
+            >
+              <span>{item.label}</span>
+              <span class="rounded-full border border-white/20 px-2 py-0.5 text-xs text-slate-300">
+                {item.count}
+              </span>
+            </a>
+          ))}
+        </div>
+      </div>
+    )}
+
+    <ol class="space-y-5" role="list">
+      {listings.map((listing, index) => (
+        <DirectoryListing listing={listing} rank={index + 1} />
+      ))}
+    </ol>
+  </section>
+
+  <section id="review-notes" class="glass-panel space-y-4 p-6">
+    <div>
+      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
+      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
+    </div>
+    <p class="text-sm text-slate-300">
+      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
+      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
+    </p>
+    <p class="text-sm text-slate-400">
+      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
+      support@megadirectory.local.
+    </p>
+  </section>
+</BaseLayout>
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..b9da09020776f281176aba75e5654c53f2b555ed
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
@@ -146,6 +180,23 @@
       responseSla: 'Candidate intros in 3 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
       {
         slug: 'fifth-avenue-search',
@@ -155,6 +206,7 @@
         description:
           'Runs calibration sprints, candidate memos, and DEI scorecards for every slate.',
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
         scoreTooltip: 'Composite of placement velocity + candidate NPS.',
         highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
@@ -168,6 +220,7 @@
         description:
           'Stand up stack, interview rubrics, and compensation bands in four sprints.',
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
         scoreTooltip: 'Weighted by onboarding documentation quality.',
         highlights: ['Templates for hiring manager training', 'ATS migrations included'],
@@ -197,6 +250,18 @@
       responseSla: 'Shortlists in 5 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'product-design',
+        name: 'Product & Design',
+        description: 'Product, research, and design recruiting partners.',
+      },
+      {
+        slug: 'gtm',
+        name: 'Go-to-Market',
+        description: 'Sales, marketing, and post-sales recruiters with AI focus.',
+      },
+    ],
     listings: [
       {
         slug: 'mission-placement-studio',
@@ -206,6 +271,7 @@
         description:
           'Sends candidates Loom walkthroughs, salary ladders, and ramp plans before interviews.',
         badges: ['Product', 'Design systems'],
+        subcategories: ['product-design'],
         score: 81.3,
         scoreTooltip: 'Candidate preparedness + hiring manager CSAT weighting.',
         highlights: ['Bench of bilingual coordinators', 'Portfolio critique workshops'],
@@ -219,6 +285,7 @@
         description:
           'Run-of-show templates, comp benchmarking, and enablement for first revenue hires.',
         badges: ['Go-to-market', 'AI'],
+        subcategories: ['gtm'],
         score: 76.7,
         scoreTooltip: 'Score includes ramp success tracking 90 days post-hire.',
         highlights: ['Intent-based sourcing', 'Recordings of calibration calls shared'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');

file update:
diff --git a/astro/src/components/DirectoryPage.astro b/astro/src/components/DirectoryPage.astro
new file mode 100644
index 0000000000000000000000000000000000000000..858b251c7b2e7ec90a5b83ef09e3406ea61afb35
--- /dev/null
+++ b/astro/src/components/DirectoryPage.astro
@@ -0,0 +1,138 @@
+---
+import BaseLayout from '../layouts/BaseLayout.astro';
+import DirectoryListing from './DirectoryListing.astro';
+
+const {
+  directory,
+  navItems,
+  heroStats,
+  listings = [],
+  totalListings = listings.length,
+  subcategoryNav = [],
+} = Astro.props;
+
+const hasSubcategoryNav = subcategoryNav.length > 0;
+const activeFilter = hasSubcategoryNav
+  ? subcategoryNav.find((item) => item.active) ?? subcategoryNav[0]
+  : null;
+const filterLabel = activeFilter?.label ?? 'All subcategories';
+const filterDescription = activeFilter?.description ?? '';
+
+const filterSummary = hasSubcategoryNav
+  ? `Showing ${listings.length} of ${totalListings} listings${
+      activeFilter?.slug ? ` filtered to ${filterLabel}` : ''
+    }.`
+  : '';
+
+const filterLinkClass = (isActive) =>
+  [
+    'inline-flex items-center gap-3 rounded-full border px-4 py-2 text-sm transition',
+    'focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-emerald-400',
+    isActive
+      ? 'border-emerald-400 text-white bg-emerald-400/10'
+      : 'border-white/20 text-slate-200 hover:border-emerald-400/80',
+  ].join(' ');
+---
+
+<BaseLayout
+  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
+  description={directory.heroSubtitle}
+  navItems={navItems}
+>
+  <section id="hero" class="space-y-6">
+    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
+      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.category.name}</span>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.location.name}</span>
+    </nav>
+    <div class="space-y-3">
+      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
+      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+    </div>
+    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
+      {heroStats.map((stat) => (
+        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
+          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
+          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
+        </div>
+      ))}
+    </dl>
+  </section>
+
+  <section id="listings" class="space-y-6">
+    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
+      <div>
+        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
+        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
+        <p class="text-sm text-slate-400">
+          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
+          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
+          notes and highlights.
+        </p>
+      </div>
+      <div class="text-sm text-slate-400 text-left md:text-right">
+        {hasSubcategoryNav ? (
+          <div class="space-y-1">
+            <p>{filterSummary}</p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        ) : (
+          <p>Updated weekly with crawler + admin data</p>
+        )}
+      </div>
+    </div>
+
+    {hasSubcategoryNav && (
+      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 sm:p-5">
+        <div class="space-y-2">
+          <p class="text-xs font-semibold uppercase tracking-[0.3em] text-emerald-300">Subcategories</p>
+          <div>
+            <h3 class="text-lg font-semibold text-white">{filterLabel}</h3>
+            <p class="text-sm text-slate-400">
+              Showing {listings.length} of {totalListings} listings
+              {activeFilter?.slug ? ` in ${filterLabel}` : ''}.
+            </p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        </div>
+        <div class="mt-4 flex flex-wrap gap-3">
+          {subcategoryNav.map((item) => (
+            <a
+              class={filterLinkClass(item.active)}
+              aria-current={item.active ? 'page' : undefined}
+              href={item.href}
+            >
+              <span>{item.label}</span>
+              <span class="rounded-full border border-white/20 px-2 py-0.5 text-xs text-slate-300">
+                {item.count}
+              </span>
+            </a>
+          ))}
+        </div>
+      </div>
+    )}
+
+    <ol class="space-y-5" role="list">
+      {listings.map((listing, index) => (
+        <DirectoryListing listing={listing} rank={index + 1} />
+      ))}
+    </ol>
+  </section>
+
+  <section id="review-notes" class="glass-panel space-y-4 p-6">
+    <div>
+      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
+      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
+    </div>
+    <p class="text-sm text-slate-300">
+      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
+      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
+    </p>
+    <p class="text-sm text-slate-400">
+      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
+      support@megadirectory.local.
+    </p>
+  </section>
+</BaseLayout>
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..b9da09020776f281176aba75e5654c53f2b555ed
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
@@ -146,6 +180,23 @@
       responseSla: 'Candidate intros in 3 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
       {
         slug: 'fifth-avenue-search',
@@ -155,6 +206,7 @@
         description:
           'Runs calibration sprints, candidate memos, and DEI scorecards for every slate.',
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
         scoreTooltip: 'Composite of placement velocity + candidate NPS.',
         highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
@@ -168,6 +220,7 @@
         description:
           'Stand up stack, interview rubrics, and compensation bands in four sprints.',
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
         scoreTooltip: 'Weighted by onboarding documentation quality.',
         highlights: ['Templates for hiring manager training', 'ATS migrations included'],
@@ -197,6 +250,18 @@
       responseSla: 'Shortlists in 5 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'product-design',
+        name: 'Product & Design',
+        description: 'Product, research, and design recruiting partners.',
+      },
+      {
+        slug: 'gtm',
+        name: 'Go-to-Market',
+        description: 'Sales, marketing, and post-sales recruiters with AI focus.',
+      },
+    ],
     listings: [
       {
         slug: 'mission-placement-studio',
@@ -206,6 +271,7 @@
         description:
           'Sends candidates Loom walkthroughs, salary ladders, and ramp plans before interviews.',
         badges: ['Product', 'Design systems'],
+        subcategories: ['product-design'],
         score: 81.3,
         scoreTooltip: 'Candidate preparedness + hiring manager CSAT weighting.',
         highlights: ['Bench of bilingual coordinators', 'Portfolio critique workshops'],
@@ -219,6 +285,7 @@
         description:
           'Run-of-show templates, comp benchmarking, and enablement for first revenue hires.',
         badges: ['Go-to-market', 'AI'],
+        subcategories: ['gtm'],
         score: 76.7,
         scoreTooltip: 'Score includes ramp success tracking 90 days post-hire.',
         highlights: ['Intent-based sourcing', 'Recordings of calibration calls shared'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');


thinking
**Refactoring page to use DirectoryPage component**
file update
D /var/home/rick/Development/mega-directory/astro/src/pages/listings/[category]/[location].astro
---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import DirectoryListing from '../../../components/DirectoryListing.astro';
import { directoryCatalog } from '../../../data/directory-catalog.js';
import { findDirectoryEntry, sortListingsByScore } from '../../../lib/directory-helpers.js';

export function getStaticPaths() {
  return directoryCatalog.map((directory) => ({
    params: {
      category: directory.category.slug,
      location: directory.location.slug,
    },
  }));
}

const { category, location } = Astro.params;
const directory = findDirectoryEntry(directoryCatalog, category, location);

if (!directory) {
  throw new Error(`Directory not found for ${category}/${location}`);
}

const sortedListings = sortListingsByScore(directory.listings);
const averageScore =
  sortedListings.length === 0
    ? '0.0'
    : (
        sortedListings.reduce((sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0), 0) /
        sortedListings.length
      ).toFixed(1);

const navItems = [
  { href: '#hero', label: 'Overview' },
  { href: '#listings', label: 'Listings' },
  { href: '#review-notes', label: 'Notes' },
];

const heroStats = [
  { label: 'Listings live', value: sortedListings.length },
  { label: 'Avg score', value: averageScore },
  { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
  { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
];
---

<BaseLayout
  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
  description={directory.heroSubtitle}
  navItems={navItems}
>
  <section id="hero" class="space-y-6">
    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
      <span class="mx-2 text-slate-600">/</span>
      <span>{directory.category.name}</span>
      <span class="mx-2 text-slate-600">/</span>
      <span>{directory.location.name}</span>
    </nav>
    <div class="space-y-3">
      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
    </div>
    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
      {heroStats.map((stat) => (
        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
        </div>
      ))}
    </dl>
  </section>

  <section id="listings" class="space-y-6">
    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
      <div>
        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
        <p class="text-sm text-slate-400">
          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
          notes and highlights.
        </p>
      </div>
      <p class="text-sm text-slate-400">Updated weekly with crawler + admin data</p>
    </div>
    <ol class="space-y-5" role="list">
      {sortedListings.map((listing, index) => (
        <DirectoryListing listing={listing} rank={index + 1} />
      ))}
    </ol>
  </section>

  <section id="review-notes" class="glass-panel space-y-4 p-6">
    <div>
      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
    </div>
    <p class="text-sm text-slate-300">
      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
    </p>
    <p class="text-sm text-slate-400">
      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
      support@megadirectory.local.
    </p>
  </section>
</BaseLayout>
apply_patch(auto_approved=true) exited 0 in 12ms:
Success. Updated the following files:
D astro/src/pages/listings/[category]/[location].astro
file update:
diff --git a/astro/src/components/DirectoryPage.astro b/astro/src/components/DirectoryPage.astro
new file mode 100644
index 0000000000000000000000000000000000000000..858b251c7b2e7ec90a5b83ef09e3406ea61afb35
--- /dev/null
+++ b/astro/src/components/DirectoryPage.astro
@@ -0,0 +1,138 @@
+---
+import BaseLayout from '../layouts/BaseLayout.astro';
+import DirectoryListing from './DirectoryListing.astro';
+
+const {
+  directory,
+  navItems,
+  heroStats,
+  listings = [],
+  totalListings = listings.length,
+  subcategoryNav = [],
+} = Astro.props;
+
+const hasSubcategoryNav = subcategoryNav.length > 0;
+const activeFilter = hasSubcategoryNav
+  ? subcategoryNav.find((item) => item.active) ?? subcategoryNav[0]
+  : null;
+const filterLabel = activeFilter?.label ?? 'All subcategories';
+const filterDescription = activeFilter?.description ?? '';
+
+const filterSummary = hasSubcategoryNav
+  ? `Showing ${listings.length} of ${totalListings} listings${
+      activeFilter?.slug ? ` filtered to ${filterLabel}` : ''
+    }.`
+  : '';
+
+const filterLinkClass = (isActive) =>
+  [
+    'inline-flex items-center gap-3 rounded-full border px-4 py-2 text-sm transition',
+    'focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-emerald-400',
+    isActive
+      ? 'border-emerald-400 text-white bg-emerald-400/10'
+      : 'border-white/20 text-slate-200 hover:border-emerald-400/80',
+  ].join(' ');
+---
+
+<BaseLayout
+  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
+  description={directory.heroSubtitle}
+  navItems={navItems}
+>
+  <section id="hero" class="space-y-6">
+    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
+      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.category.name}</span>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.location.name}</span>
+    </nav>
+    <div class="space-y-3">
+      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
+      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+    </div>
+    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
+      {heroStats.map((stat) => (
+        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
+          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
+          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
+        </div>
+      ))}
+    </dl>
+  </section>
+
+  <section id="listings" class="space-y-6">
+    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
+      <div>
+        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
+        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
+        <p class="text-sm text-slate-400">
+          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
+          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
+          notes and highlights.
+        </p>
+      </div>
+      <div class="text-sm text-slate-400 text-left md:text-right">
+        {hasSubcategoryNav ? (
+          <div class="space-y-1">
+            <p>{filterSummary}</p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        ) : (
+          <p>Updated weekly with crawler + admin data</p>
+        )}
+      </div>
+    </div>
+
+    {hasSubcategoryNav && (
+      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 sm:p-5">
+        <div class="space-y-2">
+          <p class="text-xs font-semibold uppercase tracking-[0.3em] text-emerald-300">Subcategories</p>
+          <div>
+            <h3 class="text-lg font-semibold text-white">{filterLabel}</h3>
+            <p class="text-sm text-slate-400">
+              Showing {listings.length} of {totalListings} listings
+              {activeFilter?.slug ? ` in ${filterLabel}` : ''}.
+            </p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        </div>
+        <div class="mt-4 flex flex-wrap gap-3">
+          {subcategoryNav.map((item) => (
+            <a
+              class={filterLinkClass(item.active)}
+              aria-current={item.active ? 'page' : undefined}
+              href={item.href}
+            >
+              <span>{item.label}</span>
+              <span class="rounded-full border border-white/20 px-2 py-0.5 text-xs text-slate-300">
+                {item.count}
+              </span>
+            </a>
+          ))}
+        </div>
+      </div>
+    )}
+
+    <ol class="space-y-5" role="list">
+      {listings.map((listing, index) => (
+        <DirectoryListing listing={listing} rank={index + 1} />
+      ))}
+    </ol>
+  </section>
+
+  <section id="review-notes" class="glass-panel space-y-4 p-6">
+    <div>
+      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
+      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
+    </div>
+    <p class="text-sm text-slate-300">
+      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
+      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
+    </p>
+    <p class="text-sm text-slate-400">
+      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
+      support@megadirectory.local.
+    </p>
+  </section>
+</BaseLayout>
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..b9da09020776f281176aba75e5654c53f2b555ed
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
@@ -146,6 +180,23 @@
       responseSla: 'Candidate intros in 3 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
       {
         slug: 'fifth-avenue-search',
@@ -155,6 +206,7 @@
         description:
           'Runs calibration sprints, candidate memos, and DEI scorecards for every slate.',
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
         scoreTooltip: 'Composite of placement velocity + candidate NPS.',
         highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
@@ -168,6 +220,7 @@
         description:
           'Stand up stack, interview rubrics, and compensation bands in four sprints.',
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
         scoreTooltip: 'Weighted by onboarding documentation quality.',
         highlights: ['Templates for hiring manager training', 'ATS migrations included'],
@@ -197,6 +250,18 @@
       responseSla: 'Shortlists in 5 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'product-design',
+        name: 'Product & Design',
+        description: 'Product, research, and design recruiting partners.',
+      },
+      {
+        slug: 'gtm',
+        name: 'Go-to-Market',
+        description: 'Sales, marketing, and post-sales recruiters with AI focus.',
+      },
+    ],
     listings: [
       {
         slug: 'mission-placement-studio',
@@ -206,6 +271,7 @@
         description:
           'Sends candidates Loom walkthroughs, salary ladders, and ramp plans before interviews.',
         badges: ['Product', 'Design systems'],
+        subcategories: ['product-design'],
         score: 81.3,
         scoreTooltip: 'Candidate preparedness + hiring manager CSAT weighting.',
         highlights: ['Bench of bilingual coordinators', 'Portfolio critique workshops'],
@@ -219,6 +285,7 @@
         description:
           'Run-of-show templates, comp benchmarking, and enablement for first revenue hires.',
         badges: ['Go-to-market', 'AI'],
+        subcategories: ['gtm'],
         score: 76.7,
         scoreTooltip: 'Score includes ramp success tracking 90 days post-hire.',
         highlights: ['Intent-based sourcing', 'Recordings of calibration calls shared'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/src/pages/listings/[category]/[location].astro b/astro/src/pages/listings/[category]/[location].astro
deleted file mode 100644
index 57ef772e43ca04ff1316ce1ea1ca1ba7936f12ad..0000000000000000000000000000000000000000
--- a/astro/src/pages/listings/[category]/[location].astro
+++ /dev/null
@@ -1,107 +0,0 @@
----
-import BaseLayout from '../../../layouts/BaseLayout.astro';
-import DirectoryListing from '../../../components/DirectoryListing.astro';
-import { directoryCatalog } from '../../../data/directory-catalog.js';
-import { findDirectoryEntry, sortListingsByScore } from '../../../lib/directory-helpers.js';
-
-export function getStaticPaths() {
-  return directoryCatalog.map((directory) => ({
-    params: {
-      category: directory.category.slug,
-      location: directory.location.slug,
-    },
-  }));
-}
-
-const { category, location } = Astro.params;
-const directory = findDirectoryEntry(directoryCatalog, category, location);
-
-if (!directory) {
-  throw new Error(`Directory not found for ${category}/${location}`);
-}
-
-const sortedListings = sortListingsByScore(directory.listings);
-const averageScore =
-  sortedListings.length === 0
-    ? '0.0'
-    : (
-        sortedListings.reduce((sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0), 0) /
-        sortedListings.length
-      ).toFixed(1);
-
-const navItems = [
-  { href: '#hero', label: 'Overview' },
-  { href: '#listings', label: 'Listings' },
-  { href: '#review-notes', label: 'Notes' },
-];
-
-const heroStats = [
-  { label: 'Listings live', value: sortedListings.length },
-  { label: 'Avg score', value: averageScore },
-  { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
-  { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
-];
----
-
-<BaseLayout
-  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
-  description={directory.heroSubtitle}
-  navItems={navItems}
->
-  <section id="hero" class="space-y-6">
-    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
-      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.category.name}</span>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.location.name}</span>
-    </nav>
-    <div class="space-y-3">
-      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
-    </div>
-    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
-      {heroStats.map((stat) => (
-        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
-          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
-          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
-        </div>
-      ))}
-    </dl>
-  </section>
-
-  <section id="listings" class="space-y-6">
-    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
-      <div>
-        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
-        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
-        <p class="text-sm text-slate-400">
-          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
-          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
-          notes and highlights.
-        </p>
-      </div>
-      <p class="text-sm text-slate-400">Updated weekly with crawler + admin data</p>
-    </div>
-    <ol class="space-y-5" role="list">
-      {sortedListings.map((listing, index) => (
-        <DirectoryListing listing={listing} rank={index + 1} />
-      ))}
-    </ol>
-  </section>
-
-  <section id="review-notes" class="glass-panel space-y-4 p-6">
-    <div>
-      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
-      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
-    </div>
-    <p class="text-sm text-slate-300">
-      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
-      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
-    </p>
-    <p class="text-sm text-slate-400">
-      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
-      support@megadirectory.local.
-    </p>
-  </section>
-</BaseLayout>
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');

file update:
diff --git a/astro/src/components/DirectoryPage.astro b/astro/src/components/DirectoryPage.astro
new file mode 100644
index 0000000000000000000000000000000000000000..858b251c7b2e7ec90a5b83ef09e3406ea61afb35
--- /dev/null
+++ b/astro/src/components/DirectoryPage.astro
@@ -0,0 +1,138 @@
+---
+import BaseLayout from '../layouts/BaseLayout.astro';
+import DirectoryListing from './DirectoryListing.astro';
+
+const {
+  directory,
+  navItems,
+  heroStats,
+  listings = [],
+  totalListings = listings.length,
+  subcategoryNav = [],
+} = Astro.props;
+
+const hasSubcategoryNav = subcategoryNav.length > 0;
+const activeFilter = hasSubcategoryNav
+  ? subcategoryNav.find((item) => item.active) ?? subcategoryNav[0]
+  : null;
+const filterLabel = activeFilter?.label ?? 'All subcategories';
+const filterDescription = activeFilter?.description ?? '';
+
+const filterSummary = hasSubcategoryNav
+  ? `Showing ${listings.length} of ${totalListings} listings${
+      activeFilter?.slug ? ` filtered to ${filterLabel}` : ''
+    }.`
+  : '';
+
+const filterLinkClass = (isActive) =>
+  [
+    'inline-flex items-center gap-3 rounded-full border px-4 py-2 text-sm transition',
+    'focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-emerald-400',
+    isActive
+      ? 'border-emerald-400 text-white bg-emerald-400/10'
+      : 'border-white/20 text-slate-200 hover:border-emerald-400/80',
+  ].join(' ');
+---
+
+<BaseLayout
+  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
+  description={directory.heroSubtitle}
+  navItems={navItems}
+>
+  <section id="hero" class="space-y-6">
+    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
+      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.category.name}</span>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.location.name}</span>
+    </nav>
+    <div class="space-y-3">
+      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
+      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+    </div>
+    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
+      {heroStats.map((stat) => (
+        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
+          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
+          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
+        </div>
+      ))}
+    </dl>
+  </section>
+
+  <section id="listings" class="space-y-6">
+    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
+      <div>
+        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
+        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
+        <p class="text-sm text-slate-400">
+          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
+          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
+          notes and highlights.
+        </p>
+      </div>
+      <div class="text-sm text-slate-400 text-left md:text-right">
+        {hasSubcategoryNav ? (
+          <div class="space-y-1">
+            <p>{filterSummary}</p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        ) : (
+          <p>Updated weekly with crawler + admin data</p>
+        )}
+      </div>
+    </div>
+
+    {hasSubcategoryNav && (
+      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 sm:p-5">
+        <div class="space-y-2">
+          <p class="text-xs font-semibold uppercase tracking-[0.3em] text-emerald-300">Subcategories</p>
+          <div>
+            <h3 class="text-lg font-semibold text-white">{filterLabel}</h3>
+            <p class="text-sm text-slate-400">
+              Showing {listings.length} of {totalListings} listings
+              {activeFilter?.slug ? ` in ${filterLabel}` : ''}.
+            </p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        </div>
+        <div class="mt-4 flex flex-wrap gap-3">
+          {subcategoryNav.map((item) => (
+            <a
+              class={filterLinkClass(item.active)}
+              aria-current={item.active ? 'page' : undefined}
+              href={item.href}
+            >
+              <span>{item.label}</span>
+              <span class="rounded-full border border-white/20 px-2 py-0.5 text-xs text-slate-300">
+                {item.count}
+              </span>
+            </a>
+          ))}
+        </div>
+      </div>
+    )}
+
+    <ol class="space-y-5" role="list">
+      {listings.map((listing, index) => (
+        <DirectoryListing listing={listing} rank={index + 1} />
+      ))}
+    </ol>
+  </section>
+
+  <section id="review-notes" class="glass-panel space-y-4 p-6">
+    <div>
+      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
+      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
+    </div>
+    <p class="text-sm text-slate-300">
+      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
+      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
+    </p>
+    <p class="text-sm text-slate-400">
+      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
+      support@megadirectory.local.
+    </p>
+  </section>
+</BaseLayout>
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..b9da09020776f281176aba75e5654c53f2b555ed
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
@@ -146,6 +180,23 @@
       responseSla: 'Candidate intros in 3 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
       {
         slug: 'fifth-avenue-search',
@@ -155,6 +206,7 @@
         description:
           'Runs calibration sprints, candidate memos, and DEI scorecards for every slate.',
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
         scoreTooltip: 'Composite of placement velocity + candidate NPS.',
         highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
@@ -168,6 +220,7 @@
         description:
           'Stand up stack, interview rubrics, and compensation bands in four sprints.',
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
         scoreTooltip: 'Weighted by onboarding documentation quality.',
         highlights: ['Templates for hiring manager training', 'ATS migrations included'],
@@ -197,6 +250,18 @@
       responseSla: 'Shortlists in 5 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'product-design',
+        name: 'Product & Design',
+        description: 'Product, research, and design recruiting partners.',
+      },
+      {
+        slug: 'gtm',
+        name: 'Go-to-Market',
+        description: 'Sales, marketing, and post-sales recruiters with AI focus.',
+      },
+    ],
     listings: [
       {
         slug: 'mission-placement-studio',
@@ -206,6 +271,7 @@
         description:
           'Sends candidates Loom walkthroughs, salary ladders, and ramp plans before interviews.',
         badges: ['Product', 'Design systems'],
+        subcategories: ['product-design'],
         score: 81.3,
         scoreTooltip: 'Candidate preparedness + hiring manager CSAT weighting.',
         highlights: ['Bench of bilingual coordinators', 'Portfolio critique workshops'],
@@ -219,6 +285,7 @@
         description:
           'Run-of-show templates, comp benchmarking, and enablement for first revenue hires.',
         badges: ['Go-to-market', 'AI'],
+        subcategories: ['gtm'],
         score: 76.7,
         scoreTooltip: 'Score includes ramp success tracking 90 days post-hire.',
         highlights: ['Intent-based sourcing', 'Recordings of calibration calls shared'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/src/pages/listings/[category]/[location].astro b/astro/src/pages/listings/[category]/[location].astro
deleted file mode 100644
index 57ef772e43ca04ff1316ce1ea1ca1ba7936f12ad..0000000000000000000000000000000000000000
--- a/astro/src/pages/listings/[category]/[location].astro
+++ /dev/null
@@ -1,107 +0,0 @@
----
-import BaseLayout from '../../../layouts/BaseLayout.astro';
-import DirectoryListing from '../../../components/DirectoryListing.astro';
-import { directoryCatalog } from '../../../data/directory-catalog.js';
-import { findDirectoryEntry, sortListingsByScore } from '../../../lib/directory-helpers.js';
-
-export function getStaticPaths() {
-  return directoryCatalog.map((directory) => ({
-    params: {
-      category: directory.category.slug,
-      location: directory.location.slug,
-    },
-  }));
-}
-
-const { category, location } = Astro.params;
-const directory = findDirectoryEntry(directoryCatalog, category, location);
-
-if (!directory) {
-  throw new Error(`Directory not found for ${category}/${location}`);
-}
-
-const sortedListings = sortListingsByScore(directory.listings);
-const averageScore =
-  sortedListings.length === 0
-    ? '0.0'
-    : (
-        sortedListings.reduce((sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0), 0) /
-        sortedListings.length
-      ).toFixed(1);
-
-const navItems = [
-  { href: '#hero', label: 'Overview' },
-  { href: '#listings', label: 'Listings' },
-  { href: '#review-notes', label: 'Notes' },
-];
-
-const heroStats = [
-  { label: 'Listings live', value: sortedListings.length },
-  { label: 'Avg score', value: averageScore },
-  { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
-  { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
-];
----
-
-<BaseLayout
-  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
-  description={directory.heroSubtitle}
-  navItems={navItems}
->
-  <section id="hero" class="space-y-6">
-    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
-      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.category.name}</span>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.location.name}</span>
-    </nav>
-    <div class="space-y-3">
-      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
-    </div>
-    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
-      {heroStats.map((stat) => (
-        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
-          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
-          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
-        </div>
-      ))}
-    </dl>
-  </section>
-
-  <section id="listings" class="space-y-6">
-    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
-      <div>
-        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
-        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
-        <p class="text-sm text-slate-400">
-          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
-          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
-          notes and highlights.
-        </p>
-      </div>
-      <p class="text-sm text-slate-400">Updated weekly with crawler + admin data</p>
-    </div>
-    <ol class="space-y-5" role="list">
-      {sortedListings.map((listing, index) => (
-        <DirectoryListing listing={listing} rank={index + 1} />
-      ))}
-    </ol>
-  </section>
-
-  <section id="review-notes" class="glass-panel space-y-4 p-6">
-    <div>
-      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
-      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
-    </div>
-    <p class="text-sm text-slate-300">
-      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
-      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
-    </p>
-    <p class="text-sm text-slate-400">
-      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
-      support@megadirectory.local.
-    </p>
-  </section>
-</BaseLayout>
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');


thinking
**Adding new file with updates**
file update
A /var/home/rick/Development/mega-directory/astro/src/pages/listings/[category]/[location].astro
---
import DirectoryPage from '../../../components/DirectoryPage.astro';
import { directoryCatalog } from '../../../data/directory-catalog.js';
import {
  findDirectoryEntry,
  sortListingsByScore,
  buildSubcategoryFilterNav,
} from '../../../lib/directory-helpers.js';

export function getStaticPaths() {
  return directoryCatalog.map((directory) => ({
    params: {
      category: directory.category.slug,
      location: directory.location.slug,
    },
  }));
}

const { category, location } = Astro.params;
const directory = findDirectoryEntry(directoryCatalog, category, location);

if (!directory) {
  throw new Error(`Directory not found for ${category}/${location}`);
}

const sortedListings = sortListingsByScore(directory.listings);
const averageScore =
  sortedListings.length === 0
    ? '0.0'
    : (
        sortedListings.reduce(
          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
          0,
        ) / sortedListings.length
      ).toFixed(1);

const navItems = [
  { href: '#hero', label: 'Overview' },
  { href: '#listings', label: 'Listings' },
  { href: '#review-notes', label: 'Notes' },
];

const heroStats = [
  { label: 'Listings live', value: sortedListings.length },
  { label: 'Avg score', value: averageScore },
  { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
  { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
];

const subcategoryNav = buildSubcategoryFilterNav(directory);
---

<DirectoryPage
  directory={directory}
  navItems={navItems}
  heroStats={heroStats}
  listings={sortedListings}
  totalListings={sortedListings.length}
  subcategoryNav={subcategoryNav}
/>
apply_patch(auto_approved=true) exited 0 in 19ms:
Success. Updated the following files:
A astro/src/pages/listings/[category]/[location].astro
file update:
diff --git a/astro/src/components/DirectoryPage.astro b/astro/src/components/DirectoryPage.astro
new file mode 100644
index 0000000000000000000000000000000000000000..858b251c7b2e7ec90a5b83ef09e3406ea61afb35
--- /dev/null
+++ b/astro/src/components/DirectoryPage.astro
@@ -0,0 +1,138 @@
+---
+import BaseLayout from '../layouts/BaseLayout.astro';
+import DirectoryListing from './DirectoryListing.astro';
+
+const {
+  directory,
+  navItems,
+  heroStats,
+  listings = [],
+  totalListings = listings.length,
+  subcategoryNav = [],
+} = Astro.props;
+
+const hasSubcategoryNav = subcategoryNav.length > 0;
+const activeFilter = hasSubcategoryNav
+  ? subcategoryNav.find((item) => item.active) ?? subcategoryNav[0]
+  : null;
+const filterLabel = activeFilter?.label ?? 'All subcategories';
+const filterDescription = activeFilter?.description ?? '';
+
+const filterSummary = hasSubcategoryNav
+  ? `Showing ${listings.length} of ${totalListings} listings${
+      activeFilter?.slug ? ` filtered to ${filterLabel}` : ''
+    }.`
+  : '';
+
+const filterLinkClass = (isActive) =>
+  [
+    'inline-flex items-center gap-3 rounded-full border px-4 py-2 text-sm transition',
+    'focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-emerald-400',
+    isActive
+      ? 'border-emerald-400 text-white bg-emerald-400/10'
+      : 'border-white/20 text-slate-200 hover:border-emerald-400/80',
+  ].join(' ');
+---
+
+<BaseLayout
+  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
+  description={directory.heroSubtitle}
+  navItems={navItems}
+>
+  <section id="hero" class="space-y-6">
+    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
+      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.category.name}</span>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.location.name}</span>
+    </nav>
+    <div class="space-y-3">
+      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
+      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+    </div>
+    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
+      {heroStats.map((stat) => (
+        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
+          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
+          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
+        </div>
+      ))}
+    </dl>
+  </section>
+
+  <section id="listings" class="space-y-6">
+    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
+      <div>
+        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
+        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
+        <p class="text-sm text-slate-400">
+          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
+          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
+          notes and highlights.
+        </p>
+      </div>
+      <div class="text-sm text-slate-400 text-left md:text-right">
+        {hasSubcategoryNav ? (
+          <div class="space-y-1">
+            <p>{filterSummary}</p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        ) : (
+          <p>Updated weekly with crawler + admin data</p>
+        )}
+      </div>
+    </div>
+
+    {hasSubcategoryNav && (
+      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 sm:p-5">
+        <div class="space-y-2">
+          <p class="text-xs font-semibold uppercase tracking-[0.3em] text-emerald-300">Subcategories</p>
+          <div>
+            <h3 class="text-lg font-semibold text-white">{filterLabel}</h3>
+            <p class="text-sm text-slate-400">
+              Showing {listings.length} of {totalListings} listings
+              {activeFilter?.slug ? ` in ${filterLabel}` : ''}.
+            </p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        </div>
+        <div class="mt-4 flex flex-wrap gap-3">
+          {subcategoryNav.map((item) => (
+            <a
+              class={filterLinkClass(item.active)}
+              aria-current={item.active ? 'page' : undefined}
+              href={item.href}
+            >
+              <span>{item.label}</span>
+              <span class="rounded-full border border-white/20 px-2 py-0.5 text-xs text-slate-300">
+                {item.count}
+              </span>
+            </a>
+          ))}
+        </div>
+      </div>
+    )}
+
+    <ol class="space-y-5" role="list">
+      {listings.map((listing, index) => (
+        <DirectoryListing listing={listing} rank={index + 1} />
+      ))}
+    </ol>
+  </section>
+
+  <section id="review-notes" class="glass-panel space-y-4 p-6">
+    <div>
+      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
+      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
+    </div>
+    <p class="text-sm text-slate-300">
+      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
+      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
+    </p>
+    <p class="text-sm text-slate-400">
+      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
+      support@megadirectory.local.
+    </p>
+  </section>
+</BaseLayout>
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..b9da09020776f281176aba75e5654c53f2b555ed
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
@@ -146,6 +180,23 @@
       responseSla: 'Candidate intros in 3 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
       {
         slug: 'fifth-avenue-search',
@@ -155,6 +206,7 @@
         description:
           'Runs calibration sprints, candidate memos, and DEI scorecards for every slate.',
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
         scoreTooltip: 'Composite of placement velocity + candidate NPS.',
         highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
@@ -168,6 +220,7 @@
         description:
           'Stand up stack, interview rubrics, and compensation bands in four sprints.',
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
         scoreTooltip: 'Weighted by onboarding documentation quality.',
         highlights: ['Templates for hiring manager training', 'ATS migrations included'],
@@ -197,6 +250,18 @@
       responseSla: 'Shortlists in 5 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'product-design',
+        name: 'Product & Design',
+        description: 'Product, research, and design recruiting partners.',
+      },
+      {
+        slug: 'gtm',
+        name: 'Go-to-Market',
+        description: 'Sales, marketing, and post-sales recruiters with AI focus.',
+      },
+    ],
     listings: [
       {
         slug: 'mission-placement-studio',
@@ -206,6 +271,7 @@
         description:
           'Sends candidates Loom walkthroughs, salary ladders, and ramp plans before interviews.',
         badges: ['Product', 'Design systems'],
+        subcategories: ['product-design'],
         score: 81.3,
         scoreTooltip: 'Candidate preparedness + hiring manager CSAT weighting.',
         highlights: ['Bench of bilingual coordinators', 'Portfolio critique workshops'],
@@ -219,6 +285,7 @@
         description:
           'Run-of-show templates, comp benchmarking, and enablement for first revenue hires.',
         badges: ['Go-to-market', 'AI'],
+        subcategories: ['gtm'],
         score: 76.7,
         scoreTooltip: 'Score includes ramp success tracking 90 days post-hire.',
         highlights: ['Intent-based sourcing', 'Recordings of calibration calls shared'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/src/pages/listings/[category]/[location].astro b/astro/src/pages/listings/[category]/[location].astro
index 57ef772e43ca04ff1316ce1ea1ca1ba7936f12ad..283d4f3be2e43fc85558d5c9948aa8b9c64fe081
--- a/astro/src/pages/listings/[category]/[location].astro
+++ b/astro/src/pages/listings/[category]/[location].astro
@@ -1,8 +1,11 @@
 ---
-import BaseLayout from '../../../layouts/BaseLayout.astro';
-import DirectoryListing from '../../../components/DirectoryListing.astro';
+import DirectoryPage from '../../../components/DirectoryPage.astro';
 import { directoryCatalog } from '../../../data/directory-catalog.js';
-import { findDirectoryEntry, sortListingsByScore } from '../../../lib/directory-helpers.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildSubcategoryFilterNav,
+} from '../../../lib/directory-helpers.js';
 
 export function getStaticPaths() {
   return directoryCatalog.map((directory) => ({
@@ -25,8 +28,10 @@
   sortedListings.length === 0
     ? '0.0'
     : (
-        sortedListings.reduce((sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0), 0) /
-        sortedListings.length
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
       ).toFixed(1);
 
 const navItems = [
@@ -41,67 +46,15 @@
   { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
   { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
 ];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory);
 ---
 
-<BaseLayout
-  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
-  description={directory.heroSubtitle}
+<DirectoryPage
+  directory={directory}
   navItems={navItems}
->
-  <section id="hero" class="space-y-6">
-    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
-      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.category.name}</span>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.location.name}</span>
-    </nav>
-    <div class="space-y-3">
-      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
-    </div>
-    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
-      {heroStats.map((stat) => (
-        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
-          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
-          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
-        </div>
-      ))}
-    </dl>
-  </section>
-
-  <section id="listings" class="space-y-6">
-    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
-      <div>
-        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
-        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
-        <p class="text-sm text-slate-400">
-          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
-          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
-          notes and highlights.
-        </p>
-      </div>
-      <p class="text-sm text-slate-400">Updated weekly with crawler + admin data</p>
-    </div>
-    <ol class="space-y-5" role="list">
-      {sortedListings.map((listing, index) => (
-        <DirectoryListing listing={listing} rank={index + 1} />
-      ))}
-    </ol>
-  </section>
-
-  <section id="review-notes" class="glass-panel space-y-4 p-6">
-    <div>
-      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
-      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
-    </div>
-    <p class="text-sm text-slate-300">
-      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
-      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
-    </p>
-    <p class="text-sm text-slate-400">
-      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
-      support@megadirectory.local.
-    </p>
-  </section>
-</BaseLayout>
+  heroStats={heroStats}
+  listings={sortedListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');

file update:
diff --git a/astro/src/components/DirectoryPage.astro b/astro/src/components/DirectoryPage.astro
new file mode 100644
index 0000000000000000000000000000000000000000..858b251c7b2e7ec90a5b83ef09e3406ea61afb35
--- /dev/null
+++ b/astro/src/components/DirectoryPage.astro
@@ -0,0 +1,138 @@
+---
+import BaseLayout from '../layouts/BaseLayout.astro';
+import DirectoryListing from './DirectoryListing.astro';
+
+const {
+  directory,
+  navItems,
+  heroStats,
+  listings = [],
+  totalListings = listings.length,
+  subcategoryNav = [],
+} = Astro.props;
+
+const hasSubcategoryNav = subcategoryNav.length > 0;
+const activeFilter = hasSubcategoryNav
+  ? subcategoryNav.find((item) => item.active) ?? subcategoryNav[0]
+  : null;
+const filterLabel = activeFilter?.label ?? 'All subcategories';
+const filterDescription = activeFilter?.description ?? '';
+
+const filterSummary = hasSubcategoryNav
+  ? `Showing ${listings.length} of ${totalListings} listings${
+      activeFilter?.slug ? ` filtered to ${filterLabel}` : ''
+    }.`
+  : '';
+
+const filterLinkClass = (isActive) =>
+  [
+    'inline-flex items-center gap-3 rounded-full border px-4 py-2 text-sm transition',
+    'focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-emerald-400',
+    isActive
+      ? 'border-emerald-400 text-white bg-emerald-400/10'
+      : 'border-white/20 text-slate-200 hover:border-emerald-400/80',
+  ].join(' ');
+---
+
+<BaseLayout
+  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
+  description={directory.heroSubtitle}
+  navItems={navItems}
+>
+  <section id="hero" class="space-y-6">
+    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
+      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.category.name}</span>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.location.name}</span>
+    </nav>
+    <div class="space-y-3">
+      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
+      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+    </div>
+    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
+      {heroStats.map((stat) => (
+        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
+          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
+          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
+        </div>
+      ))}
+    </dl>
+  </section>
+
+  <section id="listings" class="space-y-6">
+    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
+      <div>
+        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
+        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
+        <p class="text-sm text-slate-400">
+          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
+          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
+          notes and highlights.
+        </p>
+      </div>
+      <div class="text-sm text-slate-400 text-left md:text-right">
+        {hasSubcategoryNav ? (
+          <div class="space-y-1">
+            <p>{filterSummary}</p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        ) : (
+          <p>Updated weekly with crawler + admin data</p>
+        )}
+      </div>
+    </div>
+
+    {hasSubcategoryNav && (
+      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 sm:p-5">
+        <div class="space-y-2">
+          <p class="text-xs font-semibold uppercase tracking-[0.3em] text-emerald-300">Subcategories</p>
+          <div>
+            <h3 class="text-lg font-semibold text-white">{filterLabel}</h3>
+            <p class="text-sm text-slate-400">
+              Showing {listings.length} of {totalListings} listings
+              {activeFilter?.slug ? ` in ${filterLabel}` : ''}.
+            </p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        </div>
+        <div class="mt-4 flex flex-wrap gap-3">
+          {subcategoryNav.map((item) => (
+            <a
+              class={filterLinkClass(item.active)}
+              aria-current={item.active ? 'page' : undefined}
+              href={item.href}
+            >
+              <span>{item.label}</span>
+              <span class="rounded-full border border-white/20 px-2 py-0.5 text-xs text-slate-300">
+                {item.count}
+              </span>
+            </a>
+          ))}
+        </div>
+      </div>
+    )}
+
+    <ol class="space-y-5" role="list">
+      {listings.map((listing, index) => (
+        <DirectoryListing listing={listing} rank={index + 1} />
+      ))}
+    </ol>
+  </section>
+
+  <section id="review-notes" class="glass-panel space-y-4 p-6">
+    <div>
+      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
+      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
+    </div>
+    <p class="text-sm text-slate-300">
+      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
+      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
+    </p>
+    <p class="text-sm text-slate-400">
+      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
+      support@megadirectory.local.
+    </p>
+  </section>
+</BaseLayout>
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..b9da09020776f281176aba75e5654c53f2b555ed
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
@@ -146,6 +180,23 @@
       responseSla: 'Candidate intros in 3 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
       {
         slug: 'fifth-avenue-search',
@@ -155,6 +206,7 @@
         description:
           'Runs calibration sprints, candidate memos, and DEI scorecards for every slate.',
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
         scoreTooltip: 'Composite of placement velocity + candidate NPS.',
         highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
@@ -168,6 +220,7 @@
         description:
           'Stand up stack, interview rubrics, and compensation bands in four sprints.',
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
         scoreTooltip: 'Weighted by onboarding documentation quality.',
         highlights: ['Templates for hiring manager training', 'ATS migrations included'],
@@ -197,6 +250,18 @@
       responseSla: 'Shortlists in 5 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'product-design',
+        name: 'Product & Design',
+        description: 'Product, research, and design recruiting partners.',
+      },
+      {
+        slug: 'gtm',
+        name: 'Go-to-Market',
+        description: 'Sales, marketing, and post-sales recruiters with AI focus.',
+      },
+    ],
     listings: [
       {
         slug: 'mission-placement-studio',
@@ -206,6 +271,7 @@
         description:
           'Sends candidates Loom walkthroughs, salary ladders, and ramp plans before interviews.',
         badges: ['Product', 'Design systems'],
+        subcategories: ['product-design'],
         score: 81.3,
         scoreTooltip: 'Candidate preparedness + hiring manager CSAT weighting.',
         highlights: ['Bench of bilingual coordinators', 'Portfolio critique workshops'],
@@ -219,6 +285,7 @@
         description:
           'Run-of-show templates, comp benchmarking, and enablement for first revenue hires.',
         badges: ['Go-to-market', 'AI'],
+        subcategories: ['gtm'],
         score: 76.7,
         scoreTooltip: 'Score includes ramp success tracking 90 days post-hire.',
         highlights: ['Intent-based sourcing', 'Recordings of calibration calls shared'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/src/pages/listings/[category]/[location].astro b/astro/src/pages/listings/[category]/[location].astro
index 57ef772e43ca04ff1316ce1ea1ca1ba7936f12ad..283d4f3be2e43fc85558d5c9948aa8b9c64fe081
--- a/astro/src/pages/listings/[category]/[location].astro
+++ b/astro/src/pages/listings/[category]/[location].astro
@@ -1,8 +1,11 @@
 ---
-import BaseLayout from '../../../layouts/BaseLayout.astro';
-import DirectoryListing from '../../../components/DirectoryListing.astro';
+import DirectoryPage from '../../../components/DirectoryPage.astro';
 import { directoryCatalog } from '../../../data/directory-catalog.js';
-import { findDirectoryEntry, sortListingsByScore } from '../../../lib/directory-helpers.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildSubcategoryFilterNav,
+} from '../../../lib/directory-helpers.js';
 
 export function getStaticPaths() {
   return directoryCatalog.map((directory) => ({
@@ -25,8 +28,10 @@
   sortedListings.length === 0
     ? '0.0'
     : (
-        sortedListings.reduce((sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0), 0) /
-        sortedListings.length
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
       ).toFixed(1);
 
 const navItems = [
@@ -41,67 +46,15 @@
   { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
   { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
 ];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory);
 ---
 
-<BaseLayout
-  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
-  description={directory.heroSubtitle}
+<DirectoryPage
+  directory={directory}
   navItems={navItems}
->
-  <section id="hero" class="space-y-6">
-    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
-      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.category.name}</span>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.location.name}</span>
-    </nav>
-    <div class="space-y-3">
-      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
-    </div>
-    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
-      {heroStats.map((stat) => (
-        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
-          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
-          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
-        </div>
-      ))}
-    </dl>
-  </section>
-
-  <section id="listings" class="space-y-6">
-    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
-      <div>
-        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
-        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
-        <p class="text-sm text-slate-400">
-          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
-          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
-          notes and highlights.
-        </p>
-      </div>
-      <p class="text-sm text-slate-400">Updated weekly with crawler + admin data</p>
-    </div>
-    <ol class="space-y-5" role="list">
-      {sortedListings.map((listing, index) => (
-        <DirectoryListing listing={listing} rank={index + 1} />
-      ))}
-    </ol>
-  </section>
-
-  <section id="review-notes" class="glass-panel space-y-4 p-6">
-    <div>
-      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
-      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
-    </div>
-    <p class="text-sm text-slate-300">
-      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
-      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
-    </p>
-    <p class="text-sm text-slate-400">
-      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
-      support@megadirectory.local.
-    </p>
-  </section>
-</BaseLayout>
+  heroStats={heroStats}
+  listings={sortedListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');


thinking
**Adding subcategory route file with correct imports**

I‚Äôm creating a new route file for subcategories that reuses DirectoryPage but includes subcategory filtering. I double-checked all relative import paths to components, data, and helpers to make sure they‚Äôre correct from the deeper nested subcategory folder. I‚Äôll also handle invalid subcategories gracefully by throwing errors when no listings are found.
file update
A /var/home/rick/Development/mega-directory/astro/src/pages/listings/[category]/[location]/[subcategory].astro
---
import DirectoryPage from '../../../../components/DirectoryPage.astro';
import { directoryCatalog } from '../../../../data/directory-catalog.js';
import {
  findDirectoryEntry,
  sortListingsByScore,
  buildDirectorySubcategories,
  buildSubcategoryFilterNav,
  filterListingsBySubcategory,
} from '../../../../lib/directory-helpers.js';

export function getStaticPaths() {
  const paths = [];

  for (const directory of directoryCatalog) {
    const subcategories = buildDirectorySubcategories(directory);
    for (const subcategory of subcategories) {
      paths.push({
        params: {
          category: directory.category.slug,
          location: directory.location.slug,
          subcategory: subcategory.slug,
        },
      });
    }
  }

  return paths;
}

const { category, location, subcategory } = Astro.params;
const directory = findDirectoryEntry(directoryCatalog, category, location);

if (!directory) {
  throw new Error(`Directory not found for ${category}/${location}`);
}

const sortedListings = sortListingsByScore(directory.listings);
const filteredListings = filterListingsBySubcategory(sortedListings, subcategory);

if (filteredListings.length === 0) {
  throw new Error(`Subcategory ${subcategory} has no listings for ${category}/${location}`);
}

const averageScore =
  sortedListings.length === 0
    ? '0.0'
    : (
        sortedListings.reduce(
          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
          0,
        ) / sortedListings.length
      ).toFixed(1);

const navItems = [
  { href: '#hero', label: 'Overview' },
  { href: '#listings', label: 'Listings' },
  { href: '#review-notes', label: 'Notes' },
];

const heroStats = [
  { label: 'Listings live', value: sortedListings.length },
  { label: 'Avg score', value: averageScore },
  { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
  { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
];

const subcategoryNav = buildSubcategoryFilterNav(directory, subcategory);
---

<DirectoryPage
  directory={directory}
  navItems={navItems}
  heroStats={heroStats}
  listings={filteredListings}
  totalListings={sortedListings.length}
  subcategoryNav={subcategoryNav}
/>
apply_patch(auto_approved=true) exited 0 in 33ms:
Success. Updated the following files:
A astro/src/pages/listings/[category]/[location]/[subcategory].astro
file update:
diff --git a/astro/src/components/DirectoryPage.astro b/astro/src/components/DirectoryPage.astro
new file mode 100644
index 0000000000000000000000000000000000000000..858b251c7b2e7ec90a5b83ef09e3406ea61afb35
--- /dev/null
+++ b/astro/src/components/DirectoryPage.astro
@@ -0,0 +1,138 @@
+---
+import BaseLayout from '../layouts/BaseLayout.astro';
+import DirectoryListing from './DirectoryListing.astro';
+
+const {
+  directory,
+  navItems,
+  heroStats,
+  listings = [],
+  totalListings = listings.length,
+  subcategoryNav = [],
+} = Astro.props;
+
+const hasSubcategoryNav = subcategoryNav.length > 0;
+const activeFilter = hasSubcategoryNav
+  ? subcategoryNav.find((item) => item.active) ?? subcategoryNav[0]
+  : null;
+const filterLabel = activeFilter?.label ?? 'All subcategories';
+const filterDescription = activeFilter?.description ?? '';
+
+const filterSummary = hasSubcategoryNav
+  ? `Showing ${listings.length} of ${totalListings} listings${
+      activeFilter?.slug ? ` filtered to ${filterLabel}` : ''
+    }.`
+  : '';
+
+const filterLinkClass = (isActive) =>
+  [
+    'inline-flex items-center gap-3 rounded-full border px-4 py-2 text-sm transition',
+    'focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-emerald-400',
+    isActive
+      ? 'border-emerald-400 text-white bg-emerald-400/10'
+      : 'border-white/20 text-slate-200 hover:border-emerald-400/80',
+  ].join(' ');
+---
+
+<BaseLayout
+  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
+  description={directory.heroSubtitle}
+  navItems={navItems}
+>
+  <section id="hero" class="space-y-6">
+    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
+      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.category.name}</span>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.location.name}</span>
+    </nav>
+    <div class="space-y-3">
+      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
+      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+    </div>
+    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
+      {heroStats.map((stat) => (
+        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
+          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
+          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
+        </div>
+      ))}
+    </dl>
+  </section>
+
+  <section id="listings" class="space-y-6">
+    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
+      <div>
+        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
+        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
+        <p class="text-sm text-slate-400">
+          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
+          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
+          notes and highlights.
+        </p>
+      </div>
+      <div class="text-sm text-slate-400 text-left md:text-right">
+        {hasSubcategoryNav ? (
+          <div class="space-y-1">
+            <p>{filterSummary}</p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        ) : (
+          <p>Updated weekly with crawler + admin data</p>
+        )}
+      </div>
+    </div>
+
+    {hasSubcategoryNav && (
+      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 sm:p-5">
+        <div class="space-y-2">
+          <p class="text-xs font-semibold uppercase tracking-[0.3em] text-emerald-300">Subcategories</p>
+          <div>
+            <h3 class="text-lg font-semibold text-white">{filterLabel}</h3>
+            <p class="text-sm text-slate-400">
+              Showing {listings.length} of {totalListings} listings
+              {activeFilter?.slug ? ` in ${filterLabel}` : ''}.
+            </p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        </div>
+        <div class="mt-4 flex flex-wrap gap-3">
+          {subcategoryNav.map((item) => (
+            <a
+              class={filterLinkClass(item.active)}
+              aria-current={item.active ? 'page' : undefined}
+              href={item.href}
+            >
+              <span>{item.label}</span>
+              <span class="rounded-full border border-white/20 px-2 py-0.5 text-xs text-slate-300">
+                {item.count}
+              </span>
+            </a>
+          ))}
+        </div>
+      </div>
+    )}
+
+    <ol class="space-y-5" role="list">
+      {listings.map((listing, index) => (
+        <DirectoryListing listing={listing} rank={index + 1} />
+      ))}
+    </ol>
+  </section>
+
+  <section id="review-notes" class="glass-panel space-y-4 p-6">
+    <div>
+      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
+      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
+    </div>
+    <p class="text-sm text-slate-300">
+      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
+      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
+    </p>
+    <p class="text-sm text-slate-400">
+      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
+      support@megadirectory.local.
+    </p>
+  </section>
+</BaseLayout>
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..b9da09020776f281176aba75e5654c53f2b555ed
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
@@ -146,6 +180,23 @@
       responseSla: 'Candidate intros in 3 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
       {
         slug: 'fifth-avenue-search',
@@ -155,6 +206,7 @@
         description:
           'Runs calibration sprints, candidate memos, and DEI scorecards for every slate.',
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
         scoreTooltip: 'Composite of placement velocity + candidate NPS.',
         highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
@@ -168,6 +220,7 @@
         description:
           'Stand up stack, interview rubrics, and compensation bands in four sprints.',
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
         scoreTooltip: 'Weighted by onboarding documentation quality.',
         highlights: ['Templates for hiring manager training', 'ATS migrations included'],
@@ -197,6 +250,18 @@
       responseSla: 'Shortlists in 5 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'product-design',
+        name: 'Product & Design',
+        description: 'Product, research, and design recruiting partners.',
+      },
+      {
+        slug: 'gtm',
+        name: 'Go-to-Market',
+        description: 'Sales, marketing, and post-sales recruiters with AI focus.',
+      },
+    ],
     listings: [
       {
         slug: 'mission-placement-studio',
@@ -206,6 +271,7 @@
         description:
           'Sends candidates Loom walkthroughs, salary ladders, and ramp plans before interviews.',
         badges: ['Product', 'Design systems'],
+        subcategories: ['product-design'],
         score: 81.3,
         scoreTooltip: 'Candidate preparedness + hiring manager CSAT weighting.',
         highlights: ['Bench of bilingual coordinators', 'Portfolio critique workshops'],
@@ -219,6 +285,7 @@
         description:
           'Run-of-show templates, comp benchmarking, and enablement for first revenue hires.',
         badges: ['Go-to-market', 'AI'],
+        subcategories: ['gtm'],
         score: 76.7,
         scoreTooltip: 'Score includes ramp success tracking 90 days post-hire.',
         highlights: ['Intent-based sourcing', 'Recordings of calibration calls shared'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/src/pages/listings/[category]/[location].astro b/astro/src/pages/listings/[category]/[location].astro
index 57ef772e43ca04ff1316ce1ea1ca1ba7936f12ad..283d4f3be2e43fc85558d5c9948aa8b9c64fe081
--- a/astro/src/pages/listings/[category]/[location].astro
+++ b/astro/src/pages/listings/[category]/[location].astro
@@ -1,8 +1,11 @@
 ---
-import BaseLayout from '../../../layouts/BaseLayout.astro';
-import DirectoryListing from '../../../components/DirectoryListing.astro';
+import DirectoryPage from '../../../components/DirectoryPage.astro';
 import { directoryCatalog } from '../../../data/directory-catalog.js';
-import { findDirectoryEntry, sortListingsByScore } from '../../../lib/directory-helpers.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildSubcategoryFilterNav,
+} from '../../../lib/directory-helpers.js';
 
 export function getStaticPaths() {
   return directoryCatalog.map((directory) => ({
@@ -25,8 +28,10 @@
   sortedListings.length === 0
     ? '0.0'
     : (
-        sortedListings.reduce((sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0), 0) /
-        sortedListings.length
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
       ).toFixed(1);
 
 const navItems = [
@@ -41,67 +46,15 @@
   { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
   { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
 ];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory);
 ---
 
-<BaseLayout
-  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
-  description={directory.heroSubtitle}
+<DirectoryPage
+  directory={directory}
   navItems={navItems}
->
-  <section id="hero" class="space-y-6">
-    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
-      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.category.name}</span>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.location.name}</span>
-    </nav>
-    <div class="space-y-3">
-      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
-    </div>
-    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
-      {heroStats.map((stat) => (
-        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
-          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
-          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
-        </div>
-      ))}
-    </dl>
-  </section>
-
-  <section id="listings" class="space-y-6">
-    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
-      <div>
-        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
-        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
-        <p class="text-sm text-slate-400">
-          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
-          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
-          notes and highlights.
-        </p>
-      </div>
-      <p class="text-sm text-slate-400">Updated weekly with crawler + admin data</p>
-    </div>
-    <ol class="space-y-5" role="list">
-      {sortedListings.map((listing, index) => (
-        <DirectoryListing listing={listing} rank={index + 1} />
-      ))}
-    </ol>
-  </section>
-
-  <section id="review-notes" class="glass-panel space-y-4 p-6">
-    <div>
-      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
-      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
-    </div>
-    <p class="text-sm text-slate-300">
-      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
-      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
-    </p>
-    <p class="text-sm text-slate-400">
-      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
-      support@megadirectory.local.
-    </p>
-  </section>
-</BaseLayout>
+  heroStats={heroStats}
+  listings={sortedListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/src/pages/listings/[category]/[location]/[subcategory].astro b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
new file mode 100644
index 0000000000000000000000000000000000000000..3dfdc9d53200fc13343d82aa8afdd126fccc489a
--- /dev/null
+++ b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
@@ -0,0 +1,78 @@
+---
+import DirectoryPage from '../../../../components/DirectoryPage.astro';
+import { directoryCatalog } from '../../../../data/directory-catalog.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
+} from '../../../../lib/directory-helpers.js';
+
+export function getStaticPaths() {
+  const paths = [];
+
+  for (const directory of directoryCatalog) {
+    const subcategories = buildDirectorySubcategories(directory);
+    for (const subcategory of subcategories) {
+      paths.push({
+        params: {
+          category: directory.category.slug,
+          location: directory.location.slug,
+          subcategory: subcategory.slug,
+        },
+      });
+    }
+  }
+
+  return paths;
+}
+
+const { category, location, subcategory } = Astro.params;
+const directory = findDirectoryEntry(directoryCatalog, category, location);
+
+if (!directory) {
+  throw new Error(`Directory not found for ${category}/${location}`);
+}
+
+const sortedListings = sortListingsByScore(directory.listings);
+const filteredListings = filterListingsBySubcategory(sortedListings, subcategory);
+
+if (filteredListings.length === 0) {
+  throw new Error(`Subcategory ${subcategory} has no listings for ${category}/${location}`);
+}
+
+const averageScore =
+  sortedListings.length === 0
+    ? '0.0'
+    : (
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
+      ).toFixed(1);
+
+const navItems = [
+  { href: '#hero', label: 'Overview' },
+  { href: '#listings', label: 'Listings' },
+  { href: '#review-notes', label: 'Notes' },
+];
+
+const heroStats = [
+  { label: 'Listings live', value: sortedListings.length },
+  { label: 'Avg score', value: averageScore },
+  { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
+  { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
+];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory, subcategory);
+---
+
+<DirectoryPage
+  directory={directory}
+  navItems={navItems}
+  heroStats={heroStats}
+  listings={filteredListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');

file update:
diff --git a/astro/src/components/DirectoryPage.astro b/astro/src/components/DirectoryPage.astro
new file mode 100644
index 0000000000000000000000000000000000000000..858b251c7b2e7ec90a5b83ef09e3406ea61afb35
--- /dev/null
+++ b/astro/src/components/DirectoryPage.astro
@@ -0,0 +1,138 @@
+---
+import BaseLayout from '../layouts/BaseLayout.astro';
+import DirectoryListing from './DirectoryListing.astro';
+
+const {
+  directory,
+  navItems,
+  heroStats,
+  listings = [],
+  totalListings = listings.length,
+  subcategoryNav = [],
+} = Astro.props;
+
+const hasSubcategoryNav = subcategoryNav.length > 0;
+const activeFilter = hasSubcategoryNav
+  ? subcategoryNav.find((item) => item.active) ?? subcategoryNav[0]
+  : null;
+const filterLabel = activeFilter?.label ?? 'All subcategories';
+const filterDescription = activeFilter?.description ?? '';
+
+const filterSummary = hasSubcategoryNav
+  ? `Showing ${listings.length} of ${totalListings} listings${
+      activeFilter?.slug ? ` filtered to ${filterLabel}` : ''
+    }.`
+  : '';
+
+const filterLinkClass = (isActive) =>
+  [
+    'inline-flex items-center gap-3 rounded-full border px-4 py-2 text-sm transition',
+    'focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-emerald-400',
+    isActive
+      ? 'border-emerald-400 text-white bg-emerald-400/10'
+      : 'border-white/20 text-slate-200 hover:border-emerald-400/80',
+  ].join(' ');
+---
+
+<BaseLayout
+  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
+  description={directory.heroSubtitle}
+  navItems={navItems}
+>
+  <section id="hero" class="space-y-6">
+    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
+      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.category.name}</span>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.location.name}</span>
+    </nav>
+    <div class="space-y-3">
+      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
+      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+    </div>
+    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
+      {heroStats.map((stat) => (
+        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
+          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
+          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
+        </div>
+      ))}
+    </dl>
+  </section>
+
+  <section id="listings" class="space-y-6">
+    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
+      <div>
+        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
+        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
+        <p class="text-sm text-slate-400">
+          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
+          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
+          notes and highlights.
+        </p>
+      </div>
+      <div class="text-sm text-slate-400 text-left md:text-right">
+        {hasSubcategoryNav ? (
+          <div class="space-y-1">
+            <p>{filterSummary}</p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        ) : (
+          <p>Updated weekly with crawler + admin data</p>
+        )}
+      </div>
+    </div>
+
+    {hasSubcategoryNav && (
+      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 sm:p-5">
+        <div class="space-y-2">
+          <p class="text-xs font-semibold uppercase tracking-[0.3em] text-emerald-300">Subcategories</p>
+          <div>
+            <h3 class="text-lg font-semibold text-white">{filterLabel}</h3>
+            <p class="text-sm text-slate-400">
+              Showing {listings.length} of {totalListings} listings
+              {activeFilter?.slug ? ` in ${filterLabel}` : ''}.
+            </p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        </div>
+        <div class="mt-4 flex flex-wrap gap-3">
+          {subcategoryNav.map((item) => (
+            <a
+              class={filterLinkClass(item.active)}
+              aria-current={item.active ? 'page' : undefined}
+              href={item.href}
+            >
+              <span>{item.label}</span>
+              <span class="rounded-full border border-white/20 px-2 py-0.5 text-xs text-slate-300">
+                {item.count}
+              </span>
+            </a>
+          ))}
+        </div>
+      </div>
+    )}
+
+    <ol class="space-y-5" role="list">
+      {listings.map((listing, index) => (
+        <DirectoryListing listing={listing} rank={index + 1} />
+      ))}
+    </ol>
+  </section>
+
+  <section id="review-notes" class="glass-panel space-y-4 p-6">
+    <div>
+      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
+      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
+    </div>
+    <p class="text-sm text-slate-300">
+      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
+      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
+    </p>
+    <p class="text-sm text-slate-400">
+      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
+      support@megadirectory.local.
+    </p>
+  </section>
+</BaseLayout>
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..b9da09020776f281176aba75e5654c53f2b555ed
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
@@ -146,6 +180,23 @@
       responseSla: 'Candidate intros in 3 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
       {
         slug: 'fifth-avenue-search',
@@ -155,6 +206,7 @@
         description:
           'Runs calibration sprints, candidate memos, and DEI scorecards for every slate.',
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
         scoreTooltip: 'Composite of placement velocity + candidate NPS.',
         highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
@@ -168,6 +220,7 @@
         description:
           'Stand up stack, interview rubrics, and compensation bands in four sprints.',
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
         scoreTooltip: 'Weighted by onboarding documentation quality.',
         highlights: ['Templates for hiring manager training', 'ATS migrations included'],
@@ -197,6 +250,18 @@
       responseSla: 'Shortlists in 5 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'product-design',
+        name: 'Product & Design',
+        description: 'Product, research, and design recruiting partners.',
+      },
+      {
+        slug: 'gtm',
+        name: 'Go-to-Market',
+        description: 'Sales, marketing, and post-sales recruiters with AI focus.',
+      },
+    ],
     listings: [
       {
         slug: 'mission-placement-studio',
@@ -206,6 +271,7 @@
         description:
           'Sends candidates Loom walkthroughs, salary ladders, and ramp plans before interviews.',
         badges: ['Product', 'Design systems'],
+        subcategories: ['product-design'],
         score: 81.3,
         scoreTooltip: 'Candidate preparedness + hiring manager CSAT weighting.',
         highlights: ['Bench of bilingual coordinators', 'Portfolio critique workshops'],
@@ -219,6 +285,7 @@
         description:
           'Run-of-show templates, comp benchmarking, and enablement for first revenue hires.',
         badges: ['Go-to-market', 'AI'],
+        subcategories: ['gtm'],
         score: 76.7,
         scoreTooltip: 'Score includes ramp success tracking 90 days post-hire.',
         highlights: ['Intent-based sourcing', 'Recordings of calibration calls shared'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/src/pages/listings/[category]/[location].astro b/astro/src/pages/listings/[category]/[location].astro
index 57ef772e43ca04ff1316ce1ea1ca1ba7936f12ad..283d4f3be2e43fc85558d5c9948aa8b9c64fe081
--- a/astro/src/pages/listings/[category]/[location].astro
+++ b/astro/src/pages/listings/[category]/[location].astro
@@ -1,8 +1,11 @@
 ---
-import BaseLayout from '../../../layouts/BaseLayout.astro';
-import DirectoryListing from '../../../components/DirectoryListing.astro';
+import DirectoryPage from '../../../components/DirectoryPage.astro';
 import { directoryCatalog } from '../../../data/directory-catalog.js';
-import { findDirectoryEntry, sortListingsByScore } from '../../../lib/directory-helpers.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildSubcategoryFilterNav,
+} from '../../../lib/directory-helpers.js';
 
 export function getStaticPaths() {
   return directoryCatalog.map((directory) => ({
@@ -25,8 +28,10 @@
   sortedListings.length === 0
     ? '0.0'
     : (
-        sortedListings.reduce((sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0), 0) /
-        sortedListings.length
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
       ).toFixed(1);
 
 const navItems = [
@@ -41,67 +46,15 @@
   { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
   { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
 ];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory);
 ---
 
-<BaseLayout
-  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
-  description={directory.heroSubtitle}
+<DirectoryPage
+  directory={directory}
   navItems={navItems}
->
-  <section id="hero" class="space-y-6">
-    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
-      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.category.name}</span>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.location.name}</span>
-    </nav>
-    <div class="space-y-3">
-      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
-    </div>
-    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
-      {heroStats.map((stat) => (
-        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
-          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
-          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
-        </div>
-      ))}
-    </dl>
-  </section>
-
-  <section id="listings" class="space-y-6">
-    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
-      <div>
-        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
-        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
-        <p class="text-sm text-slate-400">
-          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
-          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
-          notes and highlights.
-        </p>
-      </div>
-      <p class="text-sm text-slate-400">Updated weekly with crawler + admin data</p>
-    </div>
-    <ol class="space-y-5" role="list">
-      {sortedListings.map((listing, index) => (
-        <DirectoryListing listing={listing} rank={index + 1} />
-      ))}
-    </ol>
-  </section>
-
-  <section id="review-notes" class="glass-panel space-y-4 p-6">
-    <div>
-      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
-      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
-    </div>
-    <p class="text-sm text-slate-300">
-      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
-      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
-    </p>
-    <p class="text-sm text-slate-400">
-      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
-      support@megadirectory.local.
-    </p>
-  </section>
-</BaseLayout>
+  heroStats={heroStats}
+  listings={sortedListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/src/pages/listings/[category]/[location]/[subcategory].astro b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
new file mode 100644
index 0000000000000000000000000000000000000000..3dfdc9d53200fc13343d82aa8afdd126fccc489a
--- /dev/null
+++ b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
@@ -0,0 +1,78 @@
+---
+import DirectoryPage from '../../../../components/DirectoryPage.astro';
+import { directoryCatalog } from '../../../../data/directory-catalog.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
+} from '../../../../lib/directory-helpers.js';
+
+export function getStaticPaths() {
+  const paths = [];
+
+  for (const directory of directoryCatalog) {
+    const subcategories = buildDirectorySubcategories(directory);
+    for (const subcategory of subcategories) {
+      paths.push({
+        params: {
+          category: directory.category.slug,
+          location: directory.location.slug,
+          subcategory: subcategory.slug,
+        },
+      });
+    }
+  }
+
+  return paths;
+}
+
+const { category, location, subcategory } = Astro.params;
+const directory = findDirectoryEntry(directoryCatalog, category, location);
+
+if (!directory) {
+  throw new Error(`Directory not found for ${category}/${location}`);
+}
+
+const sortedListings = sortListingsByScore(directory.listings);
+const filteredListings = filterListingsBySubcategory(sortedListings, subcategory);
+
+if (filteredListings.length === 0) {
+  throw new Error(`Subcategory ${subcategory} has no listings for ${category}/${location}`);
+}
+
+const averageScore =
+  sortedListings.length === 0
+    ? '0.0'
+    : (
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
+      ).toFixed(1);
+
+const navItems = [
+  { href: '#hero', label: 'Overview' },
+  { href: '#listings', label: 'Listings' },
+  { href: '#review-notes', label: 'Notes' },
+];
+
+const heroStats = [
+  { label: 'Listings live', value: sortedListings.length },
+  { label: 'Avg score', value: averageScore },
+  { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
+  { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
+];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory, subcategory);
+---
+
+<DirectoryPage
+  directory={directory}
+  navItems={navItems}
+  heroStats={heroStats}
+  listings={filteredListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');


thinking
**Verifying filter navigation and tests**
exec
bash -lc 'node --test test/directory-helpers.test.mjs' in /var/home/rick/Development/mega-directory/astro succeeded in 388ms:
TAP version 13
# Subtest: test/directory-helpers.test.mjs
ok 1 - test/directory-helpers.test.mjs
  ---
  duration_ms: 165.180921
  type: 'test'
  ...
1..1
# tests 1
# suites 0
# pass 1
# fail 0
# cancelled 0
# skipped 0
# todo 0
# duration_ms 178.9463
file update:
diff --git a/astro/src/components/DirectoryPage.astro b/astro/src/components/DirectoryPage.astro
new file mode 100644
index 0000000000000000000000000000000000000000..858b251c7b2e7ec90a5b83ef09e3406ea61afb35
--- /dev/null
+++ b/astro/src/components/DirectoryPage.astro
@@ -0,0 +1,138 @@
+---
+import BaseLayout from '../layouts/BaseLayout.astro';
+import DirectoryListing from './DirectoryListing.astro';
+
+const {
+  directory,
+  navItems,
+  heroStats,
+  listings = [],
+  totalListings = listings.length,
+  subcategoryNav = [],
+} = Astro.props;
+
+const hasSubcategoryNav = subcategoryNav.length > 0;
+const activeFilter = hasSubcategoryNav
+  ? subcategoryNav.find((item) => item.active) ?? subcategoryNav[0]
+  : null;
+const filterLabel = activeFilter?.label ?? 'All subcategories';
+const filterDescription = activeFilter?.description ?? '';
+
+const filterSummary = hasSubcategoryNav
+  ? `Showing ${listings.length} of ${totalListings} listings${
+      activeFilter?.slug ? ` filtered to ${filterLabel}` : ''
+    }.`
+  : '';
+
+const filterLinkClass = (isActive) =>
+  [
+    'inline-flex items-center gap-3 rounded-full border px-4 py-2 text-sm transition',
+    'focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-emerald-400',
+    isActive
+      ? 'border-emerald-400 text-white bg-emerald-400/10'
+      : 'border-white/20 text-slate-200 hover:border-emerald-400/80',
+  ].join(' ');
+---
+
+<BaseLayout
+  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
+  description={directory.heroSubtitle}
+  navItems={navItems}
+>
+  <section id="hero" class="space-y-6">
+    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
+      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.category.name}</span>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.location.name}</span>
+    </nav>
+    <div class="space-y-3">
+      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
+      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+    </div>
+    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
+      {heroStats.map((stat) => (
+        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
+          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
+          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
+        </div>
+      ))}
+    </dl>
+  </section>
+
+  <section id="listings" class="space-y-6">
+    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
+      <div>
+        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
+        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
+        <p class="text-sm text-slate-400">
+          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
+          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
+          notes and highlights.
+        </p>
+      </div>
+      <div class="text-sm text-slate-400 text-left md:text-right">
+        {hasSubcategoryNav ? (
+          <div class="space-y-1">
+            <p>{filterSummary}</p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        ) : (
+          <p>Updated weekly with crawler + admin data</p>
+        )}
+      </div>
+    </div>
+
+    {hasSubcategoryNav && (
+      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 sm:p-5">
+        <div class="space-y-2">
+          <p class="text-xs font-semibold uppercase tracking-[0.3em] text-emerald-300">Subcategories</p>
+          <div>
+            <h3 class="text-lg font-semibold text-white">{filterLabel}</h3>
+            <p class="text-sm text-slate-400">
+              Showing {listings.length} of {totalListings} listings
+              {activeFilter?.slug ? ` in ${filterLabel}` : ''}.
+            </p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        </div>
+        <div class="mt-4 flex flex-wrap gap-3">
+          {subcategoryNav.map((item) => (
+            <a
+              class={filterLinkClass(item.active)}
+              aria-current={item.active ? 'page' : undefined}
+              href={item.href}
+            >
+              <span>{item.label}</span>
+              <span class="rounded-full border border-white/20 px-2 py-0.5 text-xs text-slate-300">
+                {item.count}
+              </span>
+            </a>
+          ))}
+        </div>
+      </div>
+    )}
+
+    <ol class="space-y-5" role="list">
+      {listings.map((listing, index) => (
+        <DirectoryListing listing={listing} rank={index + 1} />
+      ))}
+    </ol>
+  </section>
+
+  <section id="review-notes" class="glass-panel space-y-4 p-6">
+    <div>
+      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
+      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
+    </div>
+    <p class="text-sm text-slate-300">
+      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
+      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
+    </p>
+    <p class="text-sm text-slate-400">
+      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
+      support@megadirectory.local.
+    </p>
+  </section>
+</BaseLayout>
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..b9da09020776f281176aba75e5654c53f2b555ed
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
@@ -146,6 +180,23 @@
       responseSla: 'Candidate intros in 3 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
       {
         slug: 'fifth-avenue-search',
@@ -155,6 +206,7 @@
         description:
           'Runs calibration sprints, candidate memos, and DEI scorecards for every slate.',
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
         scoreTooltip: 'Composite of placement velocity + candidate NPS.',
         highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
@@ -168,6 +220,7 @@
         description:
           'Stand up stack, interview rubrics, and compensation bands in four sprints.',
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
         scoreTooltip: 'Weighted by onboarding documentation quality.',
         highlights: ['Templates for hiring manager training', 'ATS migrations included'],
@@ -197,6 +250,18 @@
       responseSla: 'Shortlists in 5 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'product-design',
+        name: 'Product & Design',
+        description: 'Product, research, and design recruiting partners.',
+      },
+      {
+        slug: 'gtm',
+        name: 'Go-to-Market',
+        description: 'Sales, marketing, and post-sales recruiters with AI focus.',
+      },
+    ],
     listings: [
       {
         slug: 'mission-placement-studio',
@@ -206,6 +271,7 @@
         description:
           'Sends candidates Loom walkthroughs, salary ladders, and ramp plans before interviews.',
         badges: ['Product', 'Design systems'],
+        subcategories: ['product-design'],
         score: 81.3,
         scoreTooltip: 'Candidate preparedness + hiring manager CSAT weighting.',
         highlights: ['Bench of bilingual coordinators', 'Portfolio critique workshops'],
@@ -219,6 +285,7 @@
         description:
           'Run-of-show templates, comp benchmarking, and enablement for first revenue hires.',
         badges: ['Go-to-market', 'AI'],
+        subcategories: ['gtm'],
         score: 76.7,
         scoreTooltip: 'Score includes ramp success tracking 90 days post-hire.',
         highlights: ['Intent-based sourcing', 'Recordings of calibration calls shared'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/src/pages/listings/[category]/[location].astro b/astro/src/pages/listings/[category]/[location].astro
index 57ef772e43ca04ff1316ce1ea1ca1ba7936f12ad..283d4f3be2e43fc85558d5c9948aa8b9c64fe081
--- a/astro/src/pages/listings/[category]/[location].astro
+++ b/astro/src/pages/listings/[category]/[location].astro
@@ -1,8 +1,11 @@
 ---
-import BaseLayout from '../../../layouts/BaseLayout.astro';
-import DirectoryListing from '../../../components/DirectoryListing.astro';
+import DirectoryPage from '../../../components/DirectoryPage.astro';
 import { directoryCatalog } from '../../../data/directory-catalog.js';
-import { findDirectoryEntry, sortListingsByScore } from '../../../lib/directory-helpers.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildSubcategoryFilterNav,
+} from '../../../lib/directory-helpers.js';
 
 export function getStaticPaths() {
   return directoryCatalog.map((directory) => ({
@@ -25,8 +28,10 @@
   sortedListings.length === 0
     ? '0.0'
     : (
-        sortedListings.reduce((sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0), 0) /
-        sortedListings.length
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
       ).toFixed(1);
 
 const navItems = [
@@ -41,67 +46,15 @@
   { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
   { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
 ];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory);
 ---
 
-<BaseLayout
-  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
-  description={directory.heroSubtitle}
+<DirectoryPage
+  directory={directory}
   navItems={navItems}
->
-  <section id="hero" class="space-y-6">
-    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
-      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.category.name}</span>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.location.name}</span>
-    </nav>
-    <div class="space-y-3">
-      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
-    </div>
-    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
-      {heroStats.map((stat) => (
-        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
-          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
-          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
-        </div>
-      ))}
-    </dl>
-  </section>
-
-  <section id="listings" class="space-y-6">
-    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
-      <div>
-        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
-        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
-        <p class="text-sm text-slate-400">
-          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
-          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
-          notes and highlights.
-        </p>
-      </div>
-      <p class="text-sm text-slate-400">Updated weekly with crawler + admin data</p>
-    </div>
-    <ol class="space-y-5" role="list">
-      {sortedListings.map((listing, index) => (
-        <DirectoryListing listing={listing} rank={index + 1} />
-      ))}
-    </ol>
-  </section>
-
-  <section id="review-notes" class="glass-panel space-y-4 p-6">
-    <div>
-      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
-      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
-    </div>
-    <p class="text-sm text-slate-300">
-      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
-      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
-    </p>
-    <p class="text-sm text-slate-400">
-      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
-      support@megadirectory.local.
-    </p>
-  </section>
-</BaseLayout>
+  heroStats={heroStats}
+  listings={sortedListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/src/pages/listings/[category]/[location]/[subcategory].astro b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
new file mode 100644
index 0000000000000000000000000000000000000000..3dfdc9d53200fc13343d82aa8afdd126fccc489a
--- /dev/null
+++ b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
@@ -0,0 +1,78 @@
+---
+import DirectoryPage from '../../../../components/DirectoryPage.astro';
+import { directoryCatalog } from '../../../../data/directory-catalog.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
+} from '../../../../lib/directory-helpers.js';
+
+export function getStaticPaths() {
+  const paths = [];
+
+  for (const directory of directoryCatalog) {
+    const subcategories = buildDirectorySubcategories(directory);
+    for (const subcategory of subcategories) {
+      paths.push({
+        params: {
+          category: directory.category.slug,
+          location: directory.location.slug,
+          subcategory: subcategory.slug,
+        },
+      });
+    }
+  }
+
+  return paths;
+}
+
+const { category, location, subcategory } = Astro.params;
+const directory = findDirectoryEntry(directoryCatalog, category, location);
+
+if (!directory) {
+  throw new Error(`Directory not found for ${category}/${location}`);
+}
+
+const sortedListings = sortListingsByScore(directory.listings);
+const filteredListings = filterListingsBySubcategory(sortedListings, subcategory);
+
+if (filteredListings.length === 0) {
+  throw new Error(`Subcategory ${subcategory} has no listings for ${category}/${location}`);
+}
+
+const averageScore =
+  sortedListings.length === 0
+    ? '0.0'
+    : (
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
+      ).toFixed(1);
+
+const navItems = [
+  { href: '#hero', label: 'Overview' },
+  { href: '#listings', label: 'Listings' },
+  { href: '#review-notes', label: 'Notes' },
+];
+
+const heroStats = [
+  { label: 'Listings live', value: sortedListings.length },
+  { label: 'Avg score', value: averageScore },
+  { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
+  { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
+];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory, subcategory);
+---
+
+<DirectoryPage
+  directory={directory}
+  navItems={navItems}
+  heroStats={heroStats}
+  listings={filteredListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');


thinking
**Reviewing test results and build verification**
Plan update
  ‚úì Review directory data/tests to decide how to model subcategories and plan helper API for filtering.
  ‚úì Add/adjust automated tests + data fixtures for subcategory metadata and filtering behavior (expect failures).
  ‚úì Implement data, helper, and UI updates (pages/components/styles) plus new subcategory route to satisfy tests and functionality.
  ‚Üí Run relevant tests/builds and verify results, then summarize changes.
file update:
diff --git a/astro/src/components/DirectoryPage.astro b/astro/src/components/DirectoryPage.astro
new file mode 100644
index 0000000000000000000000000000000000000000..858b251c7b2e7ec90a5b83ef09e3406ea61afb35
--- /dev/null
+++ b/astro/src/components/DirectoryPage.astro
@@ -0,0 +1,138 @@
+---
+import BaseLayout from '../layouts/BaseLayout.astro';
+import DirectoryListing from './DirectoryListing.astro';
+
+const {
+  directory,
+  navItems,
+  heroStats,
+  listings = [],
+  totalListings = listings.length,
+  subcategoryNav = [],
+} = Astro.props;
+
+const hasSubcategoryNav = subcategoryNav.length > 0;
+const activeFilter = hasSubcategoryNav
+  ? subcategoryNav.find((item) => item.active) ?? subcategoryNav[0]
+  : null;
+const filterLabel = activeFilter?.label ?? 'All subcategories';
+const filterDescription = activeFilter?.description ?? '';
+
+const filterSummary = hasSubcategoryNav
+  ? `Showing ${listings.length} of ${totalListings} listings${
+      activeFilter?.slug ? ` filtered to ${filterLabel}` : ''
+    }.`
+  : '';
+
+const filterLinkClass = (isActive) =>
+  [
+    'inline-flex items-center gap-3 rounded-full border px-4 py-2 text-sm transition',
+    'focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-emerald-400',
+    isActive
+      ? 'border-emerald-400 text-white bg-emerald-400/10'
+      : 'border-white/20 text-slate-200 hover:border-emerald-400/80',
+  ].join(' ');
+---
+
+<BaseLayout
+  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
+  description={directory.heroSubtitle}
+  navItems={navItems}
+>
+  <section id="hero" class="space-y-6">
+    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
+      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.category.name}</span>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.location.name}</span>
+    </nav>
+    <div class="space-y-3">
+      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
+      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+    </div>
+    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
+      {heroStats.map((stat) => (
+        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
+          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
+          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
+        </div>
+      ))}
+    </dl>
+  </section>
+
+  <section id="listings" class="space-y-6">
+    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
+      <div>
+        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
+        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
+        <p class="text-sm text-slate-400">
+          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
+          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
+          notes and highlights.
+        </p>
+      </div>
+      <div class="text-sm text-slate-400 text-left md:text-right">
+        {hasSubcategoryNav ? (
+          <div class="space-y-1">
+            <p>{filterSummary}</p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        ) : (
+          <p>Updated weekly with crawler + admin data</p>
+        )}
+      </div>
+    </div>
+
+    {hasSubcategoryNav && (
+      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 sm:p-5">
+        <div class="space-y-2">
+          <p class="text-xs font-semibold uppercase tracking-[0.3em] text-emerald-300">Subcategories</p>
+          <div>
+            <h3 class="text-lg font-semibold text-white">{filterLabel}</h3>
+            <p class="text-sm text-slate-400">
+              Showing {listings.length} of {totalListings} listings
+              {activeFilter?.slug ? ` in ${filterLabel}` : ''}.
+            </p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        </div>
+        <div class="mt-4 flex flex-wrap gap-3">
+          {subcategoryNav.map((item) => (
+            <a
+              class={filterLinkClass(item.active)}
+              aria-current={item.active ? 'page' : undefined}
+              href={item.href}
+            >
+              <span>{item.label}</span>
+              <span class="rounded-full border border-white/20 px-2 py-0.5 text-xs text-slate-300">
+                {item.count}
+              </span>
+            </a>
+          ))}
+        </div>
+      </div>
+    )}
+
+    <ol class="space-y-5" role="list">
+      {listings.map((listing, index) => (
+        <DirectoryListing listing={listing} rank={index + 1} />
+      ))}
+    </ol>
+  </section>
+
+  <section id="review-notes" class="glass-panel space-y-4 p-6">
+    <div>
+      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
+      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
+    </div>
+    <p class="text-sm text-slate-300">
+      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
+      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
+    </p>
+    <p class="text-sm text-slate-400">
+      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
+      support@megadirectory.local.
+    </p>
+  </section>
+</BaseLayout>
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..b9da09020776f281176aba75e5654c53f2b555ed
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
@@ -146,6 +180,23 @@
       responseSla: 'Candidate intros in 3 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
       {
         slug: 'fifth-avenue-search',
@@ -155,6 +206,7 @@
         description:
           'Runs calibration sprints, candidate memos, and DEI scorecards for every slate.',
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
         scoreTooltip: 'Composite of placement velocity + candidate NPS.',
         highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
@@ -168,6 +220,7 @@
         description:
           'Stand up stack, interview rubrics, and compensation bands in four sprints.',
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
         scoreTooltip: 'Weighted by onboarding documentation quality.',
         highlights: ['Templates for hiring manager training', 'ATS migrations included'],
@@ -197,6 +250,18 @@
       responseSla: 'Shortlists in 5 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'product-design',
+        name: 'Product & Design',
+        description: 'Product, research, and design recruiting partners.',
+      },
+      {
+        slug: 'gtm',
+        name: 'Go-to-Market',
+        description: 'Sales, marketing, and post-sales recruiters with AI focus.',
+      },
+    ],
     listings: [
       {
         slug: 'mission-placement-studio',
@@ -206,6 +271,7 @@
         description:
           'Sends candidates Loom walkthroughs, salary ladders, and ramp plans before interviews.',
         badges: ['Product', 'Design systems'],
+        subcategories: ['product-design'],
         score: 81.3,
         scoreTooltip: 'Candidate preparedness + hiring manager CSAT weighting.',
         highlights: ['Bench of bilingual coordinators', 'Portfolio critique workshops'],
@@ -219,6 +285,7 @@
         description:
           'Run-of-show templates, comp benchmarking, and enablement for first revenue hires.',
         badges: ['Go-to-market', 'AI'],
+        subcategories: ['gtm'],
         score: 76.7,
         scoreTooltip: 'Score includes ramp success tracking 90 days post-hire.',
         highlights: ['Intent-based sourcing', 'Recordings of calibration calls shared'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/src/pages/listings/[category]/[location].astro b/astro/src/pages/listings/[category]/[location].astro
index 57ef772e43ca04ff1316ce1ea1ca1ba7936f12ad..283d4f3be2e43fc85558d5c9948aa8b9c64fe081
--- a/astro/src/pages/listings/[category]/[location].astro
+++ b/astro/src/pages/listings/[category]/[location].astro
@@ -1,8 +1,11 @@
 ---
-import BaseLayout from '../../../layouts/BaseLayout.astro';
-import DirectoryListing from '../../../components/DirectoryListing.astro';
+import DirectoryPage from '../../../components/DirectoryPage.astro';
 import { directoryCatalog } from '../../../data/directory-catalog.js';
-import { findDirectoryEntry, sortListingsByScore } from '../../../lib/directory-helpers.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildSubcategoryFilterNav,
+} from '../../../lib/directory-helpers.js';
 
 export function getStaticPaths() {
   return directoryCatalog.map((directory) => ({
@@ -25,8 +28,10 @@
   sortedListings.length === 0
     ? '0.0'
     : (
-        sortedListings.reduce((sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0), 0) /
-        sortedListings.length
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
       ).toFixed(1);
 
 const navItems = [
@@ -41,67 +46,15 @@
   { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
   { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
 ];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory);
 ---
 
-<BaseLayout
-  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
-  description={directory.heroSubtitle}
+<DirectoryPage
+  directory={directory}
   navItems={navItems}
->
-  <section id="hero" class="space-y-6">
-    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
-      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.category.name}</span>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.location.name}</span>
-    </nav>
-    <div class="space-y-3">
-      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
-    </div>
-    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
-      {heroStats.map((stat) => (
-        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
-          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
-          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
-        </div>
-      ))}
-    </dl>
-  </section>
-
-  <section id="listings" class="space-y-6">
-    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
-      <div>
-        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
-        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
-        <p class="text-sm text-slate-400">
-          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
-          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
-          notes and highlights.
-        </p>
-      </div>
-      <p class="text-sm text-slate-400">Updated weekly with crawler + admin data</p>
-    </div>
-    <ol class="space-y-5" role="list">
-      {sortedListings.map((listing, index) => (
-        <DirectoryListing listing={listing} rank={index + 1} />
-      ))}
-    </ol>
-  </section>
-
-  <section id="review-notes" class="glass-panel space-y-4 p-6">
-    <div>
-      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
-      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
-    </div>
-    <p class="text-sm text-slate-300">
-      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
-      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
-    </p>
-    <p class="text-sm text-slate-400">
-      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
-      support@megadirectory.local.
-    </p>
-  </section>
-</BaseLayout>
+  heroStats={heroStats}
+  listings={sortedListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/src/pages/listings/[category]/[location]/[subcategory].astro b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
new file mode 100644
index 0000000000000000000000000000000000000000..3dfdc9d53200fc13343d82aa8afdd126fccc489a
--- /dev/null
+++ b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
@@ -0,0 +1,78 @@
+---
+import DirectoryPage from '../../../../components/DirectoryPage.astro';
+import { directoryCatalog } from '../../../../data/directory-catalog.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
+} from '../../../../lib/directory-helpers.js';
+
+export function getStaticPaths() {
+  const paths = [];
+
+  for (const directory of directoryCatalog) {
+    const subcategories = buildDirectorySubcategories(directory);
+    for (const subcategory of subcategories) {
+      paths.push({
+        params: {
+          category: directory.category.slug,
+          location: directory.location.slug,
+          subcategory: subcategory.slug,
+        },
+      });
+    }
+  }
+
+  return paths;
+}
+
+const { category, location, subcategory } = Astro.params;
+const directory = findDirectoryEntry(directoryCatalog, category, location);
+
+if (!directory) {
+  throw new Error(`Directory not found for ${category}/${location}`);
+}
+
+const sortedListings = sortListingsByScore(directory.listings);
+const filteredListings = filterListingsBySubcategory(sortedListings, subcategory);
+
+if (filteredListings.length === 0) {
+  throw new Error(`Subcategory ${subcategory} has no listings for ${category}/${location}`);
+}
+
+const averageScore =
+  sortedListings.length === 0
+    ? '0.0'
+    : (
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
+      ).toFixed(1);
+
+const navItems = [
+  { href: '#hero', label: 'Overview' },
+  { href: '#listings', label: 'Listings' },
+  { href: '#review-notes', label: 'Notes' },
+];
+
+const heroStats = [
+  { label: 'Listings live', value: sortedListings.length },
+  { label: 'Avg score', value: averageScore },
+  { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
+  { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
+];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory, subcategory);
+---
+
+<DirectoryPage
+  directory={directory}
+  navItems={navItems}
+  heroStats={heroStats}
+  listings={filteredListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');


thinking
**Preparing to build Astro project**
exec
bash -lc 'npm run build' in /var/home/rick/Development/mega-directory/astro succeeded in 7.04s:

> mega-directory-astro@0.0.1 build
> astro build

05:04:02 [content] Syncing content
05:04:02 [content] Synced content
05:04:02 [types] Generated 1.54s
05:04:02 [build] output: "static"
05:04:02 [build] mode: "static"
05:04:02 [build] directory: /var/home/rick/Development/mega-directory/astro/dist/
05:04:02 [build] Collecting build info...
05:04:02 [build] ‚úì Completed in 1.56s.
05:04:02 [build] Building static entrypoints...
05:04:03 [WARN] [vite] "isRemoteAllowed", "matchHostname", "matchPathname", "matchPort" and "matchProtocol" are imported from external module "@astrojs/internal-helpers/remote" but never used in "node_modules/astro/dist/assets/utils/remotePattern.js".
05:04:03 [vite] ‚úì built in 1.15s
05:04:03 [build] ‚úì Completed in 1.24s.

 generating static routes 
05:04:03 ‚ñ∂ src/pages/listings/[category]/[location]/[subcategory].astro
05:04:03   ‚îú‚îÄ /listings/professional-services/new-york-city/hvac/index.html (+13ms) 
file update:
diff --git a/astro/src/components/DirectoryPage.astro b/astro/src/components/DirectoryPage.astro
new file mode 100644
index 0000000000000000000000000000000000000000..858b251c7b2e7ec90a5b83ef09e3406ea61afb35
--- /dev/null
+++ b/astro/src/components/DirectoryPage.astro
@@ -0,0 +1,138 @@
+---
+import BaseLayout from '../layouts/BaseLayout.astro';
+import DirectoryListing from './DirectoryListing.astro';
+
+const {
+  directory,
+  navItems,
+  heroStats,
+  listings = [],
+  totalListings = listings.length,
+  subcategoryNav = [],
+} = Astro.props;
+
+const hasSubcategoryNav = subcategoryNav.length > 0;
+const activeFilter = hasSubcategoryNav
+  ? subcategoryNav.find((item) => item.active) ?? subcategoryNav[0]
+  : null;
+const filterLabel = activeFilter?.label ?? 'All subcategories';
+const filterDescription = activeFilter?.description ?? '';
+
+const filterSummary = hasSubcategoryNav
+  ? `Showing ${listings.length} of ${totalListings} listings${
+      activeFilter?.slug ? ` filtered to ${filterLabel}` : ''
+    }.`
+  : '';
+
+const filterLinkClass = (isActive) =>
+  [
+    'inline-flex items-center gap-3 rounded-full border px-4 py-2 text-sm transition',
+    'focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-emerald-400',
+    isActive
+      ? 'border-emerald-400 text-white bg-emerald-400/10'
+      : 'border-white/20 text-slate-200 hover:border-emerald-400/80',
+  ].join(' ');
+---
+
+<BaseLayout
+  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
+  description={directory.heroSubtitle}
+  navItems={navItems}
+>
+  <section id="hero" class="space-y-6">
+    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
+      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.category.name}</span>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.location.name}</span>
+    </nav>
+    <div class="space-y-3">
+      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
+      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+    </div>
+    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
+      {heroStats.map((stat) => (
+        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
+          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
+          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
+        </div>
+      ))}
+    </dl>
+  </section>
+
+  <section id="listings" class="space-y-6">
+    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
+      <div>
+        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
+        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
+        <p class="text-sm text-slate-400">
+          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
+          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
+          notes and highlights.
+        </p>
+      </div>
+      <div class="text-sm text-slate-400 text-left md:text-right">
+        {hasSubcategoryNav ? (
+          <div class="space-y-1">
+            <p>{filterSummary}</p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        ) : (
+          <p>Updated weekly with crawler + admin data</p>
+        )}
+      </div>
+    </div>
+
+    {hasSubcategoryNav && (
+      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 sm:p-5">
+        <div class="space-y-2">
+          <p class="text-xs font-semibold uppercase tracking-[0.3em] text-emerald-300">Subcategories</p>
+          <div>
+            <h3 class="text-lg font-semibold text-white">{filterLabel}</h3>
+            <p class="text-sm text-slate-400">
+              Showing {listings.length} of {totalListings} listings
+              {activeFilter?.slug ? ` in ${filterLabel}` : ''}.
+            </p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        </div>
+        <div class="mt-4 flex flex-wrap gap-3">
+          {subcategoryNav.map((item) => (
+            <a
+              class={filterLinkClass(item.active)}
+              aria-current={item.active ? 'page' : undefined}
+              href={item.href}
+            >
+              <span>{item.label}</span>
+              <span class="rounded-full border border-white/20 px-2 py-0.5 text-xs text-slate-300">
+                {item.count}
+              </span>
+            </a>
+          ))}
+        </div>
+      </div>
+    )}
+
+    <ol class="space-y-5" role="list">
+      {listings.map((listing, index) => (
+        <DirectoryListing listing={listing} rank={index + 1} />
+      ))}
+    </ol>
+  </section>
+
+  <section id="review-notes" class="glass-panel space-y-4 p-6">
+    <div>
+      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
+      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
+    </div>
+    <p class="text-sm text-slate-300">
+      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
+      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
+    </p>
+    <p class="text-sm text-slate-400">
+      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
+      support@megadirectory.local.
+    </p>
+  </section>
+</BaseLayout>
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..b9da09020776f281176aba75e5654c53f2b555ed
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
@@ -146,6 +180,23 @@
       responseSla: 'Candidate intros in 3 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
       {
         slug: 'fifth-avenue-search',
@@ -155,6 +206,7 @@
         description:
           'Runs calibration sprints, candidate memos, and DEI scorecards for every slate.',
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
         scoreTooltip: 'Composite of placement velocity + candidate NPS.',
         highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
@@ -168,6 +220,7 @@
         description:
           'Stand up stack, interview rubrics, and compensation bands in four sprints.',
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
         scoreTooltip: 'Weighted by onboarding documentation quality.',
         highlights: ['Templates for hiring manager training', 'ATS migrations included'],
@@ -197,6 +250,18 @@
       responseSla: 'Shortlists in 5 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'product-design',
+        name: 'Product & Design',
+        description: 'Product, research, and design recruiting partners.',
+      },
+      {
+        slug: 'gtm',
+        name: 'Go-to-Market',
+        description: 'Sales, marketing, and post-sales recruiters with AI focus.',
+      },
+    ],
     listings: [
       {
         slug: 'mission-placement-studio',
@@ -206,6 +271,7 @@
         description:
           'Sends candidates Loom walkthroughs, salary ladders, and ramp plans before interviews.',
         badges: ['Product', 'Design systems'],
+        subcategories: ['product-design'],
         score: 81.3,
         scoreTooltip: 'Candidate preparedness + hiring manager CSAT weighting.',
         highlights: ['Bench of bilingual coordinators', 'Portfolio critique workshops'],
@@ -219,6 +285,7 @@
         description:
           'Run-of-show templates, comp benchmarking, and enablement for first revenue hires.',
         badges: ['Go-to-market', 'AI'],
+        subcategories: ['gtm'],
         score: 76.7,
         scoreTooltip: 'Score includes ramp success tracking 90 days post-hire.',
         highlights: ['Intent-based sourcing', 'Recordings of calibration calls shared'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/src/pages/listings/[category]/[location].astro b/astro/src/pages/listings/[category]/[location].astro
index 57ef772e43ca04ff1316ce1ea1ca1ba7936f12ad..283d4f3be2e43fc85558d5c9948aa8b9c64fe081
--- a/astro/src/pages/listings/[category]/[location].astro
+++ b/astro/src/pages/listings/[category]/[location].astro
@@ -1,8 +1,11 @@
 ---
-import BaseLayout from '../../../layouts/BaseLayout.astro';
-import DirectoryListing from '../../../components/DirectoryListing.astro';
+import DirectoryPage from '../../../components/DirectoryPage.astro';
 import { directoryCatalog } from '../../../data/directory-catalog.js';
-import { findDirectoryEntry, sortListingsByScore } from '../../../lib/directory-helpers.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildSubcategoryFilterNav,
+} from '../../../lib/directory-helpers.js';
 
 export function getStaticPaths() {
   return directoryCatalog.map((directory) => ({
@@ -25,8 +28,10 @@
   sortedListings.length === 0
     ? '0.0'
     : (
-        sortedListings.reduce((sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0), 0) /
-        sortedListings.length
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
       ).toFixed(1);
 
 const navItems = [
@@ -41,67 +46,15 @@
   { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
   { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
 ];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory);
 ---
 
-<BaseLayout
-  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
-  description={directory.heroSubtitle}
+<DirectoryPage
+  directory={directory}
   navItems={navItems}
->
-  <section id="hero" class="space-y-6">
-    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
-      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.category.name}</span>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.location.name}</span>
-    </nav>
-    <div class="space-y-3">
-      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
-    </div>
-    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
-      {heroStats.map((stat) => (
-        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
-          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
-          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
-        </div>
-      ))}
-    </dl>
-  </section>
-
-  <section id="listings" class="space-y-6">
-    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
-      <div>
-        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
-        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
-        <p class="text-sm text-slate-400">
-          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
-          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
-          notes and highlights.
-        </p>
-      </div>
-      <p class="text-sm text-slate-400">Updated weekly with crawler + admin data</p>
-    </div>
-    <ol class="space-y-5" role="list">
-      {sortedListings.map((listing, index) => (
-        <DirectoryListing listing={listing} rank={index + 1} />
-      ))}
-    </ol>
-  </section>
-
-  <section id="review-notes" class="glass-panel space-y-4 p-6">
-    <div>
-      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
-      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
-    </div>
-    <p class="text-sm text-slate-300">
-      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
-      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
-    </p>
-    <p class="text-sm text-slate-400">
-      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
-      support@megadirectory.local.
-    </p>
-  </section>
-</BaseLayout>
+  heroStats={heroStats}
+  listings={sortedListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/src/pages/listings/[category]/[location]/[subcategory].astro b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
new file mode 100644
index 0000000000000000000000000000000000000000..3dfdc9d53200fc13343d82aa8afdd126fccc489a
--- /dev/null
+++ b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
@@ -0,0 +1,78 @@
+---
+import DirectoryPage from '../../../../components/DirectoryPage.astro';
+import { directoryCatalog } from '../../../../data/directory-catalog.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
+} from '../../../../lib/directory-helpers.js';
+
+export function getStaticPaths() {
+  const paths = [];
+
+  for (const directory of directoryCatalog) {
+    const subcategories = buildDirectorySubcategories(directory);
+    for (const subcategory of subcategories) {
+      paths.push({
+        params: {
+          category: directory.category.slug,
+          location: directory.location.slug,
+          subcategory: subcategory.slug,
+        },
+      });
+    }
+  }
+
+  return paths;
+}
+
+const { category, location, subcategory } = Astro.params;
+const directory = findDirectoryEntry(directoryCatalog, category, location);
+
+if (!directory) {
+  throw new Error(`Directory not found for ${category}/${location}`);
+}
+
+const sortedListings = sortListingsByScore(directory.listings);
+const filteredListings = filterListingsBySubcategory(sortedListings, subcategory);
+
+if (filteredListings.length === 0) {
+  throw new Error(`Subcategory ${subcategory} has no listings for ${category}/${location}`);
+}
+
+const averageScore =
+  sortedListings.length === 0
+    ? '0.0'
+    : (
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
+      ).toFixed(1);
+
+const navItems = [
+  { href: '#hero', label: 'Overview' },
+  { href: '#listings', label: 'Listings' },
+  { href: '#review-notes', label: 'Notes' },
+];
+
+const heroStats = [
+  { label: 'Listings live', value: sortedListings.length },
+  { label: 'Avg score', value: averageScore },
+  { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
+  { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
+];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory, subcategory);
+---
+
+<DirectoryPage
+  directory={directory}
+  navItems={navItems}
+  heroStats={heroStats}
+  listings={filteredListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');


thinking
**Updating plan after tests**
Plan update
  ‚úì Review directory data/tests to decide how to model subcategories and plan helper API for filtering.
  ‚úì Add/adjust automated tests + data fixtures for subcategory metadata and filtering behavior (expect failures).
  ‚úì Implement data, helper, and UI updates (pages/components/styles) plus new subcategory route to satisfy tests and functionality.
  ‚úì Run relevant tests/builds and verify results, then summarize changes.
file update:
diff --git a/astro/src/components/DirectoryPage.astro b/astro/src/components/DirectoryPage.astro
new file mode 100644
index 0000000000000000000000000000000000000000..858b251c7b2e7ec90a5b83ef09e3406ea61afb35
--- /dev/null
+++ b/astro/src/components/DirectoryPage.astro
@@ -0,0 +1,138 @@
+---
+import BaseLayout from '../layouts/BaseLayout.astro';
+import DirectoryListing from './DirectoryListing.astro';
+
+const {
+  directory,
+  navItems,
+  heroStats,
+  listings = [],
+  totalListings = listings.length,
+  subcategoryNav = [],
+} = Astro.props;
+
+const hasSubcategoryNav = subcategoryNav.length > 0;
+const activeFilter = hasSubcategoryNav
+  ? subcategoryNav.find((item) => item.active) ?? subcategoryNav[0]
+  : null;
+const filterLabel = activeFilter?.label ?? 'All subcategories';
+const filterDescription = activeFilter?.description ?? '';
+
+const filterSummary = hasSubcategoryNav
+  ? `Showing ${listings.length} of ${totalListings} listings${
+      activeFilter?.slug ? ` filtered to ${filterLabel}` : ''
+    }.`
+  : '';
+
+const filterLinkClass = (isActive) =>
+  [
+    'inline-flex items-center gap-3 rounded-full border px-4 py-2 text-sm transition',
+    'focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-emerald-400',
+    isActive
+      ? 'border-emerald-400 text-white bg-emerald-400/10'
+      : 'border-white/20 text-slate-200 hover:border-emerald-400/80',
+  ].join(' ');
+---
+
+<BaseLayout
+  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
+  description={directory.heroSubtitle}
+  navItems={navItems}
+>
+  <section id="hero" class="space-y-6">
+    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
+      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.category.name}</span>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.location.name}</span>
+    </nav>
+    <div class="space-y-3">
+      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
+      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+    </div>
+    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
+      {heroStats.map((stat) => (
+        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
+          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
+          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
+        </div>
+      ))}
+    </dl>
+  </section>
+
+  <section id="listings" class="space-y-6">
+    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
+      <div>
+        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
+        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
+        <p class="text-sm text-slate-400">
+          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
+          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
+          notes and highlights.
+        </p>
+      </div>
+      <div class="text-sm text-slate-400 text-left md:text-right">
+        {hasSubcategoryNav ? (
+          <div class="space-y-1">
+            <p>{filterSummary}</p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        ) : (
+          <p>Updated weekly with crawler + admin data</p>
+        )}
+      </div>
+    </div>
+
+    {hasSubcategoryNav && (
+      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 sm:p-5">
+        <div class="space-y-2">
+          <p class="text-xs font-semibold uppercase tracking-[0.3em] text-emerald-300">Subcategories</p>
+          <div>
+            <h3 class="text-lg font-semibold text-white">{filterLabel}</h3>
+            <p class="text-sm text-slate-400">
+              Showing {listings.length} of {totalListings} listings
+              {activeFilter?.slug ? ` in ${filterLabel}` : ''}.
+            </p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        </div>
+        <div class="mt-4 flex flex-wrap gap-3">
+          {subcategoryNav.map((item) => (
+            <a
+              class={filterLinkClass(item.active)}
+              aria-current={item.active ? 'page' : undefined}
+              href={item.href}
+            >
+              <span>{item.label}</span>
+              <span class="rounded-full border border-white/20 px-2 py-0.5 text-xs text-slate-300">
+                {item.count}
+              </span>
+            </a>
+          ))}
+        </div>
+      </div>
+    )}
+
+    <ol class="space-y-5" role="list">
+      {listings.map((listing, index) => (
+        <DirectoryListing listing={listing} rank={index + 1} />
+      ))}
+    </ol>
+  </section>
+
+  <section id="review-notes" class="glass-panel space-y-4 p-6">
+    <div>
+      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
+      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
+    </div>
+    <p class="text-sm text-slate-300">
+      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
+      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
+    </p>
+    <p class="text-sm text-slate-400">
+      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
+      support@megadirectory.local.
+    </p>
+  </section>
+</BaseLayout>
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..b9da09020776f281176aba75e5654c53f2b555ed
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
@@ -146,6 +180,23 @@
       responseSla: 'Candidate intros in 3 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
       {
         slug: 'fifth-avenue-search',
@@ -155,6 +206,7 @@
         description:
           'Runs calibration sprints, candidate memos, and DEI scorecards for every slate.',
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
         scoreTooltip: 'Composite of placement velocity + candidate NPS.',
         highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
@@ -168,6 +220,7 @@
         description:
           'Stand up stack, interview rubrics, and compensation bands in four sprints.',
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
         scoreTooltip: 'Weighted by onboarding documentation quality.',
         highlights: ['Templates for hiring manager training', 'ATS migrations included'],
@@ -197,6 +250,18 @@
       responseSla: 'Shortlists in 5 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'product-design',
+        name: 'Product & Design',
+        description: 'Product, research, and design recruiting partners.',
+      },
+      {
+        slug: 'gtm',
+        name: 'Go-to-Market',
+        description: 'Sales, marketing, and post-sales recruiters with AI focus.',
+      },
+    ],
     listings: [
       {
         slug: 'mission-placement-studio',
@@ -206,6 +271,7 @@
         description:
           'Sends candidates Loom walkthroughs, salary ladders, and ramp plans before interviews.',
         badges: ['Product', 'Design systems'],
+        subcategories: ['product-design'],
         score: 81.3,
         scoreTooltip: 'Candidate preparedness + hiring manager CSAT weighting.',
         highlights: ['Bench of bilingual coordinators', 'Portfolio critique workshops'],
@@ -219,6 +285,7 @@
         description:
           'Run-of-show templates, comp benchmarking, and enablement for first revenue hires.',
         badges: ['Go-to-market', 'AI'],
+        subcategories: ['gtm'],
         score: 76.7,
         scoreTooltip: 'Score includes ramp success tracking 90 days post-hire.',
         highlights: ['Intent-based sourcing', 'Recordings of calibration calls shared'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/src/pages/listings/[category]/[location].astro b/astro/src/pages/listings/[category]/[location].astro
index 57ef772e43ca04ff1316ce1ea1ca1ba7936f12ad..283d4f3be2e43fc85558d5c9948aa8b9c64fe081
--- a/astro/src/pages/listings/[category]/[location].astro
+++ b/astro/src/pages/listings/[category]/[location].astro
@@ -1,8 +1,11 @@
 ---
-import BaseLayout from '../../../layouts/BaseLayout.astro';
-import DirectoryListing from '../../../components/DirectoryListing.astro';
+import DirectoryPage from '../../../components/DirectoryPage.astro';
 import { directoryCatalog } from '../../../data/directory-catalog.js';
-import { findDirectoryEntry, sortListingsByScore } from '../../../lib/directory-helpers.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildSubcategoryFilterNav,
+} from '../../../lib/directory-helpers.js';
 
 export function getStaticPaths() {
   return directoryCatalog.map((directory) => ({
@@ -25,8 +28,10 @@
   sortedListings.length === 0
     ? '0.0'
     : (
-        sortedListings.reduce((sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0), 0) /
-        sortedListings.length
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
       ).toFixed(1);
 
 const navItems = [
@@ -41,67 +46,15 @@
   { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
   { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
 ];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory);
 ---
 
-<BaseLayout
-  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
-  description={directory.heroSubtitle}
+<DirectoryPage
+  directory={directory}
   navItems={navItems}
->
-  <section id="hero" class="space-y-6">
-    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
-      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.category.name}</span>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.location.name}</span>
-    </nav>
-    <div class="space-y-3">
-      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
-    </div>
-    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
-      {heroStats.map((stat) => (
-        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
-          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
-          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
-        </div>
-      ))}
-    </dl>
-  </section>
-
-  <section id="listings" class="space-y-6">
-    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
-      <div>
-        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
-        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
-        <p class="text-sm text-slate-400">
-          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
-          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
-          notes and highlights.
-        </p>
-      </div>
-      <p class="text-sm text-slate-400">Updated weekly with crawler + admin data</p>
-    </div>
-    <ol class="space-y-5" role="list">
-      {sortedListings.map((listing, index) => (
-        <DirectoryListing listing={listing} rank={index + 1} />
-      ))}
-    </ol>
-  </section>
-
-  <section id="review-notes" class="glass-panel space-y-4 p-6">
-    <div>
-      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
-      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
-    </div>
-    <p class="text-sm text-slate-300">
-      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
-      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
-    </p>
-    <p class="text-sm text-slate-400">
-      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
-      support@megadirectory.local.
-    </p>
-  </section>
-</BaseLayout>
+  heroStats={heroStats}
+  listings={sortedListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/src/pages/listings/[category]/[location]/[subcategory].astro b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
new file mode 100644
index 0000000000000000000000000000000000000000..3dfdc9d53200fc13343d82aa8afdd126fccc489a
--- /dev/null
+++ b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
@@ -0,0 +1,78 @@
+---
+import DirectoryPage from '../../../../components/DirectoryPage.astro';
+import { directoryCatalog } from '../../../../data/directory-catalog.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
+} from '../../../../lib/directory-helpers.js';
+
+export function getStaticPaths() {
+  const paths = [];
+
+  for (const directory of directoryCatalog) {
+    const subcategories = buildDirectorySubcategories(directory);
+    for (const subcategory of subcategories) {
+      paths.push({
+        params: {
+          category: directory.category.slug,
+          location: directory.location.slug,
+          subcategory: subcategory.slug,
+        },
+      });
+    }
+  }
+
+  return paths;
+}
+
+const { category, location, subcategory } = Astro.params;
+const directory = findDirectoryEntry(directoryCatalog, category, location);
+
+if (!directory) {
+  throw new Error(`Directory not found for ${category}/${location}`);
+}
+
+const sortedListings = sortListingsByScore(directory.listings);
+const filteredListings = filterListingsBySubcategory(sortedListings, subcategory);
+
+if (filteredListings.length === 0) {
+  throw new Error(`Subcategory ${subcategory} has no listings for ${category}/${location}`);
+}
+
+const averageScore =
+  sortedListings.length === 0
+    ? '0.0'
+    : (
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
+      ).toFixed(1);
+
+const navItems = [
+  { href: '#hero', label: 'Overview' },
+  { href: '#listings', label: 'Listings' },
+  { href: '#review-notes', label: 'Notes' },
+];
+
+const heroStats = [
+  { label: 'Listings live', value: sortedListings.length },
+  { label: 'Avg score', value: averageScore },
+  { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
+  { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
+];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory, subcategory);
+---
+
+<DirectoryPage
+  directory={directory}
+  navItems={navItems}
+  heroStats={heroStats}
+  listings={filteredListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');


thinking
**Preparing for summary with file references**
exec
bash -lc 'git status -sb' in /var/home/rick/Development/mega-directory succeeded in 109ms:
## main...origin/main
 M codex/LOGS/tasklog_07_frontend_subcategory_ui_and_layout_1762854681.log
?? astro/src/components/DirectoryListing.astro
?? astro/src/components/DirectoryPage.astro
?? astro/src/data/
?? astro/src/lib/
?? astro/src/pages/listings/
?? astro/test/
?? codex/TASKS/work_list
file update:
diff --git a/astro/src/components/DirectoryPage.astro b/astro/src/components/DirectoryPage.astro
new file mode 100644
index 0000000000000000000000000000000000000000..858b251c7b2e7ec90a5b83ef09e3406ea61afb35
--- /dev/null
+++ b/astro/src/components/DirectoryPage.astro
@@ -0,0 +1,138 @@
+---
+import BaseLayout from '../layouts/BaseLayout.astro';
+import DirectoryListing from './DirectoryListing.astro';
+
+const {
+  directory,
+  navItems,
+  heroStats,
+  listings = [],
+  totalListings = listings.length,
+  subcategoryNav = [],
+} = Astro.props;
+
+const hasSubcategoryNav = subcategoryNav.length > 0;
+const activeFilter = hasSubcategoryNav
+  ? subcategoryNav.find((item) => item.active) ?? subcategoryNav[0]
+  : null;
+const filterLabel = activeFilter?.label ?? 'All subcategories';
+const filterDescription = activeFilter?.description ?? '';
+
+const filterSummary = hasSubcategoryNav
+  ? `Showing ${listings.length} of ${totalListings} listings${
+      activeFilter?.slug ? ` filtered to ${filterLabel}` : ''
+    }.`
+  : '';
+
+const filterLinkClass = (isActive) =>
+  [
+    'inline-flex items-center gap-3 rounded-full border px-4 py-2 text-sm transition',
+    'focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-emerald-400',
+    isActive
+      ? 'border-emerald-400 text-white bg-emerald-400/10'
+      : 'border-white/20 text-slate-200 hover:border-emerald-400/80',
+  ].join(' ');
+---
+
+<BaseLayout
+  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
+  description={directory.heroSubtitle}
+  navItems={navItems}
+>
+  <section id="hero" class="space-y-6">
+    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
+      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.category.name}</span>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.location.name}</span>
+    </nav>
+    <div class="space-y-3">
+      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
+      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+    </div>
+    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
+      {heroStats.map((stat) => (
+        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
+          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
+          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
+        </div>
+      ))}
+    </dl>
+  </section>
+
+  <section id="listings" class="space-y-6">
+    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
+      <div>
+        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
+        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
+        <p class="text-sm text-slate-400">
+          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
+          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
+          notes and highlights.
+        </p>
+      </div>
+      <div class="text-sm text-slate-400 text-left md:text-right">
+        {hasSubcategoryNav ? (
+          <div class="space-y-1">
+            <p>{filterSummary}</p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        ) : (
+          <p>Updated weekly with crawler + admin data</p>
+        )}
+      </div>
+    </div>
+
+    {hasSubcategoryNav && (
+      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 sm:p-5">
+        <div class="space-y-2">
+          <p class="text-xs font-semibold uppercase tracking-[0.3em] text-emerald-300">Subcategories</p>
+          <div>
+            <h3 class="text-lg font-semibold text-white">{filterLabel}</h3>
+            <p class="text-sm text-slate-400">
+              Showing {listings.length} of {totalListings} listings
+              {activeFilter?.slug ? ` in ${filterLabel}` : ''}.
+            </p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        </div>
+        <div class="mt-4 flex flex-wrap gap-3">
+          {subcategoryNav.map((item) => (
+            <a
+              class={filterLinkClass(item.active)}
+              aria-current={item.active ? 'page' : undefined}
+              href={item.href}
+            >
+              <span>{item.label}</span>
+              <span class="rounded-full border border-white/20 px-2 py-0.5 text-xs text-slate-300">
+                {item.count}
+              </span>
+            </a>
+          ))}
+        </div>
+      </div>
+    )}
+
+    <ol class="space-y-5" role="list">
+      {listings.map((listing, index) => (
+        <DirectoryListing listing={listing} rank={index + 1} />
+      ))}
+    </ol>
+  </section>
+
+  <section id="review-notes" class="glass-panel space-y-4 p-6">
+    <div>
+      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
+      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
+    </div>
+    <p class="text-sm text-slate-300">
+      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
+      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
+    </p>
+    <p class="text-sm text-slate-400">
+      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
+      support@megadirectory.local.
+    </p>
+  </section>
+</BaseLayout>
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..b9da09020776f281176aba75e5654c53f2b555ed
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
@@ -146,6 +180,23 @@
       responseSla: 'Candidate intros in 3 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
       {
         slug: 'fifth-avenue-search',
@@ -155,6 +206,7 @@
         description:
           'Runs calibration sprints, candidate memos, and DEI scorecards for every slate.',
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
         scoreTooltip: 'Composite of placement velocity + candidate NPS.',
         highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
@@ -168,6 +220,7 @@
         description:
           'Stand up stack, interview rubrics, and compensation bands in four sprints.',
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
         scoreTooltip: 'Weighted by onboarding documentation quality.',
         highlights: ['Templates for hiring manager training', 'ATS migrations included'],
@@ -197,6 +250,18 @@
       responseSla: 'Shortlists in 5 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'product-design',
+        name: 'Product & Design',
+        description: 'Product, research, and design recruiting partners.',
+      },
+      {
+        slug: 'gtm',
+        name: 'Go-to-Market',
+        description: 'Sales, marketing, and post-sales recruiters with AI focus.',
+      },
+    ],
     listings: [
       {
         slug: 'mission-placement-studio',
@@ -206,6 +271,7 @@
         description:
           'Sends candidates Loom walkthroughs, salary ladders, and ramp plans before interviews.',
         badges: ['Product', 'Design systems'],
+        subcategories: ['product-design'],
         score: 81.3,
         scoreTooltip: 'Candidate preparedness + hiring manager CSAT weighting.',
         highlights: ['Bench of bilingual coordinators', 'Portfolio critique workshops'],
@@ -219,6 +285,7 @@
         description:
           'Run-of-show templates, comp benchmarking, and enablement for first revenue hires.',
         badges: ['Go-to-market', 'AI'],
+        subcategories: ['gtm'],
         score: 76.7,
         scoreTooltip: 'Score includes ramp success tracking 90 days post-hire.',
         highlights: ['Intent-based sourcing', 'Recordings of calibration calls shared'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/src/pages/listings/[category]/[location].astro b/astro/src/pages/listings/[category]/[location].astro
index 57ef772e43ca04ff1316ce1ea1ca1ba7936f12ad..283d4f3be2e43fc85558d5c9948aa8b9c64fe081
--- a/astro/src/pages/listings/[category]/[location].astro
+++ b/astro/src/pages/listings/[category]/[location].astro
@@ -1,8 +1,11 @@
 ---
-import BaseLayout from '../../../layouts/BaseLayout.astro';
-import DirectoryListing from '../../../components/DirectoryListing.astro';
+import DirectoryPage from '../../../components/DirectoryPage.astro';
 import { directoryCatalog } from '../../../data/directory-catalog.js';
-import { findDirectoryEntry, sortListingsByScore } from '../../../lib/directory-helpers.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildSubcategoryFilterNav,
+} from '../../../lib/directory-helpers.js';
 
 export function getStaticPaths() {
   return directoryCatalog.map((directory) => ({
@@ -25,8 +28,10 @@
   sortedListings.length === 0
     ? '0.0'
     : (
-        sortedListings.reduce((sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0), 0) /
-        sortedListings.length
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
       ).toFixed(1);
 
 const navItems = [
@@ -41,67 +46,15 @@
   { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
   { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
 ];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory);
 ---
 
-<BaseLayout
-  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
-  description={directory.heroSubtitle}
+<DirectoryPage
+  directory={directory}
   navItems={navItems}
->
-  <section id="hero" class="space-y-6">
-    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
-      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.category.name}</span>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.location.name}</span>
-    </nav>
-    <div class="space-y-3">
-      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
-    </div>
-    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
-      {heroStats.map((stat) => (
-        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
-          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
-          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
-        </div>
-      ))}
-    </dl>
-  </section>
-
-  <section id="listings" class="space-y-6">
-    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
-      <div>
-        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
-        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
-        <p class="text-sm text-slate-400">
-          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
-          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
-          notes and highlights.
-        </p>
-      </div>
-      <p class="text-sm text-slate-400">Updated weekly with crawler + admin data</p>
-    </div>
-    <ol class="space-y-5" role="list">
-      {sortedListings.map((listing, index) => (
-        <DirectoryListing listing={listing} rank={index + 1} />
-      ))}
-    </ol>
-  </section>
-
-  <section id="review-notes" class="glass-panel space-y-4 p-6">
-    <div>
-      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
-      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
-    </div>
-    <p class="text-sm text-slate-300">
-      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
-      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
-    </p>
-    <p class="text-sm text-slate-400">
-      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
-      support@megadirectory.local.
-    </p>
-  </section>
-</BaseLayout>
+  heroStats={heroStats}
+  listings={sortedListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/src/pages/listings/[category]/[location]/[subcategory].astro b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
new file mode 100644
index 0000000000000000000000000000000000000000..3dfdc9d53200fc13343d82aa8afdd126fccc489a
--- /dev/null
+++ b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
@@ -0,0 +1,78 @@
+---
+import DirectoryPage from '../../../../components/DirectoryPage.astro';
+import { directoryCatalog } from '../../../../data/directory-catalog.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
+} from '../../../../lib/directory-helpers.js';
+
+export function getStaticPaths() {
+  const paths = [];
+
+  for (const directory of directoryCatalog) {
+    const subcategories = buildDirectorySubcategories(directory);
+    for (const subcategory of subcategories) {
+      paths.push({
+        params: {
+          category: directory.category.slug,
+          location: directory.location.slug,
+          subcategory: subcategory.slug,
+        },
+      });
+    }
+  }
+
+  return paths;
+}
+
+const { category, location, subcategory } = Astro.params;
+const directory = findDirectoryEntry(directoryCatalog, category, location);
+
+if (!directory) {
+  throw new Error(`Directory not found for ${category}/${location}`);
+}
+
+const sortedListings = sortListingsByScore(directory.listings);
+const filteredListings = filterListingsBySubcategory(sortedListings, subcategory);
+
+if (filteredListings.length === 0) {
+  throw new Error(`Subcategory ${subcategory} has no listings for ${category}/${location}`);
+}
+
+const averageScore =
+  sortedListings.length === 0
+    ? '0.0'
+    : (
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
+      ).toFixed(1);
+
+const navItems = [
+  { href: '#hero', label: 'Overview' },
+  { href: '#listings', label: 'Listings' },
+  { href: '#review-notes', label: 'Notes' },
+];
+
+const heroStats = [
+  { label: 'Listings live', value: sortedListings.length },
+  { label: 'Avg score', value: averageScore },
+  { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
+  { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
+];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory, subcategory);
+---
+
+<DirectoryPage
+  directory={directory}
+  navItems={navItems}
+  heroStats={heroStats}
+  listings={filteredListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');


thinking
**Investigating unexpected untracked files in git**
exec
bash -lc 'git ls-files astro/src/components/DirectoryListing.astro' in /var/home/rick/Development/mega-directory succeeded in 39ms:

file update:
diff --git a/astro/src/components/DirectoryPage.astro b/astro/src/components/DirectoryPage.astro
new file mode 100644
index 0000000000000000000000000000000000000000..858b251c7b2e7ec90a5b83ef09e3406ea61afb35
--- /dev/null
+++ b/astro/src/components/DirectoryPage.astro
@@ -0,0 +1,138 @@
+---
+import BaseLayout from '../layouts/BaseLayout.astro';
+import DirectoryListing from './DirectoryListing.astro';
+
+const {
+  directory,
+  navItems,
+  heroStats,
+  listings = [],
+  totalListings = listings.length,
+  subcategoryNav = [],
+} = Astro.props;
+
+const hasSubcategoryNav = subcategoryNav.length > 0;
+const activeFilter = hasSubcategoryNav
+  ? subcategoryNav.find((item) => item.active) ?? subcategoryNav[0]
+  : null;
+const filterLabel = activeFilter?.label ?? 'All subcategories';
+const filterDescription = activeFilter?.description ?? '';
+
+const filterSummary = hasSubcategoryNav
+  ? `Showing ${listings.length} of ${totalListings} listings${
+      activeFilter?.slug ? ` filtered to ${filterLabel}` : ''
+    }.`
+  : '';
+
+const filterLinkClass = (isActive) =>
+  [
+    'inline-flex items-center gap-3 rounded-full border px-4 py-2 text-sm transition',
+    'focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-emerald-400',
+    isActive
+      ? 'border-emerald-400 text-white bg-emerald-400/10'
+      : 'border-white/20 text-slate-200 hover:border-emerald-400/80',
+  ].join(' ');
+---
+
+<BaseLayout
+  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
+  description={directory.heroSubtitle}
+  navItems={navItems}
+>
+  <section id="hero" class="space-y-6">
+    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
+      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.category.name}</span>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.location.name}</span>
+    </nav>
+    <div class="space-y-3">
+      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
+      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+    </div>
+    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
+      {heroStats.map((stat) => (
+        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
+          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
+          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
+        </div>
+      ))}
+    </dl>
+  </section>
+
+  <section id="listings" class="space-y-6">
+    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
+      <div>
+        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
+        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
+        <p class="text-sm text-slate-400">
+          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
+          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
+          notes and highlights.
+        </p>
+      </div>
+      <div class="text-sm text-slate-400 text-left md:text-right">
+        {hasSubcategoryNav ? (
+          <div class="space-y-1">
+            <p>{filterSummary}</p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        ) : (
+          <p>Updated weekly with crawler + admin data</p>
+        )}
+      </div>
+    </div>
+
+    {hasSubcategoryNav && (
+      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 sm:p-5">
+        <div class="space-y-2">
+          <p class="text-xs font-semibold uppercase tracking-[0.3em] text-emerald-300">Subcategories</p>
+          <div>
+            <h3 class="text-lg font-semibold text-white">{filterLabel}</h3>
+            <p class="text-sm text-slate-400">
+              Showing {listings.length} of {totalListings} listings
+              {activeFilter?.slug ? ` in ${filterLabel}` : ''}.
+            </p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        </div>
+        <div class="mt-4 flex flex-wrap gap-3">
+          {subcategoryNav.map((item) => (
+            <a
+              class={filterLinkClass(item.active)}
+              aria-current={item.active ? 'page' : undefined}
+              href={item.href}
+            >
+              <span>{item.label}</span>
+              <span class="rounded-full border border-white/20 px-2 py-0.5 text-xs text-slate-300">
+                {item.count}
+              </span>
+            </a>
+          ))}
+        </div>
+      </div>
+    )}
+
+    <ol class="space-y-5" role="list">
+      {listings.map((listing, index) => (
+        <DirectoryListing listing={listing} rank={index + 1} />
+      ))}
+    </ol>
+  </section>
+
+  <section id="review-notes" class="glass-panel space-y-4 p-6">
+    <div>
+      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
+      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
+    </div>
+    <p class="text-sm text-slate-300">
+      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
+      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
+    </p>
+    <p class="text-sm text-slate-400">
+      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
+      support@megadirectory.local.
+    </p>
+  </section>
+</BaseLayout>
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..b9da09020776f281176aba75e5654c53f2b555ed
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
@@ -146,6 +180,23 @@
       responseSla: 'Candidate intros in 3 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
       {
         slug: 'fifth-avenue-search',
@@ -155,6 +206,7 @@
         description:
           'Runs calibration sprints, candidate memos, and DEI scorecards for every slate.',
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
         scoreTooltip: 'Composite of placement velocity + candidate NPS.',
         highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
@@ -168,6 +220,7 @@
         description:
           'Stand up stack, interview rubrics, and compensation bands in four sprints.',
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
         scoreTooltip: 'Weighted by onboarding documentation quality.',
         highlights: ['Templates for hiring manager training', 'ATS migrations included'],
@@ -197,6 +250,18 @@
       responseSla: 'Shortlists in 5 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'product-design',
+        name: 'Product & Design',
+        description: 'Product, research, and design recruiting partners.',
+      },
+      {
+        slug: 'gtm',
+        name: 'Go-to-Market',
+        description: 'Sales, marketing, and post-sales recruiters with AI focus.',
+      },
+    ],
     listings: [
       {
         slug: 'mission-placement-studio',
@@ -206,6 +271,7 @@
         description:
           'Sends candidates Loom walkthroughs, salary ladders, and ramp plans before interviews.',
         badges: ['Product', 'Design systems'],
+        subcategories: ['product-design'],
         score: 81.3,
         scoreTooltip: 'Candidate preparedness + hiring manager CSAT weighting.',
         highlights: ['Bench of bilingual coordinators', 'Portfolio critique workshops'],
@@ -219,6 +285,7 @@
         description:
           'Run-of-show templates, comp benchmarking, and enablement for first revenue hires.',
         badges: ['Go-to-market', 'AI'],
+        subcategories: ['gtm'],
         score: 76.7,
         scoreTooltip: 'Score includes ramp success tracking 90 days post-hire.',
         highlights: ['Intent-based sourcing', 'Recordings of calibration calls shared'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/src/pages/listings/[category]/[location].astro b/astro/src/pages/listings/[category]/[location].astro
index 57ef772e43ca04ff1316ce1ea1ca1ba7936f12ad..283d4f3be2e43fc85558d5c9948aa8b9c64fe081
--- a/astro/src/pages/listings/[category]/[location].astro
+++ b/astro/src/pages/listings/[category]/[location].astro
@@ -1,8 +1,11 @@
 ---
-import BaseLayout from '../../../layouts/BaseLayout.astro';
-import DirectoryListing from '../../../components/DirectoryListing.astro';
+import DirectoryPage from '../../../components/DirectoryPage.astro';
 import { directoryCatalog } from '../../../data/directory-catalog.js';
-import { findDirectoryEntry, sortListingsByScore } from '../../../lib/directory-helpers.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildSubcategoryFilterNav,
+} from '../../../lib/directory-helpers.js';
 
 export function getStaticPaths() {
   return directoryCatalog.map((directory) => ({
@@ -25,8 +28,10 @@
   sortedListings.length === 0
     ? '0.0'
     : (
-        sortedListings.reduce((sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0), 0) /
-        sortedListings.length
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
       ).toFixed(1);
 
 const navItems = [
@@ -41,67 +46,15 @@
   { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
   { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
 ];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory);
 ---
 
-<BaseLayout
-  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
-  description={directory.heroSubtitle}
+<DirectoryPage
+  directory={directory}
   navItems={navItems}
->
-  <section id="hero" class="space-y-6">
-    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
-      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.category.name}</span>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.location.name}</span>
-    </nav>
-    <div class="space-y-3">
-      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
-    </div>
-    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
-      {heroStats.map((stat) => (
-        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
-          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
-          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
-        </div>
-      ))}
-    </dl>
-  </section>
-
-  <section id="listings" class="space-y-6">
-    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
-      <div>
-        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
-        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
-        <p class="text-sm text-slate-400">
-          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
-          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
-          notes and highlights.
-        </p>
-      </div>
-      <p class="text-sm text-slate-400">Updated weekly with crawler + admin data</p>
-    </div>
-    <ol class="space-y-5" role="list">
-      {sortedListings.map((listing, index) => (
-        <DirectoryListing listing={listing} rank={index + 1} />
-      ))}
-    </ol>
-  </section>
-
-  <section id="review-notes" class="glass-panel space-y-4 p-6">
-    <div>
-      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
-      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
-    </div>
-    <p class="text-sm text-slate-300">
-      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
-      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
-    </p>
-    <p class="text-sm text-slate-400">
-      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
-      support@megadirectory.local.
-    </p>
-  </section>
-</BaseLayout>
+  heroStats={heroStats}
+  listings={sortedListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/src/pages/listings/[category]/[location]/[subcategory].astro b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
new file mode 100644
index 0000000000000000000000000000000000000000..3dfdc9d53200fc13343d82aa8afdd126fccc489a
--- /dev/null
+++ b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
@@ -0,0 +1,78 @@
+---
+import DirectoryPage from '../../../../components/DirectoryPage.astro';
+import { directoryCatalog } from '../../../../data/directory-catalog.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
+} from '../../../../lib/directory-helpers.js';
+
+export function getStaticPaths() {
+  const paths = [];
+
+  for (const directory of directoryCatalog) {
+    const subcategories = buildDirectorySubcategories(directory);
+    for (const subcategory of subcategories) {
+      paths.push({
+        params: {
+          category: directory.category.slug,
+          location: directory.location.slug,
+          subcategory: subcategory.slug,
+        },
+      });
+    }
+  }
+
+  return paths;
+}
+
+const { category, location, subcategory } = Astro.params;
+const directory = findDirectoryEntry(directoryCatalog, category, location);
+
+if (!directory) {
+  throw new Error(`Directory not found for ${category}/${location}`);
+}
+
+const sortedListings = sortListingsByScore(directory.listings);
+const filteredListings = filterListingsBySubcategory(sortedListings, subcategory);
+
+if (filteredListings.length === 0) {
+  throw new Error(`Subcategory ${subcategory} has no listings for ${category}/${location}`);
+}
+
+const averageScore =
+  sortedListings.length === 0
+    ? '0.0'
+    : (
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
+      ).toFixed(1);
+
+const navItems = [
+  { href: '#hero', label: 'Overview' },
+  { href: '#listings', label: 'Listings' },
+  { href: '#review-notes', label: 'Notes' },
+];
+
+const heroStats = [
+  { label: 'Listings live', value: sortedListings.length },
+  { label: 'Avg score', value: averageScore },
+  { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
+  { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
+];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory, subcategory);
+---
+
+<DirectoryPage
+  directory={directory}
+  navItems={navItems}
+  heroStats={heroStats}
+  listings={filteredListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');


thinking
**Analyzing file tracking and line referencing**
exec
bash -lc "nl -ba astro/src/lib/directory-helpers.js | sed -n '1,240p'" in /var/home/rick/Development/mega-directory succeeded in 50ms:
     1	const FALLBACK_SCORE = -Infinity;
     2	
     3	const normalizeScore = (value) =>
     4	  typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
     5	
     6	const normalizeSlug = (value, fallback = 'directory') => {
     7	  const normalized = String(value ?? '')
     8	    .trim()
     9	    .toLowerCase()
    10	    .replace(/[^a-z0-9]+/g, '-')
    11	    .replace(/^-+|-+$/g, '');
    12	  return normalized || fallback;
    13	};
    14	
    15	const humanizeSlug = (value = '') =>
    16	  String(value)
    17	    .split('-')
    18	    .filter(Boolean)
    19	    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
    20	    .join(' ') || value;
file update:
diff --git a/astro/src/components/DirectoryPage.astro b/astro/src/components/DirectoryPage.astro
new file mode 100644
index 0000000000000000000000000000000000000000..858b251c7b2e7ec90a5b83ef09e3406ea61afb35
--- /dev/null
+++ b/astro/src/components/DirectoryPage.astro
@@ -0,0 +1,138 @@
+---
+import BaseLayout from '../layouts/BaseLayout.astro';
+import DirectoryListing from './DirectoryListing.astro';
+
+const {
+  directory,
+  navItems,
+  heroStats,
+  listings = [],
+  totalListings = listings.length,
+  subcategoryNav = [],
+} = Astro.props;
+
+const hasSubcategoryNav = subcategoryNav.length > 0;
+const activeFilter = hasSubcategoryNav
+  ? subcategoryNav.find((item) => item.active) ?? subcategoryNav[0]
+  : null;
+const filterLabel = activeFilter?.label ?? 'All subcategories';
+const filterDescription = activeFilter?.description ?? '';
+
+const filterSummary = hasSubcategoryNav
+  ? `Showing ${listings.length} of ${totalListings} listings${
+      activeFilter?.slug ? ` filtered to ${filterLabel}` : ''
+    }.`
+  : '';
+
+const filterLinkClass = (isActive) =>
+  [
+    'inline-flex items-center gap-3 rounded-full border px-4 py-2 text-sm transition',
+    'focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-emerald-400',
+    isActive
+      ? 'border-emerald-400 text-white bg-emerald-400/10'
+      : 'border-white/20 text-slate-200 hover:border-emerald-400/80',
+  ].join(' ');
+---
+
+<BaseLayout
+  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
+  description={directory.heroSubtitle}
+  navItems={navItems}
+>
+  <section id="hero" class="space-y-6">
+    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
+      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.category.name}</span>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.location.name}</span>
+    </nav>
+    <div class="space-y-3">
+      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
+      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+    </div>
+    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
+      {heroStats.map((stat) => (
+        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
+          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
+          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
+        </div>
+      ))}
+    </dl>
+  </section>
+
+  <section id="listings" class="space-y-6">
+    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
+      <div>
+        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
+        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
+        <p class="text-sm text-slate-400">
+          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
+          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
+          notes and highlights.
+        </p>
+      </div>
+      <div class="text-sm text-slate-400 text-left md:text-right">
+        {hasSubcategoryNav ? (
+          <div class="space-y-1">
+            <p>{filterSummary}</p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        ) : (
+          <p>Updated weekly with crawler + admin data</p>
+        )}
+      </div>
+    </div>
+
+    {hasSubcategoryNav && (
+      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 sm:p-5">
+        <div class="space-y-2">
+          <p class="text-xs font-semibold uppercase tracking-[0.3em] text-emerald-300">Subcategories</p>
+          <div>
+            <h3 class="text-lg font-semibold text-white">{filterLabel}</h3>
+            <p class="text-sm text-slate-400">
+              Showing {listings.length} of {totalListings} listings
+              {activeFilter?.slug ? ` in ${filterLabel}` : ''}.
+            </p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        </div>
+        <div class="mt-4 flex flex-wrap gap-3">
+          {subcategoryNav.map((item) => (
+            <a
+              class={filterLinkClass(item.active)}
+              aria-current={item.active ? 'page' : undefined}
+              href={item.href}
+            >
+              <span>{item.label}</span>
+              <span class="rounded-full border border-white/20 px-2 py-0.5 text-xs text-slate-300">
+                {item.count}
+              </span>
+            </a>
+          ))}
+        </div>
+      </div>
+    )}
+
+    <ol class="space-y-5" role="list">
+      {listings.map((listing, index) => (
+        <DirectoryListing listing={listing} rank={index + 1} />
+      ))}
+    </ol>
+  </section>
+
+  <section id="review-notes" class="glass-panel space-y-4 p-6">
+    <div>
+      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
+      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
+    </div>
+    <p class="text-sm text-slate-300">
+      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
+      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
+    </p>
+    <p class="text-sm text-slate-400">
+      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
+      support@megadirectory.local.
+    </p>
+  </section>
+</BaseLayout>
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..b9da09020776f281176aba75e5654c53f2b555ed
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
@@ -146,6 +180,23 @@
       responseSla: 'Candidate intros in 3 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
       {
         slug: 'fifth-avenue-search',
@@ -155,6 +206,7 @@
         description:
           'Runs calibration sprints, candidate memos, and DEI scorecards for every slate.',
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
         scoreTooltip: 'Composite of placement velocity + candidate NPS.',
         highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
@@ -168,6 +220,7 @@
         description:
           'Stand up stack, interview rubrics, and compensation bands in four sprints.',
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
         scoreTooltip: 'Weighted by onboarding documentation quality.',
         highlights: ['Templates for hiring manager training', 'ATS migrations included'],
@@ -197,6 +250,18 @@
       responseSla: 'Shortlists in 5 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'product-design',
+        name: 'Product & Design',
+        description: 'Product, research, and design recruiting partners.',
+      },
+      {
+        slug: 'gtm',
+        name: 'Go-to-Market',
+        description: 'Sales, marketing, and post-sales recruiters with AI focus.',
+      },
+    ],
     listings: [
       {
         slug: 'mission-placement-studio',
@@ -206,6 +271,7 @@
         description:
           'Sends candidates Loom walkthroughs, salary ladders, and ramp plans before interviews.',
         badges: ['Product', 'Design systems'],
+        subcategories: ['product-design'],
         score: 81.3,
         scoreTooltip: 'Candidate preparedness + hiring manager CSAT weighting.',
         highlights: ['Bench of bilingual coordinators', 'Portfolio critique workshops'],
@@ -219,6 +285,7 @@
         description:
           'Run-of-show templates, comp benchmarking, and enablement for first revenue hires.',
         badges: ['Go-to-market', 'AI'],
+        subcategories: ['gtm'],
         score: 76.7,
         scoreTooltip: 'Score includes ramp success tracking 90 days post-hire.',
         highlights: ['Intent-based sourcing', 'Recordings of calibration calls shared'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/src/pages/listings/[category]/[location].astro b/astro/src/pages/listings/[category]/[location].astro
index 57ef772e43ca04ff1316ce1ea1ca1ba7936f12ad..283d4f3be2e43fc85558d5c9948aa8b9c64fe081
--- a/astro/src/pages/listings/[category]/[location].astro
+++ b/astro/src/pages/listings/[category]/[location].astro
@@ -1,8 +1,11 @@
 ---
-import BaseLayout from '../../../layouts/BaseLayout.astro';
-import DirectoryListing from '../../../components/DirectoryListing.astro';
+import DirectoryPage from '../../../components/DirectoryPage.astro';
 import { directoryCatalog } from '../../../data/directory-catalog.js';
-import { findDirectoryEntry, sortListingsByScore } from '../../../lib/directory-helpers.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildSubcategoryFilterNav,
+} from '../../../lib/directory-helpers.js';
 
 export function getStaticPaths() {
   return directoryCatalog.map((directory) => ({
@@ -25,8 +28,10 @@
   sortedListings.length === 0
     ? '0.0'
     : (
-        sortedListings.reduce((sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0), 0) /
-        sortedListings.length
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
       ).toFixed(1);
 
 const navItems = [
@@ -41,67 +46,15 @@
   { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
   { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
 ];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory);
 ---
 
-<BaseLayout
-  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
-  description={directory.heroSubtitle}
+<DirectoryPage
+  directory={directory}
   navItems={navItems}
->
-  <section id="hero" class="space-y-6">
-    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
-      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.category.name}</span>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.location.name}</span>
-    </nav>
-    <div class="space-y-3">
-      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
-    </div>
-    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
-      {heroStats.map((stat) => (
-        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
-          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
-          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
-        </div>
-      ))}
-    </dl>
-  </section>
-
-  <section id="listings" class="space-y-6">
-    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
-      <div>
-        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
-        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
-        <p class="text-sm text-slate-400">
-          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
-          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
-          notes and highlights.
-        </p>
-      </div>
-      <p class="text-sm text-slate-400">Updated weekly with crawler + admin data</p>
-    </div>
-    <ol class="space-y-5" role="list">
-      {sortedListings.map((listing, index) => (
-        <DirectoryListing listing={listing} rank={index + 1} />
-      ))}
-    </ol>
-  </section>
-
-  <section id="review-notes" class="glass-panel space-y-4 p-6">
-    <div>
-      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
-      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
-    </div>
-    <p class="text-sm text-slate-300">
-      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
-      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
-    </p>
-    <p class="text-sm text-slate-400">
-      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
-      support@megadirectory.local.
-    </p>
-  </section>
-</BaseLayout>
+  heroStats={heroStats}
+  listings={sortedListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/src/pages/listings/[category]/[location]/[subcategory].astro b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
new file mode 100644
index 0000000000000000000000000000000000000000..3dfdc9d53200fc13343d82aa8afdd126fccc489a
--- /dev/null
+++ b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
@@ -0,0 +1,78 @@
+---
+import DirectoryPage from '../../../../components/DirectoryPage.astro';
+import { directoryCatalog } from '../../../../data/directory-catalog.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
+} from '../../../../lib/directory-helpers.js';
+
+export function getStaticPaths() {
+  const paths = [];
+
+  for (const directory of directoryCatalog) {
+    const subcategories = buildDirectorySubcategories(directory);
+    for (const subcategory of subcategories) {
+      paths.push({
+        params: {
+          category: directory.category.slug,
+          location: directory.location.slug,
+          subcategory: subcategory.slug,
+        },
+      });
+    }
+  }
+
+  return paths;
+}
+
+const { category, location, subcategory } = Astro.params;
+const directory = findDirectoryEntry(directoryCatalog, category, location);
+
+if (!directory) {
+  throw new Error(`Directory not found for ${category}/${location}`);
+}
+
+const sortedListings = sortListingsByScore(directory.listings);
+const filteredListings = filterListingsBySubcategory(sortedListings, subcategory);
+
+if (filteredListings.length === 0) {
+  throw new Error(`Subcategory ${subcategory} has no listings for ${category}/${location}`);
+}
+
+const averageScore =
+  sortedListings.length === 0
+    ? '0.0'
+    : (
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
+      ).toFixed(1);
+
+const navItems = [
+  { href: '#hero', label: 'Overview' },
+  { href: '#listings', label: 'Listings' },
+  { href: '#review-notes', label: 'Notes' },
+];
+
+const heroStats = [
+  { label: 'Listings live', value: sortedListings.length },
+  { label: 'Avg score', value: averageScore },
+  { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
+  { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
+];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory, subcategory);
+---
+
+<DirectoryPage
+  directory={directory}
+  navItems={navItems}
+  heroStats={heroStats}
+  listings={filteredListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');


thinking
**Continuing to capture file content**
exec
bash -lc "nl -ba astro/src/lib/directory-helpers.js | sed -n '240,360p'" in /var/home/rick/Development/mega-directory succeeded in 48ms:
   240	export function filterListingsBySubcategory(listings = [], subcategorySlug) {
   241	  const sortedListings = sortListingsByScore(listings);
   242	  if (!subcategorySlug) {
   243	    return sortedListings;
   244	  }
   245	
   246	  const normalizedSlug = normalizeSlug(subcategorySlug, '');
   247	  if (!normalizedSlug) {
   248	    return [];
   249	  }
   250	
   251	  return sortedListings.filter((listing) =>
   252	    normalizeListingSubcategories(listing?.subcategories).some(
   253	      (entry) => entry.slug === normalizedSlug,
   254	    ),
   255	  );
   256	}
   257	
   258	export function buildSubcategoryFilterNav(directory, activeSubcategory) {
   259	  if (
file update:
diff --git a/astro/src/components/DirectoryPage.astro b/astro/src/components/DirectoryPage.astro
new file mode 100644
index 0000000000000000000000000000000000000000..858b251c7b2e7ec90a5b83ef09e3406ea61afb35
--- /dev/null
+++ b/astro/src/components/DirectoryPage.astro
@@ -0,0 +1,138 @@
+---
+import BaseLayout from '../layouts/BaseLayout.astro';
+import DirectoryListing from './DirectoryListing.astro';
+
+const {
+  directory,
+  navItems,
+  heroStats,
+  listings = [],
+  totalListings = listings.length,
+  subcategoryNav = [],
+} = Astro.props;
+
+const hasSubcategoryNav = subcategoryNav.length > 0;
+const activeFilter = hasSubcategoryNav
+  ? subcategoryNav.find((item) => item.active) ?? subcategoryNav[0]
+  : null;
+const filterLabel = activeFilter?.label ?? 'All subcategories';
+const filterDescription = activeFilter?.description ?? '';
+
+const filterSummary = hasSubcategoryNav
+  ? `Showing ${listings.length} of ${totalListings} listings${
+      activeFilter?.slug ? ` filtered to ${filterLabel}` : ''
+    }.`
+  : '';
+
+const filterLinkClass = (isActive) =>
+  [
+    'inline-flex items-center gap-3 rounded-full border px-4 py-2 text-sm transition',
+    'focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-emerald-400',
+    isActive
+      ? 'border-emerald-400 text-white bg-emerald-400/10'
+      : 'border-white/20 text-slate-200 hover:border-emerald-400/80',
+  ].join(' ');
+---
+
+<BaseLayout
+  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
+  description={directory.heroSubtitle}
+  navItems={navItems}
+>
+  <section id="hero" class="space-y-6">
+    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
+      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.category.name}</span>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.location.name}</span>
+    </nav>
+    <div class="space-y-3">
+      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
+      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+    </div>
+    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
+      {heroStats.map((stat) => (
+        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
+          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
+          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
+        </div>
+      ))}
+    </dl>
+  </section>
+
+  <section id="listings" class="space-y-6">
+    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
+      <div>
+        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
+        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
+        <p class="text-sm text-slate-400">
+          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
+          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
+          notes and highlights.
+        </p>
+      </div>
+      <div class="text-sm text-slate-400 text-left md:text-right">
+        {hasSubcategoryNav ? (
+          <div class="space-y-1">
+            <p>{filterSummary}</p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        ) : (
+          <p>Updated weekly with crawler + admin data</p>
+        )}
+      </div>
+    </div>
+
+    {hasSubcategoryNav && (
+      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 sm:p-5">
+        <div class="space-y-2">
+          <p class="text-xs font-semibold uppercase tracking-[0.3em] text-emerald-300">Subcategories</p>
+          <div>
+            <h3 class="text-lg font-semibold text-white">{filterLabel}</h3>
+            <p class="text-sm text-slate-400">
+              Showing {listings.length} of {totalListings} listings
+              {activeFilter?.slug ? ` in ${filterLabel}` : ''}.
+            </p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        </div>
+        <div class="mt-4 flex flex-wrap gap-3">
+          {subcategoryNav.map((item) => (
+            <a
+              class={filterLinkClass(item.active)}
+              aria-current={item.active ? 'page' : undefined}
+              href={item.href}
+            >
+              <span>{item.label}</span>
+              <span class="rounded-full border border-white/20 px-2 py-0.5 text-xs text-slate-300">
+                {item.count}
+              </span>
+            </a>
+          ))}
+        </div>
+      </div>
+    )}
+
+    <ol class="space-y-5" role="list">
+      {listings.map((listing, index) => (
+        <DirectoryListing listing={listing} rank={index + 1} />
+      ))}
+    </ol>
+  </section>
+
+  <section id="review-notes" class="glass-panel space-y-4 p-6">
+    <div>
+      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
+      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
+    </div>
+    <p class="text-sm text-slate-300">
+      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
+      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
+    </p>
+    <p class="text-sm text-slate-400">
+      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
+      support@megadirectory.local.
+    </p>
+  </section>
+</BaseLayout>
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..b9da09020776f281176aba75e5654c53f2b555ed
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
@@ -146,6 +180,23 @@
       responseSla: 'Candidate intros in 3 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
       {
         slug: 'fifth-avenue-search',
@@ -155,6 +206,7 @@
         description:
           'Runs calibration sprints, candidate memos, and DEI scorecards for every slate.',
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
         scoreTooltip: 'Composite of placement velocity + candidate NPS.',
         highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
@@ -168,6 +220,7 @@
         description:
           'Stand up stack, interview rubrics, and compensation bands in four sprints.',
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
         scoreTooltip: 'Weighted by onboarding documentation quality.',
         highlights: ['Templates for hiring manager training', 'ATS migrations included'],
@@ -197,6 +250,18 @@
       responseSla: 'Shortlists in 5 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'product-design',
+        name: 'Product & Design',
+        description: 'Product, research, and design recruiting partners.',
+      },
+      {
+        slug: 'gtm',
+        name: 'Go-to-Market',
+        description: 'Sales, marketing, and post-sales recruiters with AI focus.',
+      },
+    ],
     listings: [
       {
         slug: 'mission-placement-studio',
@@ -206,6 +271,7 @@
         description:
           'Sends candidates Loom walkthroughs, salary ladders, and ramp plans before interviews.',
         badges: ['Product', 'Design systems'],
+        subcategories: ['product-design'],
         score: 81.3,
         scoreTooltip: 'Candidate preparedness + hiring manager CSAT weighting.',
         highlights: ['Bench of bilingual coordinators', 'Portfolio critique workshops'],
@@ -219,6 +285,7 @@
         description:
           'Run-of-show templates, comp benchmarking, and enablement for first revenue hires.',
         badges: ['Go-to-market', 'AI'],
+        subcategories: ['gtm'],
         score: 76.7,
         scoreTooltip: 'Score includes ramp success tracking 90 days post-hire.',
         highlights: ['Intent-based sourcing', 'Recordings of calibration calls shared'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/src/pages/listings/[category]/[location].astro b/astro/src/pages/listings/[category]/[location].astro
index 57ef772e43ca04ff1316ce1ea1ca1ba7936f12ad..283d4f3be2e43fc85558d5c9948aa8b9c64fe081
--- a/astro/src/pages/listings/[category]/[location].astro
+++ b/astro/src/pages/listings/[category]/[location].astro
@@ -1,8 +1,11 @@
 ---
-import BaseLayout from '../../../layouts/BaseLayout.astro';
-import DirectoryListing from '../../../components/DirectoryListing.astro';
+import DirectoryPage from '../../../components/DirectoryPage.astro';
 import { directoryCatalog } from '../../../data/directory-catalog.js';
-import { findDirectoryEntry, sortListingsByScore } from '../../../lib/directory-helpers.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildSubcategoryFilterNav,
+} from '../../../lib/directory-helpers.js';
 
 export function getStaticPaths() {
   return directoryCatalog.map((directory) => ({
@@ -25,8 +28,10 @@
   sortedListings.length === 0
     ? '0.0'
     : (
-        sortedListings.reduce((sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0), 0) /
-        sortedListings.length
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
       ).toFixed(1);
 
 const navItems = [
@@ -41,67 +46,15 @@
   { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
   { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
 ];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory);
 ---
 
-<BaseLayout
-  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
-  description={directory.heroSubtitle}
+<DirectoryPage
+  directory={directory}
   navItems={navItems}
->
-  <section id="hero" class="space-y-6">
-    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
-      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.category.name}</span>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.location.name}</span>
-    </nav>
-    <div class="space-y-3">
-      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
-    </div>
-    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
-      {heroStats.map((stat) => (
-        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
-          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
-          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
-        </div>
-      ))}
-    </dl>
-  </section>
-
-  <section id="listings" class="space-y-6">
-    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
-      <div>
-        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
-        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
-        <p class="text-sm text-slate-400">
-          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
-          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
-          notes and highlights.
-        </p>
-      </div>
-      <p class="text-sm text-slate-400">Updated weekly with crawler + admin data</p>
-    </div>
-    <ol class="space-y-5" role="list">
-      {sortedListings.map((listing, index) => (
-        <DirectoryListing listing={listing} rank={index + 1} />
-      ))}
-    </ol>
-  </section>
-
-  <section id="review-notes" class="glass-panel space-y-4 p-6">
-    <div>
-      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
-      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
-    </div>
-    <p class="text-sm text-slate-300">
-      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
-      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
-    </p>
-    <p class="text-sm text-slate-400">
-      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
-      support@megadirectory.local.
-    </p>
-  </section>
-</BaseLayout>
+  heroStats={heroStats}
+  listings={sortedListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/src/pages/listings/[category]/[location]/[subcategory].astro b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
new file mode 100644
index 0000000000000000000000000000000000000000..3dfdc9d53200fc13343d82aa8afdd126fccc489a
--- /dev/null
+++ b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
@@ -0,0 +1,78 @@
+---
+import DirectoryPage from '../../../../components/DirectoryPage.astro';
+import { directoryCatalog } from '../../../../data/directory-catalog.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
+} from '../../../../lib/directory-helpers.js';
+
+export function getStaticPaths() {
+  const paths = [];
+
+  for (const directory of directoryCatalog) {
+    const subcategories = buildDirectorySubcategories(directory);
+    for (const subcategory of subcategories) {
+      paths.push({
+        params: {
+          category: directory.category.slug,
+          location: directory.location.slug,
+          subcategory: subcategory.slug,
+        },
+      });
+    }
+  }
+
+  return paths;
+}
+
+const { category, location, subcategory } = Astro.params;
+const directory = findDirectoryEntry(directoryCatalog, category, location);
+
+if (!directory) {
+  throw new Error(`Directory not found for ${category}/${location}`);
+}
+
+const sortedListings = sortListingsByScore(directory.listings);
+const filteredListings = filterListingsBySubcategory(sortedListings, subcategory);
+
+if (filteredListings.length === 0) {
+  throw new Error(`Subcategory ${subcategory} has no listings for ${category}/${location}`);
+}
+
+const averageScore =
+  sortedListings.length === 0
+    ? '0.0'
+    : (
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
+      ).toFixed(1);
+
+const navItems = [
+  { href: '#hero', label: 'Overview' },
+  { href: '#listings', label: 'Listings' },
+  { href: '#review-notes', label: 'Notes' },
+];
+
+const heroStats = [
+  { label: 'Listings live', value: sortedListings.length },
+  { label: 'Avg score', value: averageScore },
+  { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
+  { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
+];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory, subcategory);
+---
+
+<DirectoryPage
+  directory={directory}
+  navItems={navItems}
+  heroStats={heroStats}
+  listings={filteredListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');


thinking
**Preparing to note line numbers**
exec
bash -lc "nl -ba astro/test/directory-helpers.test.mjs | sed -n '1,260p'" in /var/home/rick/Development/mega-directory succeeded in 43ms:
     1	import test from 'node:test';
     2	import assert from 'node:assert/strict';
     3	import {
     4	  sortListingsByScore,
     5	  buildDirectoryGroups,
     6	  buildDirectoryPath,
     7	  buildSubcategoryPath,
     8	  buildDirectorySubcategories,
     9	  buildSubcategoryFilterNav,
    10	  filterListingsBySubcategory,
    11	  findDirectoryEntry,
    12	} from '../src/lib/directory-helpers.js';
    13	
    14	const sampleDirectories = [
    15	  {
    16	    slug: 'professional-services-new-york-city',
    17	    name: 'NYC Professional Services',
    18	    category: { slug: 'professional-services', name: 'Professional Services' },
    19	    location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
    20	    heroTitle: 'Trusted Pros in NYC',
file update:
diff --git a/astro/src/components/DirectoryPage.astro b/astro/src/components/DirectoryPage.astro
new file mode 100644
index 0000000000000000000000000000000000000000..858b251c7b2e7ec90a5b83ef09e3406ea61afb35
--- /dev/null
+++ b/astro/src/components/DirectoryPage.astro
@@ -0,0 +1,138 @@
+---
+import BaseLayout from '../layouts/BaseLayout.astro';
+import DirectoryListing from './DirectoryListing.astro';
+
+const {
+  directory,
+  navItems,
+  heroStats,
+  listings = [],
+  totalListings = listings.length,
+  subcategoryNav = [],
+} = Astro.props;
+
+const hasSubcategoryNav = subcategoryNav.length > 0;
+const activeFilter = hasSubcategoryNav
+  ? subcategoryNav.find((item) => item.active) ?? subcategoryNav[0]
+  : null;
+const filterLabel = activeFilter?.label ?? 'All subcategories';
+const filterDescription = activeFilter?.description ?? '';
+
+const filterSummary = hasSubcategoryNav
+  ? `Showing ${listings.length} of ${totalListings} listings${
+      activeFilter?.slug ? ` filtered to ${filterLabel}` : ''
+    }.`
+  : '';
+
+const filterLinkClass = (isActive) =>
+  [
+    'inline-flex items-center gap-3 rounded-full border px-4 py-2 text-sm transition',
+    'focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-emerald-400',
+    isActive
+      ? 'border-emerald-400 text-white bg-emerald-400/10'
+      : 'border-white/20 text-slate-200 hover:border-emerald-400/80',
+  ].join(' ');
+---
+
+<BaseLayout
+  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
+  description={directory.heroSubtitle}
+  navItems={navItems}
+>
+  <section id="hero" class="space-y-6">
+    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
+      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.category.name}</span>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.location.name}</span>
+    </nav>
+    <div class="space-y-3">
+      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
+      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+    </div>
+    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
+      {heroStats.map((stat) => (
+        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
+          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
+          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
+        </div>
+      ))}
+    </dl>
+  </section>
+
+  <section id="listings" class="space-y-6">
+    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
+      <div>
+        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
+        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
+        <p class="text-sm text-slate-400">
+          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
+          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
+          notes and highlights.
+        </p>
+      </div>
+      <div class="text-sm text-slate-400 text-left md:text-right">
+        {hasSubcategoryNav ? (
+          <div class="space-y-1">
+            <p>{filterSummary}</p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        ) : (
+          <p>Updated weekly with crawler + admin data</p>
+        )}
+      </div>
+    </div>
+
+    {hasSubcategoryNav && (
+      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 sm:p-5">
+        <div class="space-y-2">
+          <p class="text-xs font-semibold uppercase tracking-[0.3em] text-emerald-300">Subcategories</p>
+          <div>
+            <h3 class="text-lg font-semibold text-white">{filterLabel}</h3>
+            <p class="text-sm text-slate-400">
+              Showing {listings.length} of {totalListings} listings
+              {activeFilter?.slug ? ` in ${filterLabel}` : ''}.
+            </p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        </div>
+        <div class="mt-4 flex flex-wrap gap-3">
+          {subcategoryNav.map((item) => (
+            <a
+              class={filterLinkClass(item.active)}
+              aria-current={item.active ? 'page' : undefined}
+              href={item.href}
+            >
+              <span>{item.label}</span>
+              <span class="rounded-full border border-white/20 px-2 py-0.5 text-xs text-slate-300">
+                {item.count}
+              </span>
+            </a>
+          ))}
+        </div>
+      </div>
+    )}
+
+    <ol class="space-y-5" role="list">
+      {listings.map((listing, index) => (
+        <DirectoryListing listing={listing} rank={index + 1} />
+      ))}
+    </ol>
+  </section>
+
+  <section id="review-notes" class="glass-panel space-y-4 p-6">
+    <div>
+      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
+      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
+    </div>
+    <p class="text-sm text-slate-300">
+      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
+      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
+    </p>
+    <p class="text-sm text-slate-400">
+      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
+      support@megadirectory.local.
+    </p>
+  </section>
+</BaseLayout>
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..b9da09020776f281176aba75e5654c53f2b555ed
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
@@ -146,6 +180,23 @@
       responseSla: 'Candidate intros in 3 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
       {
         slug: 'fifth-avenue-search',
@@ -155,6 +206,7 @@
         description:
           'Runs calibration sprints, candidate memos, and DEI scorecards for every slate.',
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
         scoreTooltip: 'Composite of placement velocity + candidate NPS.',
         highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
@@ -168,6 +220,7 @@
         description:
           'Stand up stack, interview rubrics, and compensation bands in four sprints.',
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
         scoreTooltip: 'Weighted by onboarding documentation quality.',
         highlights: ['Templates for hiring manager training', 'ATS migrations included'],
@@ -197,6 +250,18 @@
       responseSla: 'Shortlists in 5 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'product-design',
+        name: 'Product & Design',
+        description: 'Product, research, and design recruiting partners.',
+      },
+      {
+        slug: 'gtm',
+        name: 'Go-to-Market',
+        description: 'Sales, marketing, and post-sales recruiters with AI focus.',
+      },
+    ],
     listings: [
       {
         slug: 'mission-placement-studio',
@@ -206,6 +271,7 @@
         description:
           'Sends candidates Loom walkthroughs, salary ladders, and ramp plans before interviews.',
         badges: ['Product', 'Design systems'],
+        subcategories: ['product-design'],
         score: 81.3,
         scoreTooltip: 'Candidate preparedness + hiring manager CSAT weighting.',
         highlights: ['Bench of bilingual coordinators', 'Portfolio critique workshops'],
@@ -219,6 +285,7 @@
         description:
           'Run-of-show templates, comp benchmarking, and enablement for first revenue hires.',
         badges: ['Go-to-market', 'AI'],
+        subcategories: ['gtm'],
         score: 76.7,
         scoreTooltip: 'Score includes ramp success tracking 90 days post-hire.',
         highlights: ['Intent-based sourcing', 'Recordings of calibration calls shared'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/src/pages/listings/[category]/[location].astro b/astro/src/pages/listings/[category]/[location].astro
index 57ef772e43ca04ff1316ce1ea1ca1ba7936f12ad..283d4f3be2e43fc85558d5c9948aa8b9c64fe081
--- a/astro/src/pages/listings/[category]/[location].astro
+++ b/astro/src/pages/listings/[category]/[location].astro
@@ -1,8 +1,11 @@
 ---
-import BaseLayout from '../../../layouts/BaseLayout.astro';
-import DirectoryListing from '../../../components/DirectoryListing.astro';
+import DirectoryPage from '../../../components/DirectoryPage.astro';
 import { directoryCatalog } from '../../../data/directory-catalog.js';
-import { findDirectoryEntry, sortListingsByScore } from '../../../lib/directory-helpers.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildSubcategoryFilterNav,
+} from '../../../lib/directory-helpers.js';
 
 export function getStaticPaths() {
   return directoryCatalog.map((directory) => ({
@@ -25,8 +28,10 @@
   sortedListings.length === 0
     ? '0.0'
     : (
-        sortedListings.reduce((sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0), 0) /
-        sortedListings.length
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
       ).toFixed(1);
 
 const navItems = [
@@ -41,67 +46,15 @@
   { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
   { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
 ];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory);
 ---
 
-<BaseLayout
-  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
-  description={directory.heroSubtitle}
+<DirectoryPage
+  directory={directory}
   navItems={navItems}
->
-  <section id="hero" class="space-y-6">
-    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
-      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.category.name}</span>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.location.name}</span>
-    </nav>
-    <div class="space-y-3">
-      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
-    </div>
-    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
-      {heroStats.map((stat) => (
-        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
-          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
-          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
-        </div>
-      ))}
-    </dl>
-  </section>
-
-  <section id="listings" class="space-y-6">
-    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
-      <div>
-        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
-        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
-        <p class="text-sm text-slate-400">
-          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
-          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
-          notes and highlights.
-        </p>
-      </div>
-      <p class="text-sm text-slate-400">Updated weekly with crawler + admin data</p>
-    </div>
-    <ol class="space-y-5" role="list">
-      {sortedListings.map((listing, index) => (
-        <DirectoryListing listing={listing} rank={index + 1} />
-      ))}
-    </ol>
-  </section>
-
-  <section id="review-notes" class="glass-panel space-y-4 p-6">
-    <div>
-      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
-      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
-    </div>
-    <p class="text-sm text-slate-300">
-      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
-      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
-    </p>
-    <p class="text-sm text-slate-400">
-      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
-      support@megadirectory.local.
-    </p>
-  </section>
-</BaseLayout>
+  heroStats={heroStats}
+  listings={sortedListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/src/pages/listings/[category]/[location]/[subcategory].astro b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
new file mode 100644
index 0000000000000000000000000000000000000000..3dfdc9d53200fc13343d82aa8afdd126fccc489a
--- /dev/null
+++ b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
@@ -0,0 +1,78 @@
+---
+import DirectoryPage from '../../../../components/DirectoryPage.astro';
+import { directoryCatalog } from '../../../../data/directory-catalog.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
+} from '../../../../lib/directory-helpers.js';
+
+export function getStaticPaths() {
+  const paths = [];
+
+  for (const directory of directoryCatalog) {
+    const subcategories = buildDirectorySubcategories(directory);
+    for (const subcategory of subcategories) {
+      paths.push({
+        params: {
+          category: directory.category.slug,
+          location: directory.location.slug,
+          subcategory: subcategory.slug,
+        },
+      });
+    }
+  }
+
+  return paths;
+}
+
+const { category, location, subcategory } = Astro.params;
+const directory = findDirectoryEntry(directoryCatalog, category, location);
+
+if (!directory) {
+  throw new Error(`Directory not found for ${category}/${location}`);
+}
+
+const sortedListings = sortListingsByScore(directory.listings);
+const filteredListings = filterListingsBySubcategory(sortedListings, subcategory);
+
+if (filteredListings.length === 0) {
+  throw new Error(`Subcategory ${subcategory} has no listings for ${category}/${location}`);
+}
+
+const averageScore =
+  sortedListings.length === 0
+    ? '0.0'
+    : (
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
+      ).toFixed(1);
+
+const navItems = [
+  { href: '#hero', label: 'Overview' },
+  { href: '#listings', label: 'Listings' },
+  { href: '#review-notes', label: 'Notes' },
+];
+
+const heroStats = [
+  { label: 'Listings live', value: sortedListings.length },
+  { label: 'Avg score', value: averageScore },
+  { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
+  { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
+];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory, subcategory);
+---
+
+<DirectoryPage
+  directory={directory}
+  navItems={navItems}
+  heroStats={heroStats}
+  listings={filteredListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');


thinking
**Preparing to capture subcategories lines**
exec
bash -lc "nl -ba astro/src/data/directory-catalog.js | sed -n '1,120p'" in /var/home/rick/Development/mega-directory succeeded in 40ms:
     1	export const directoryCatalog = [
     2	  {
     3	    slug: 'professional-services-new-york-city',
     4	    name: 'NYC Professional Services',
     5	    heroTitle: 'Trusted Pros in New York City',
     6	    heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
     7	    category: {
     8	      slug: 'professional-services',
     9	      name: 'Professional Services',
    10	      description: 'Verified operators for commercial and residential work orders.',
    11	    },
    12	    location: {
    13	      slug: 'new-york-city',
    14	      name: 'New York City',
    15	      state: 'NY',
    16	      country: 'US',
    17	      timezone: 'America/New_York',
    18	    },
    19	    stats: {
    20	      coverage: '5 boroughs',
file update:
diff --git a/astro/src/components/DirectoryPage.astro b/astro/src/components/DirectoryPage.astro
new file mode 100644
index 0000000000000000000000000000000000000000..858b251c7b2e7ec90a5b83ef09e3406ea61afb35
--- /dev/null
+++ b/astro/src/components/DirectoryPage.astro
@@ -0,0 +1,138 @@
+---
+import BaseLayout from '../layouts/BaseLayout.astro';
+import DirectoryListing from './DirectoryListing.astro';
+
+const {
+  directory,
+  navItems,
+  heroStats,
+  listings = [],
+  totalListings = listings.length,
+  subcategoryNav = [],
+} = Astro.props;
+
+const hasSubcategoryNav = subcategoryNav.length > 0;
+const activeFilter = hasSubcategoryNav
+  ? subcategoryNav.find((item) => item.active) ?? subcategoryNav[0]
+  : null;
+const filterLabel = activeFilter?.label ?? 'All subcategories';
+const filterDescription = activeFilter?.description ?? '';
+
+const filterSummary = hasSubcategoryNav
+  ? `Showing ${listings.length} of ${totalListings} listings${
+      activeFilter?.slug ? ` filtered to ${filterLabel}` : ''
+    }.`
+  : '';
+
+const filterLinkClass = (isActive) =>
+  [
+    'inline-flex items-center gap-3 rounded-full border px-4 py-2 text-sm transition',
+    'focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-emerald-400',
+    isActive
+      ? 'border-emerald-400 text-white bg-emerald-400/10'
+      : 'border-white/20 text-slate-200 hover:border-emerald-400/80',
+  ].join(' ');
+---
+
+<BaseLayout
+  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
+  description={directory.heroSubtitle}
+  navItems={navItems}
+>
+  <section id="hero" class="space-y-6">
+    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
+      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.category.name}</span>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.location.name}</span>
+    </nav>
+    <div class="space-y-3">
+      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
+      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+    </div>
+    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
+      {heroStats.map((stat) => (
+        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
+          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
+          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
+        </div>
+      ))}
+    </dl>
+  </section>
+
+  <section id="listings" class="space-y-6">
+    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
+      <div>
+        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
+        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
+        <p class="text-sm text-slate-400">
+          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
+          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
+          notes and highlights.
+        </p>
+      </div>
+      <div class="text-sm text-slate-400 text-left md:text-right">
+        {hasSubcategoryNav ? (
+          <div class="space-y-1">
+            <p>{filterSummary}</p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        ) : (
+          <p>Updated weekly with crawler + admin data</p>
+        )}
+      </div>
+    </div>
+
+    {hasSubcategoryNav && (
+      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 sm:p-5">
+        <div class="space-y-2">
+          <p class="text-xs font-semibold uppercase tracking-[0.3em] text-emerald-300">Subcategories</p>
+          <div>
+            <h3 class="text-lg font-semibold text-white">{filterLabel}</h3>
+            <p class="text-sm text-slate-400">
+              Showing {listings.length} of {totalListings} listings
+              {activeFilter?.slug ? ` in ${filterLabel}` : ''}.
+            </p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        </div>
+        <div class="mt-4 flex flex-wrap gap-3">
+          {subcategoryNav.map((item) => (
+            <a
+              class={filterLinkClass(item.active)}
+              aria-current={item.active ? 'page' : undefined}
+              href={item.href}
+            >
+              <span>{item.label}</span>
+              <span class="rounded-full border border-white/20 px-2 py-0.5 text-xs text-slate-300">
+                {item.count}
+              </span>
+            </a>
+          ))}
+        </div>
+      </div>
+    )}
+
+    <ol class="space-y-5" role="list">
+      {listings.map((listing, index) => (
+        <DirectoryListing listing={listing} rank={index + 1} />
+      ))}
+    </ol>
+  </section>
+
+  <section id="review-notes" class="glass-panel space-y-4 p-6">
+    <div>
+      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
+      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
+    </div>
+    <p class="text-sm text-slate-300">
+      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
+      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
+    </p>
+    <p class="text-sm text-slate-400">
+      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
+      support@megadirectory.local.
+    </p>
+  </section>
+</BaseLayout>
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..b9da09020776f281176aba75e5654c53f2b555ed
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
@@ -146,6 +180,23 @@
       responseSla: 'Candidate intros in 3 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
       {
         slug: 'fifth-avenue-search',
@@ -155,6 +206,7 @@
         description:
           'Runs calibration sprints, candidate memos, and DEI scorecards for every slate.',
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
         scoreTooltip: 'Composite of placement velocity + candidate NPS.',
         highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
@@ -168,6 +220,7 @@
         description:
           'Stand up stack, interview rubrics, and compensation bands in four sprints.',
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
         scoreTooltip: 'Weighted by onboarding documentation quality.',
         highlights: ['Templates for hiring manager training', 'ATS migrations included'],
@@ -197,6 +250,18 @@
       responseSla: 'Shortlists in 5 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'product-design',
+        name: 'Product & Design',
+        description: 'Product, research, and design recruiting partners.',
+      },
+      {
+        slug: 'gtm',
+        name: 'Go-to-Market',
+        description: 'Sales, marketing, and post-sales recruiters with AI focus.',
+      },
+    ],
     listings: [
       {
         slug: 'mission-placement-studio',
@@ -206,6 +271,7 @@
         description:
           'Sends candidates Loom walkthroughs, salary ladders, and ramp plans before interviews.',
         badges: ['Product', 'Design systems'],
+        subcategories: ['product-design'],
         score: 81.3,
         scoreTooltip: 'Candidate preparedness + hiring manager CSAT weighting.',
         highlights: ['Bench of bilingual coordinators', 'Portfolio critique workshops'],
@@ -219,6 +285,7 @@
         description:
           'Run-of-show templates, comp benchmarking, and enablement for first revenue hires.',
         badges: ['Go-to-market', 'AI'],
+        subcategories: ['gtm'],
         score: 76.7,
         scoreTooltip: 'Score includes ramp success tracking 90 days post-hire.',
         highlights: ['Intent-based sourcing', 'Recordings of calibration calls shared'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/src/pages/listings/[category]/[location].astro b/astro/src/pages/listings/[category]/[location].astro
index 57ef772e43ca04ff1316ce1ea1ca1ba7936f12ad..283d4f3be2e43fc85558d5c9948aa8b9c64fe081
--- a/astro/src/pages/listings/[category]/[location].astro
+++ b/astro/src/pages/listings/[category]/[location].astro
@@ -1,8 +1,11 @@
 ---
-import BaseLayout from '../../../layouts/BaseLayout.astro';
-import DirectoryListing from '../../../components/DirectoryListing.astro';
+import DirectoryPage from '../../../components/DirectoryPage.astro';
 import { directoryCatalog } from '../../../data/directory-catalog.js';
-import { findDirectoryEntry, sortListingsByScore } from '../../../lib/directory-helpers.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildSubcategoryFilterNav,
+} from '../../../lib/directory-helpers.js';
 
 export function getStaticPaths() {
   return directoryCatalog.map((directory) => ({
@@ -25,8 +28,10 @@
   sortedListings.length === 0
     ? '0.0'
     : (
-        sortedListings.reduce((sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0), 0) /
-        sortedListings.length
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
       ).toFixed(1);
 
 const navItems = [
@@ -41,67 +46,15 @@
   { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
   { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
 ];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory);
 ---
 
-<BaseLayout
-  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
-  description={directory.heroSubtitle}
+<DirectoryPage
+  directory={directory}
   navItems={navItems}
->
-  <section id="hero" class="space-y-6">
-    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
-      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.category.name}</span>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.location.name}</span>
-    </nav>
-    <div class="space-y-3">
-      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
-    </div>
-    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
-      {heroStats.map((stat) => (
-        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
-          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
-          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
-        </div>
-      ))}
-    </dl>
-  </section>
-
-  <section id="listings" class="space-y-6">
-    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
-      <div>
-        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
-        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
-        <p class="text-sm text-slate-400">
-          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
-          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
-          notes and highlights.
-        </p>
-      </div>
-      <p class="text-sm text-slate-400">Updated weekly with crawler + admin data</p>
-    </div>
-    <ol class="space-y-5" role="list">
-      {sortedListings.map((listing, index) => (
-        <DirectoryListing listing={listing} rank={index + 1} />
-      ))}
-    </ol>
-  </section>
-
-  <section id="review-notes" class="glass-panel space-y-4 p-6">
-    <div>
-      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
-      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
-    </div>
-    <p class="text-sm text-slate-300">
-      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
-      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
-    </p>
-    <p class="text-sm text-slate-400">
-      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
-      support@megadirectory.local.
-    </p>
-  </section>
-</BaseLayout>
+  heroStats={heroStats}
+  listings={sortedListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/src/pages/listings/[category]/[location]/[subcategory].astro b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
new file mode 100644
index 0000000000000000000000000000000000000000..3dfdc9d53200fc13343d82aa8afdd126fccc489a
--- /dev/null
+++ b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
@@ -0,0 +1,78 @@
+---
+import DirectoryPage from '../../../../components/DirectoryPage.astro';
+import { directoryCatalog } from '../../../../data/directory-catalog.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
+} from '../../../../lib/directory-helpers.js';
+
+export function getStaticPaths() {
+  const paths = [];
+
+  for (const directory of directoryCatalog) {
+    const subcategories = buildDirectorySubcategories(directory);
+    for (const subcategory of subcategories) {
+      paths.push({
+        params: {
+          category: directory.category.slug,
+          location: directory.location.slug,
+          subcategory: subcategory.slug,
+        },
+      });
+    }
+  }
+
+  return paths;
+}
+
+const { category, location, subcategory } = Astro.params;
+const directory = findDirectoryEntry(directoryCatalog, category, location);
+
+if (!directory) {
+  throw new Error(`Directory not found for ${category}/${location}`);
+}
+
+const sortedListings = sortListingsByScore(directory.listings);
+const filteredListings = filterListingsBySubcategory(sortedListings, subcategory);
+
+if (filteredListings.length === 0) {
+  throw new Error(`Subcategory ${subcategory} has no listings for ${category}/${location}`);
+}
+
+const averageScore =
+  sortedListings.length === 0
+    ? '0.0'
+    : (
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
+      ).toFixed(1);
+
+const navItems = [
+  { href: '#hero', label: 'Overview' },
+  { href: '#listings', label: 'Listings' },
+  { href: '#review-notes', label: 'Notes' },
+];
+
+const heroStats = [
+  { label: 'Listings live', value: sortedListings.length },
+  { label: 'Avg score', value: averageScore },
+  { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
+  { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
+];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory, subcategory);
+---
+
+<DirectoryPage
+  directory={directory}
+  navItems={navItems}
+  heroStats={heroStats}
+  listings={filteredListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');


thinking
**Pausing to gather more lines**
exec
bash -lc "nl -ba astro/src/data/directory-catalog.js | sed -n '120,280p'" in /var/home/rick/Development/mega-directory succeeded in 39ms:
   120	        slug: 'roofing',
   121	        name: 'Roofing & Solar',
   122	        description: 'High-altitude roofing systems plus solar-ready retrofits.',
   123	      },
   124	      {
   125	        slug: 'plumbing',
   126	        name: 'Plumbing & Hydronics',
   127	        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
   128	      },
   129	    ],
   130	    listings: [
   131	      {
   132	        slug: 'riverfront-roofing',
   133	        name: 'Riverfront Roofing & Solar',
   134	        url: 'https://riverfrontroofing.example.com',
   135	        summary: 'Snow-load ready assemblies plus rapid hail inspections.',
   136	        description:
   137	          'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
   138	        badges: ['Class 4 rated', 'Solar-ready'],
   139	        subcategories: ['roofing'],
file update:
diff --git a/astro/src/components/DirectoryPage.astro b/astro/src/components/DirectoryPage.astro
new file mode 100644
index 0000000000000000000000000000000000000000..858b251c7b2e7ec90a5b83ef09e3406ea61afb35
--- /dev/null
+++ b/astro/src/components/DirectoryPage.astro
@@ -0,0 +1,138 @@
+---
+import BaseLayout from '../layouts/BaseLayout.astro';
+import DirectoryListing from './DirectoryListing.astro';
+
+const {
+  directory,
+  navItems,
+  heroStats,
+  listings = [],
+  totalListings = listings.length,
+  subcategoryNav = [],
+} = Astro.props;
+
+const hasSubcategoryNav = subcategoryNav.length > 0;
+const activeFilter = hasSubcategoryNav
+  ? subcategoryNav.find((item) => item.active) ?? subcategoryNav[0]
+  : null;
+const filterLabel = activeFilter?.label ?? 'All subcategories';
+const filterDescription = activeFilter?.description ?? '';
+
+const filterSummary = hasSubcategoryNav
+  ? `Showing ${listings.length} of ${totalListings} listings${
+      activeFilter?.slug ? ` filtered to ${filterLabel}` : ''
+    }.`
+  : '';
+
+const filterLinkClass = (isActive) =>
+  [
+    'inline-flex items-center gap-3 rounded-full border px-4 py-2 text-sm transition',
+    'focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-emerald-400',
+    isActive
+      ? 'border-emerald-400 text-white bg-emerald-400/10'
+      : 'border-white/20 text-slate-200 hover:border-emerald-400/80',
+  ].join(' ');
+---
+
+<BaseLayout
+  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
+  description={directory.heroSubtitle}
+  navItems={navItems}
+>
+  <section id="hero" class="space-y-6">
+    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
+      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.category.name}</span>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.location.name}</span>
+    </nav>
+    <div class="space-y-3">
+      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
+      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+    </div>
+    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
+      {heroStats.map((stat) => (
+        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
+          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
+          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
+        </div>
+      ))}
+    </dl>
+  </section>
+
+  <section id="listings" class="space-y-6">
+    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
+      <div>
+        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
+        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
+        <p class="text-sm text-slate-400">
+          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
+          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
+          notes and highlights.
+        </p>
+      </div>
+      <div class="text-sm text-slate-400 text-left md:text-right">
+        {hasSubcategoryNav ? (
+          <div class="space-y-1">
+            <p>{filterSummary}</p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        ) : (
+          <p>Updated weekly with crawler + admin data</p>
+        )}
+      </div>
+    </div>
+
+    {hasSubcategoryNav && (
+      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 sm:p-5">
+        <div class="space-y-2">
+          <p class="text-xs font-semibold uppercase tracking-[0.3em] text-emerald-300">Subcategories</p>
+          <div>
+            <h3 class="text-lg font-semibold text-white">{filterLabel}</h3>
+            <p class="text-sm text-slate-400">
+              Showing {listings.length} of {totalListings} listings
+              {activeFilter?.slug ? ` in ${filterLabel}` : ''}.
+            </p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        </div>
+        <div class="mt-4 flex flex-wrap gap-3">
+          {subcategoryNav.map((item) => (
+            <a
+              class={filterLinkClass(item.active)}
+              aria-current={item.active ? 'page' : undefined}
+              href={item.href}
+            >
+              <span>{item.label}</span>
+              <span class="rounded-full border border-white/20 px-2 py-0.5 text-xs text-slate-300">
+                {item.count}
+              </span>
+            </a>
+          ))}
+        </div>
+      </div>
+    )}
+
+    <ol class="space-y-5" role="list">
+      {listings.map((listing, index) => (
+        <DirectoryListing listing={listing} rank={index + 1} />
+      ))}
+    </ol>
+  </section>
+
+  <section id="review-notes" class="glass-panel space-y-4 p-6">
+    <div>
+      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
+      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
+    </div>
+    <p class="text-sm text-slate-300">
+      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
+      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
+    </p>
+    <p class="text-sm text-slate-400">
+      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
+      support@megadirectory.local.
+    </p>
+  </section>
+</BaseLayout>
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..b9da09020776f281176aba75e5654c53f2b555ed
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
@@ -146,6 +180,23 @@
       responseSla: 'Candidate intros in 3 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
       {
         slug: 'fifth-avenue-search',
@@ -155,6 +206,7 @@
         description:
           'Runs calibration sprints, candidate memos, and DEI scorecards for every slate.',
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
         scoreTooltip: 'Composite of placement velocity + candidate NPS.',
         highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
@@ -168,6 +220,7 @@
         description:
           'Stand up stack, interview rubrics, and compensation bands in four sprints.',
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
         scoreTooltip: 'Weighted by onboarding documentation quality.',
         highlights: ['Templates for hiring manager training', 'ATS migrations included'],
@@ -197,6 +250,18 @@
       responseSla: 'Shortlists in 5 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'product-design',
+        name: 'Product & Design',
+        description: 'Product, research, and design recruiting partners.',
+      },
+      {
+        slug: 'gtm',
+        name: 'Go-to-Market',
+        description: 'Sales, marketing, and post-sales recruiters with AI focus.',
+      },
+    ],
     listings: [
       {
         slug: 'mission-placement-studio',
@@ -206,6 +271,7 @@
         description:
           'Sends candidates Loom walkthroughs, salary ladders, and ramp plans before interviews.',
         badges: ['Product', 'Design systems'],
+        subcategories: ['product-design'],
         score: 81.3,
         scoreTooltip: 'Candidate preparedness + hiring manager CSAT weighting.',
         highlights: ['Bench of bilingual coordinators', 'Portfolio critique workshops'],
@@ -219,6 +285,7 @@
         description:
           'Run-of-show templates, comp benchmarking, and enablement for first revenue hires.',
         badges: ['Go-to-market', 'AI'],
+        subcategories: ['gtm'],
         score: 76.7,
         scoreTooltip: 'Score includes ramp success tracking 90 days post-hire.',
         highlights: ['Intent-based sourcing', 'Recordings of calibration calls shared'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/src/pages/listings/[category]/[location].astro b/astro/src/pages/listings/[category]/[location].astro
index 57ef772e43ca04ff1316ce1ea1ca1ba7936f12ad..283d4f3be2e43fc85558d5c9948aa8b9c64fe081
--- a/astro/src/pages/listings/[category]/[location].astro
+++ b/astro/src/pages/listings/[category]/[location].astro
@@ -1,8 +1,11 @@
 ---
-import BaseLayout from '../../../layouts/BaseLayout.astro';
-import DirectoryListing from '../../../components/DirectoryListing.astro';
+import DirectoryPage from '../../../components/DirectoryPage.astro';
 import { directoryCatalog } from '../../../data/directory-catalog.js';
-import { findDirectoryEntry, sortListingsByScore } from '../../../lib/directory-helpers.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildSubcategoryFilterNav,
+} from '../../../lib/directory-helpers.js';
 
 export function getStaticPaths() {
   return directoryCatalog.map((directory) => ({
@@ -25,8 +28,10 @@
   sortedListings.length === 0
     ? '0.0'
     : (
-        sortedListings.reduce((sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0), 0) /
-        sortedListings.length
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
       ).toFixed(1);
 
 const navItems = [
@@ -41,67 +46,15 @@
   { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
   { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
 ];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory);
 ---
 
-<BaseLayout
-  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
-  description={directory.heroSubtitle}
+<DirectoryPage
+  directory={directory}
   navItems={navItems}
->
-  <section id="hero" class="space-y-6">
-    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
-      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.category.name}</span>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.location.name}</span>
-    </nav>
-    <div class="space-y-3">
-      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
-    </div>
-    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
-      {heroStats.map((stat) => (
-        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
-          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
-          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
-        </div>
-      ))}
-    </dl>
-  </section>
-
-  <section id="listings" class="space-y-6">
-    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
-      <div>
-        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
-        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
-        <p class="text-sm text-slate-400">
-          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
-          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
-          notes and highlights.
-        </p>
-      </div>
-      <p class="text-sm text-slate-400">Updated weekly with crawler + admin data</p>
-    </div>
-    <ol class="space-y-5" role="list">
-      {sortedListings.map((listing, index) => (
-        <DirectoryListing listing={listing} rank={index + 1} />
-      ))}
-    </ol>
-  </section>
-
-  <section id="review-notes" class="glass-panel space-y-4 p-6">
-    <div>
-      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
-      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
-    </div>
-    <p class="text-sm text-slate-300">
-      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
-      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
-    </p>
-    <p class="text-sm text-slate-400">
-      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
-      support@megadirectory.local.
-    </p>
-  </section>
-</BaseLayout>
+  heroStats={heroStats}
+  listings={sortedListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/src/pages/listings/[category]/[location]/[subcategory].astro b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
new file mode 100644
index 0000000000000000000000000000000000000000..3dfdc9d53200fc13343d82aa8afdd126fccc489a
--- /dev/null
+++ b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
@@ -0,0 +1,78 @@
+---
+import DirectoryPage from '../../../../components/DirectoryPage.astro';
+import { directoryCatalog } from '../../../../data/directory-catalog.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
+} from '../../../../lib/directory-helpers.js';
+
+export function getStaticPaths() {
+  const paths = [];
+
+  for (const directory of directoryCatalog) {
+    const subcategories = buildDirectorySubcategories(directory);
+    for (const subcategory of subcategories) {
+      paths.push({
+        params: {
+          category: directory.category.slug,
+          location: directory.location.slug,
+          subcategory: subcategory.slug,
+        },
+      });
+    }
+  }
+
+  return paths;
+}
+
+const { category, location, subcategory } = Astro.params;
+const directory = findDirectoryEntry(directoryCatalog, category, location);
+
+if (!directory) {
+  throw new Error(`Directory not found for ${category}/${location}`);
+}
+
+const sortedListings = sortListingsByScore(directory.listings);
+const filteredListings = filterListingsBySubcategory(sortedListings, subcategory);
+
+if (filteredListings.length === 0) {
+  throw new Error(`Subcategory ${subcategory} has no listings for ${category}/${location}`);
+}
+
+const averageScore =
+  sortedListings.length === 0
+    ? '0.0'
+    : (
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
+      ).toFixed(1);
+
+const navItems = [
+  { href: '#hero', label: 'Overview' },
+  { href: '#listings', label: 'Listings' },
+  { href: '#review-notes', label: 'Notes' },
+];
+
+const heroStats = [
+  { label: 'Listings live', value: sortedListings.length },
+  { label: 'Avg score', value: averageScore },
+  { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
+  { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
+];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory, subcategory);
+---
+
+<DirectoryPage
+  directory={directory}
+  navItems={navItems}
+  heroStats={heroStats}
+  listings={filteredListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');


thinking
**Waiting for more lines**
exec
bash -lc "nl -ba astro/src/data/directory-catalog.js | sed -n '280,360p'" in /var/home/rick/Development/mega-directory succeeded in 38ms:
   280	      {
   281	        slug: 'summa-search',
   282	        name: 'Summa Search',
   283	        url: 'https://summasearch.example.com',
   284	        summary: 'Go-to-market recruiters for AI tooling startups.',
   285	        description:
   286	          'Run-of-show templates, comp benchmarking, and enablement for first revenue hires.',
   287	        badges: ['Go-to-market', 'AI'],
   288	        subcategories: ['gtm'],
   289	        score: 76.7,
   290	        scoreTooltip: 'Score includes ramp success tracking 90 days post-hire.',
   291	        highlights: ['Intent-based sourcing', 'Recordings of calibration calls shared'],
   292	        locationLabel: 'SoMa, SF',
   293	      },
   294	    ],
   295	  },
   296	];
file update:
diff --git a/astro/src/components/DirectoryPage.astro b/astro/src/components/DirectoryPage.astro
new file mode 100644
index 0000000000000000000000000000000000000000..858b251c7b2e7ec90a5b83ef09e3406ea61afb35
--- /dev/null
+++ b/astro/src/components/DirectoryPage.astro
@@ -0,0 +1,138 @@
+---
+import BaseLayout from '../layouts/BaseLayout.astro';
+import DirectoryListing from './DirectoryListing.astro';
+
+const {
+  directory,
+  navItems,
+  heroStats,
+  listings = [],
+  totalListings = listings.length,
+  subcategoryNav = [],
+} = Astro.props;
+
+const hasSubcategoryNav = subcategoryNav.length > 0;
+const activeFilter = hasSubcategoryNav
+  ? subcategoryNav.find((item) => item.active) ?? subcategoryNav[0]
+  : null;
+const filterLabel = activeFilter?.label ?? 'All subcategories';
+const filterDescription = activeFilter?.description ?? '';
+
+const filterSummary = hasSubcategoryNav
+  ? `Showing ${listings.length} of ${totalListings} listings${
+      activeFilter?.slug ? ` filtered to ${filterLabel}` : ''
+    }.`
+  : '';
+
+const filterLinkClass = (isActive) =>
+  [
+    'inline-flex items-center gap-3 rounded-full border px-4 py-2 text-sm transition',
+    'focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-emerald-400',
+    isActive
+      ? 'border-emerald-400 text-white bg-emerald-400/10'
+      : 'border-white/20 text-slate-200 hover:border-emerald-400/80',
+  ].join(' ');
+---
+
+<BaseLayout
+  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
+  description={directory.heroSubtitle}
+  navItems={navItems}
+>
+  <section id="hero" class="space-y-6">
+    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
+      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.category.name}</span>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.location.name}</span>
+    </nav>
+    <div class="space-y-3">
+      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
+      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+    </div>
+    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
+      {heroStats.map((stat) => (
+        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
+          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
+          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
+        </div>
+      ))}
+    </dl>
+  </section>
+
+  <section id="listings" class="space-y-6">
+    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
+      <div>
+        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
+        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
+        <p class="text-sm text-slate-400">
+          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
+          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
+          notes and highlights.
+        </p>
+      </div>
+      <div class="text-sm text-slate-400 text-left md:text-right">
+        {hasSubcategoryNav ? (
+          <div class="space-y-1">
+            <p>{filterSummary}</p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        ) : (
+          <p>Updated weekly with crawler + admin data</p>
+        )}
+      </div>
+    </div>
+
+    {hasSubcategoryNav && (
+      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 sm:p-5">
+        <div class="space-y-2">
+          <p class="text-xs font-semibold uppercase tracking-[0.3em] text-emerald-300">Subcategories</p>
+          <div>
+            <h3 class="text-lg font-semibold text-white">{filterLabel}</h3>
+            <p class="text-sm text-slate-400">
+              Showing {listings.length} of {totalListings} listings
+              {activeFilter?.slug ? ` in ${filterLabel}` : ''}.
+            </p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        </div>
+        <div class="mt-4 flex flex-wrap gap-3">
+          {subcategoryNav.map((item) => (
+            <a
+              class={filterLinkClass(item.active)}
+              aria-current={item.active ? 'page' : undefined}
+              href={item.href}
+            >
+              <span>{item.label}</span>
+              <span class="rounded-full border border-white/20 px-2 py-0.5 text-xs text-slate-300">
+                {item.count}
+              </span>
+            </a>
+          ))}
+        </div>
+      </div>
+    )}
+
+    <ol class="space-y-5" role="list">
+      {listings.map((listing, index) => (
+        <DirectoryListing listing={listing} rank={index + 1} />
+      ))}
+    </ol>
+  </section>
+
+  <section id="review-notes" class="glass-panel space-y-4 p-6">
+    <div>
+      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
+      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
+    </div>
+    <p class="text-sm text-slate-300">
+      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
+      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
+    </p>
+    <p class="text-sm text-slate-400">
+      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
+      support@megadirectory.local.
+    </p>
+  </section>
+</BaseLayout>
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..b9da09020776f281176aba75e5654c53f2b555ed
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
@@ -146,6 +180,23 @@
       responseSla: 'Candidate intros in 3 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
       {
         slug: 'fifth-avenue-search',
@@ -155,6 +206,7 @@
         description:
           'Runs calibration sprints, candidate memos, and DEI scorecards for every slate.',
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
         scoreTooltip: 'Composite of placement velocity + candidate NPS.',
         highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
@@ -168,6 +220,7 @@
         description:
           'Stand up stack, interview rubrics, and compensation bands in four sprints.',
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
         scoreTooltip: 'Weighted by onboarding documentation quality.',
         highlights: ['Templates for hiring manager training', 'ATS migrations included'],
@@ -197,6 +250,18 @@
       responseSla: 'Shortlists in 5 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'product-design',
+        name: 'Product & Design',
+        description: 'Product, research, and design recruiting partners.',
+      },
+      {
+        slug: 'gtm',
+        name: 'Go-to-Market',
+        description: 'Sales, marketing, and post-sales recruiters with AI focus.',
+      },
+    ],
     listings: [
       {
         slug: 'mission-placement-studio',
@@ -206,6 +271,7 @@
         description:
           'Sends candidates Loom walkthroughs, salary ladders, and ramp plans before interviews.',
         badges: ['Product', 'Design systems'],
+        subcategories: ['product-design'],
         score: 81.3,
         scoreTooltip: 'Candidate preparedness + hiring manager CSAT weighting.',
         highlights: ['Bench of bilingual coordinators', 'Portfolio critique workshops'],
@@ -219,6 +285,7 @@
         description:
           'Run-of-show templates, comp benchmarking, and enablement for first revenue hires.',
         badges: ['Go-to-market', 'AI'],
+        subcategories: ['gtm'],
         score: 76.7,
         scoreTooltip: 'Score includes ramp success tracking 90 days post-hire.',
         highlights: ['Intent-based sourcing', 'Recordings of calibration calls shared'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/src/pages/listings/[category]/[location].astro b/astro/src/pages/listings/[category]/[location].astro
index 57ef772e43ca04ff1316ce1ea1ca1ba7936f12ad..283d4f3be2e43fc85558d5c9948aa8b9c64fe081
--- a/astro/src/pages/listings/[category]/[location].astro
+++ b/astro/src/pages/listings/[category]/[location].astro
@@ -1,8 +1,11 @@
 ---
-import BaseLayout from '../../../layouts/BaseLayout.astro';
-import DirectoryListing from '../../../components/DirectoryListing.astro';
+import DirectoryPage from '../../../components/DirectoryPage.astro';
 import { directoryCatalog } from '../../../data/directory-catalog.js';
-import { findDirectoryEntry, sortListingsByScore } from '../../../lib/directory-helpers.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildSubcategoryFilterNav,
+} from '../../../lib/directory-helpers.js';
 
 export function getStaticPaths() {
   return directoryCatalog.map((directory) => ({
@@ -25,8 +28,10 @@
   sortedListings.length === 0
     ? '0.0'
     : (
-        sortedListings.reduce((sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0), 0) /
-        sortedListings.length
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
       ).toFixed(1);
 
 const navItems = [
@@ -41,67 +46,15 @@
   { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
   { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
 ];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory);
 ---
 
-<BaseLayout
-  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
-  description={directory.heroSubtitle}
+<DirectoryPage
+  directory={directory}
   navItems={navItems}
->
-  <section id="hero" class="space-y-6">
-    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
-      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.category.name}</span>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.location.name}</span>
-    </nav>
-    <div class="space-y-3">
-      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
-    </div>
-    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
-      {heroStats.map((stat) => (
-        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
-          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
-          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
-        </div>
-      ))}
-    </dl>
-  </section>
-
-  <section id="listings" class="space-y-6">
-    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
-      <div>
-        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
-        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
-        <p class="text-sm text-slate-400">
-          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
-          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
-          notes and highlights.
-        </p>
-      </div>
-      <p class="text-sm text-slate-400">Updated weekly with crawler + admin data</p>
-    </div>
-    <ol class="space-y-5" role="list">
-      {sortedListings.map((listing, index) => (
-        <DirectoryListing listing={listing} rank={index + 1} />
-      ))}
-    </ol>
-  </section>
-
-  <section id="review-notes" class="glass-panel space-y-4 p-6">
-    <div>
-      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
-      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
-    </div>
-    <p class="text-sm text-slate-300">
-      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
-      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
-    </p>
-    <p class="text-sm text-slate-400">
-      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
-      support@megadirectory.local.
-    </p>
-  </section>
-</BaseLayout>
+  heroStats={heroStats}
+  listings={sortedListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/src/pages/listings/[category]/[location]/[subcategory].astro b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
new file mode 100644
index 0000000000000000000000000000000000000000..3dfdc9d53200fc13343d82aa8afdd126fccc489a
--- /dev/null
+++ b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
@@ -0,0 +1,78 @@
+---
+import DirectoryPage from '../../../../components/DirectoryPage.astro';
+import { directoryCatalog } from '../../../../data/directory-catalog.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
+} from '../../../../lib/directory-helpers.js';
+
+export function getStaticPaths() {
+  const paths = [];
+
+  for (const directory of directoryCatalog) {
+    const subcategories = buildDirectorySubcategories(directory);
+    for (const subcategory of subcategories) {
+      paths.push({
+        params: {
+          category: directory.category.slug,
+          location: directory.location.slug,
+          subcategory: subcategory.slug,
+        },
+      });
+    }
+  }
+
+  return paths;
+}
+
+const { category, location, subcategory } = Astro.params;
+const directory = findDirectoryEntry(directoryCatalog, category, location);
+
+if (!directory) {
+  throw new Error(`Directory not found for ${category}/${location}`);
+}
+
+const sortedListings = sortListingsByScore(directory.listings);
+const filteredListings = filterListingsBySubcategory(sortedListings, subcategory);
+
+if (filteredListings.length === 0) {
+  throw new Error(`Subcategory ${subcategory} has no listings for ${category}/${location}`);
+}
+
+const averageScore =
+  sortedListings.length === 0
+    ? '0.0'
+    : (
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
+      ).toFixed(1);
+
+const navItems = [
+  { href: '#hero', label: 'Overview' },
+  { href: '#listings', label: 'Listings' },
+  { href: '#review-notes', label: 'Notes' },
+];
+
+const heroStats = [
+  { label: 'Listings live', value: sortedListings.length },
+  { label: 'Avg score', value: averageScore },
+  { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
+  { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
+];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory, subcategory);
+---
+
+<DirectoryPage
+  directory={directory}
+  navItems={navItems}
+  heroStats={heroStats}
+  listings={filteredListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');


thinking
**Preparing line number references**
exec
bash -lc 'nl -ba astro/src/pages/listings/[category]/[location].astro' in /var/home/rick/Development/mega-directory succeeded in 38ms:
     1	---
     2	import DirectoryPage from '../../../components/DirectoryPage.astro';
     3	import { directoryCatalog } from '../../../data/directory-catalog.js';
     4	import {
     5	  findDirectoryEntry,
     6	  sortListingsByScore,
     7	  buildSubcategoryFilterNav,
     8	} from '../../../lib/directory-helpers.js';
     9	
    10	export function getStaticPaths() {
    11	  return directoryCatalog.map((directory) => ({
    12	    params: {
    13	      category: directory.category.slug,
    14	      location: directory.location.slug,
    15	    },
    16	  }));
    17	}
    18	
    19	const { category, location } = Astro.params;
    20	const directory = findDirectoryEntry(directoryCatalog, category, location);
file update:
diff --git a/astro/src/components/DirectoryPage.astro b/astro/src/components/DirectoryPage.astro
new file mode 100644
index 0000000000000000000000000000000000000000..858b251c7b2e7ec90a5b83ef09e3406ea61afb35
--- /dev/null
+++ b/astro/src/components/DirectoryPage.astro
@@ -0,0 +1,138 @@
+---
+import BaseLayout from '../layouts/BaseLayout.astro';
+import DirectoryListing from './DirectoryListing.astro';
+
+const {
+  directory,
+  navItems,
+  heroStats,
+  listings = [],
+  totalListings = listings.length,
+  subcategoryNav = [],
+} = Astro.props;
+
+const hasSubcategoryNav = subcategoryNav.length > 0;
+const activeFilter = hasSubcategoryNav
+  ? subcategoryNav.find((item) => item.active) ?? subcategoryNav[0]
+  : null;
+const filterLabel = activeFilter?.label ?? 'All subcategories';
+const filterDescription = activeFilter?.description ?? '';
+
+const filterSummary = hasSubcategoryNav
+  ? `Showing ${listings.length} of ${totalListings} listings${
+      activeFilter?.slug ? ` filtered to ${filterLabel}` : ''
+    }.`
+  : '';
+
+const filterLinkClass = (isActive) =>
+  [
+    'inline-flex items-center gap-3 rounded-full border px-4 py-2 text-sm transition',
+    'focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-emerald-400',
+    isActive
+      ? 'border-emerald-400 text-white bg-emerald-400/10'
+      : 'border-white/20 text-slate-200 hover:border-emerald-400/80',
+  ].join(' ');
+---
+
+<BaseLayout
+  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
+  description={directory.heroSubtitle}
+  navItems={navItems}
+>
+  <section id="hero" class="space-y-6">
+    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
+      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.category.name}</span>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.location.name}</span>
+    </nav>
+    <div class="space-y-3">
+      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
+      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+    </div>
+    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
+      {heroStats.map((stat) => (
+        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
+          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
+          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
+        </div>
+      ))}
+    </dl>
+  </section>
+
+  <section id="listings" class="space-y-6">
+    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
+      <div>
+        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
+        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
+        <p class="text-sm text-slate-400">
+          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
+          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
+          notes and highlights.
+        </p>
+      </div>
+      <div class="text-sm text-slate-400 text-left md:text-right">
+        {hasSubcategoryNav ? (
+          <div class="space-y-1">
+            <p>{filterSummary}</p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        ) : (
+          <p>Updated weekly with crawler + admin data</p>
+        )}
+      </div>
+    </div>
+
+    {hasSubcategoryNav && (
+      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 sm:p-5">
+        <div class="space-y-2">
+          <p class="text-xs font-semibold uppercase tracking-[0.3em] text-emerald-300">Subcategories</p>
+          <div>
+            <h3 class="text-lg font-semibold text-white">{filterLabel}</h3>
+            <p class="text-sm text-slate-400">
+              Showing {listings.length} of {totalListings} listings
+              {activeFilter?.slug ? ` in ${filterLabel}` : ''}.
+            </p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        </div>
+        <div class="mt-4 flex flex-wrap gap-3">
+          {subcategoryNav.map((item) => (
+            <a
+              class={filterLinkClass(item.active)}
+              aria-current={item.active ? 'page' : undefined}
+              href={item.href}
+            >
+              <span>{item.label}</span>
+              <span class="rounded-full border border-white/20 px-2 py-0.5 text-xs text-slate-300">
+                {item.count}
+              </span>
+            </a>
+          ))}
+        </div>
+      </div>
+    )}
+
+    <ol class="space-y-5" role="list">
+      {listings.map((listing, index) => (
+        <DirectoryListing listing={listing} rank={index + 1} />
+      ))}
+    </ol>
+  </section>
+
+  <section id="review-notes" class="glass-panel space-y-4 p-6">
+    <div>
+      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
+      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
+    </div>
+    <p class="text-sm text-slate-300">
+      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
+      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
+    </p>
+    <p class="text-sm text-slate-400">
+      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
+      support@megadirectory.local.
+    </p>
+  </section>
+</BaseLayout>
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..b9da09020776f281176aba75e5654c53f2b555ed
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
@@ -146,6 +180,23 @@
       responseSla: 'Candidate intros in 3 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
       {
         slug: 'fifth-avenue-search',
@@ -155,6 +206,7 @@
         description:
           'Runs calibration sprints, candidate memos, and DEI scorecards for every slate.',
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
         scoreTooltip: 'Composite of placement velocity + candidate NPS.',
         highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
@@ -168,6 +220,7 @@
         description:
           'Stand up stack, interview rubrics, and compensation bands in four sprints.',
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
         scoreTooltip: 'Weighted by onboarding documentation quality.',
         highlights: ['Templates for hiring manager training', 'ATS migrations included'],
@@ -197,6 +250,18 @@
       responseSla: 'Shortlists in 5 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'product-design',
+        name: 'Product & Design',
+        description: 'Product, research, and design recruiting partners.',
+      },
+      {
+        slug: 'gtm',
+        name: 'Go-to-Market',
+        description: 'Sales, marketing, and post-sales recruiters with AI focus.',
+      },
+    ],
     listings: [
       {
         slug: 'mission-placement-studio',
@@ -206,6 +271,7 @@
         description:
           'Sends candidates Loom walkthroughs, salary ladders, and ramp plans before interviews.',
         badges: ['Product', 'Design systems'],
+        subcategories: ['product-design'],
         score: 81.3,
         scoreTooltip: 'Candidate preparedness + hiring manager CSAT weighting.',
         highlights: ['Bench of bilingual coordinators', 'Portfolio critique workshops'],
@@ -219,6 +285,7 @@
         description:
           'Run-of-show templates, comp benchmarking, and enablement for first revenue hires.',
         badges: ['Go-to-market', 'AI'],
+        subcategories: ['gtm'],
         score: 76.7,
         scoreTooltip: 'Score includes ramp success tracking 90 days post-hire.',
         highlights: ['Intent-based sourcing', 'Recordings of calibration calls shared'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/src/pages/listings/[category]/[location].astro b/astro/src/pages/listings/[category]/[location].astro
index 57ef772e43ca04ff1316ce1ea1ca1ba7936f12ad..283d4f3be2e43fc85558d5c9948aa8b9c64fe081
--- a/astro/src/pages/listings/[category]/[location].astro
+++ b/astro/src/pages/listings/[category]/[location].astro
@@ -1,8 +1,11 @@
 ---
-import BaseLayout from '../../../layouts/BaseLayout.astro';
-import DirectoryListing from '../../../components/DirectoryListing.astro';
+import DirectoryPage from '../../../components/DirectoryPage.astro';
 import { directoryCatalog } from '../../../data/directory-catalog.js';
-import { findDirectoryEntry, sortListingsByScore } from '../../../lib/directory-helpers.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildSubcategoryFilterNav,
+} from '../../../lib/directory-helpers.js';
 
 export function getStaticPaths() {
   return directoryCatalog.map((directory) => ({
@@ -25,8 +28,10 @@
   sortedListings.length === 0
     ? '0.0'
     : (
-        sortedListings.reduce((sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0), 0) /
-        sortedListings.length
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
       ).toFixed(1);
 
 const navItems = [
@@ -41,67 +46,15 @@
   { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
   { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
 ];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory);
 ---
 
-<BaseLayout
-  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
-  description={directory.heroSubtitle}
+<DirectoryPage
+  directory={directory}
   navItems={navItems}
->
-  <section id="hero" class="space-y-6">
-    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
-      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.category.name}</span>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.location.name}</span>
-    </nav>
-    <div class="space-y-3">
-      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
-    </div>
-    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
-      {heroStats.map((stat) => (
-        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
-          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
-          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
-        </div>
-      ))}
-    </dl>
-  </section>
-
-  <section id="listings" class="space-y-6">
-    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
-      <div>
-        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
-        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
-        <p class="text-sm text-slate-400">
-          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
-          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
-          notes and highlights.
-        </p>
-      </div>
-      <p class="text-sm text-slate-400">Updated weekly with crawler + admin data</p>
-    </div>
-    <ol class="space-y-5" role="list">
-      {sortedListings.map((listing, index) => (
-        <DirectoryListing listing={listing} rank={index + 1} />
-      ))}
-    </ol>
-  </section>
-
-  <section id="review-notes" class="glass-panel space-y-4 p-6">
-    <div>
-      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
-      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
-    </div>
-    <p class="text-sm text-slate-300">
-      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
-      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
-    </p>
-    <p class="text-sm text-slate-400">
-      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
-      support@megadirectory.local.
-    </p>
-  </section>
-</BaseLayout>
+  heroStats={heroStats}
+  listings={sortedListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/src/pages/listings/[category]/[location]/[subcategory].astro b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
new file mode 100644
index 0000000000000000000000000000000000000000..3dfdc9d53200fc13343d82aa8afdd126fccc489a
--- /dev/null
+++ b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
@@ -0,0 +1,78 @@
+---
+import DirectoryPage from '../../../../components/DirectoryPage.astro';
+import { directoryCatalog } from '../../../../data/directory-catalog.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
+} from '../../../../lib/directory-helpers.js';
+
+export function getStaticPaths() {
+  const paths = [];
+
+  for (const directory of directoryCatalog) {
+    const subcategories = buildDirectorySubcategories(directory);
+    for (const subcategory of subcategories) {
+      paths.push({
+        params: {
+          category: directory.category.slug,
+          location: directory.location.slug,
+          subcategory: subcategory.slug,
+        },
+      });
+    }
+  }
+
+  return paths;
+}
+
+const { category, location, subcategory } = Astro.params;
+const directory = findDirectoryEntry(directoryCatalog, category, location);
+
+if (!directory) {
+  throw new Error(`Directory not found for ${category}/${location}`);
+}
+
+const sortedListings = sortListingsByScore(directory.listings);
+const filteredListings = filterListingsBySubcategory(sortedListings, subcategory);
+
+if (filteredListings.length === 0) {
+  throw new Error(`Subcategory ${subcategory} has no listings for ${category}/${location}`);
+}
+
+const averageScore =
+  sortedListings.length === 0
+    ? '0.0'
+    : (
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
+      ).toFixed(1);
+
+const navItems = [
+  { href: '#hero', label: 'Overview' },
+  { href: '#listings', label: 'Listings' },
+  { href: '#review-notes', label: 'Notes' },
+];
+
+const heroStats = [
+  { label: 'Listings live', value: sortedListings.length },
+  { label: 'Avg score', value: averageScore },
+  { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
+  { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
+];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory, subcategory);
+---
+
+<DirectoryPage
+  directory={directory}
+  navItems={navItems}
+  heroStats={heroStats}
+  listings={filteredListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');


thinking
**Adding newline for subcategory page**
exec
bash -lc 'nl -ba astro/src/pages/listings/[category]/[location]/[subcategory].astro' in /var/home/rick/Development/mega-directory succeeded in 38ms:
     1	---
     2	import DirectoryPage from '../../../../components/DirectoryPage.astro';
     3	import { directoryCatalog } from '../../../../data/directory-catalog.js';
     4	import {
     5	  findDirectoryEntry,
     6	  sortListingsByScore,
     7	  buildDirectorySubcategories,
     8	  buildSubcategoryFilterNav,
     9	  filterListingsBySubcategory,
    10	} from '../../../../lib/directory-helpers.js';
    11	
    12	export function getStaticPaths() {
    13	  const paths = [];
    14	
    15	  for (const directory of directoryCatalog) {
    16	    const subcategories = buildDirectorySubcategories(directory);
    17	    for (const subcategory of subcategories) {
    18	      paths.push({
    19	        params: {
    20	          category: directory.category.slug,
file update:
diff --git a/astro/src/components/DirectoryPage.astro b/astro/src/components/DirectoryPage.astro
new file mode 100644
index 0000000000000000000000000000000000000000..858b251c7b2e7ec90a5b83ef09e3406ea61afb35
--- /dev/null
+++ b/astro/src/components/DirectoryPage.astro
@@ -0,0 +1,138 @@
+---
+import BaseLayout from '../layouts/BaseLayout.astro';
+import DirectoryListing from './DirectoryListing.astro';
+
+const {
+  directory,
+  navItems,
+  heroStats,
+  listings = [],
+  totalListings = listings.length,
+  subcategoryNav = [],
+} = Astro.props;
+
+const hasSubcategoryNav = subcategoryNav.length > 0;
+const activeFilter = hasSubcategoryNav
+  ? subcategoryNav.find((item) => item.active) ?? subcategoryNav[0]
+  : null;
+const filterLabel = activeFilter?.label ?? 'All subcategories';
+const filterDescription = activeFilter?.description ?? '';
+
+const filterSummary = hasSubcategoryNav
+  ? `Showing ${listings.length} of ${totalListings} listings${
+      activeFilter?.slug ? ` filtered to ${filterLabel}` : ''
+    }.`
+  : '';
+
+const filterLinkClass = (isActive) =>
+  [
+    'inline-flex items-center gap-3 rounded-full border px-4 py-2 text-sm transition',
+    'focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-emerald-400',
+    isActive
+      ? 'border-emerald-400 text-white bg-emerald-400/10'
+      : 'border-white/20 text-slate-200 hover:border-emerald-400/80',
+  ].join(' ');
+---
+
+<BaseLayout
+  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
+  description={directory.heroSubtitle}
+  navItems={navItems}
+>
+  <section id="hero" class="space-y-6">
+    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
+      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.category.name}</span>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.location.name}</span>
+    </nav>
+    <div class="space-y-3">
+      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
+      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+    </div>
+    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
+      {heroStats.map((stat) => (
+        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
+          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
+          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
+        </div>
+      ))}
+    </dl>
+  </section>
+
+  <section id="listings" class="space-y-6">
+    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
+      <div>
+        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
+        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
+        <p class="text-sm text-slate-400">
+          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
+          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
+          notes and highlights.
+        </p>
+      </div>
+      <div class="text-sm text-slate-400 text-left md:text-right">
+        {hasSubcategoryNav ? (
+          <div class="space-y-1">
+            <p>{filterSummary}</p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        ) : (
+          <p>Updated weekly with crawler + admin data</p>
+        )}
+      </div>
+    </div>
+
+    {hasSubcategoryNav && (
+      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 sm:p-5">
+        <div class="space-y-2">
+          <p class="text-xs font-semibold uppercase tracking-[0.3em] text-emerald-300">Subcategories</p>
+          <div>
+            <h3 class="text-lg font-semibold text-white">{filterLabel}</h3>
+            <p class="text-sm text-slate-400">
+              Showing {listings.length} of {totalListings} listings
+              {activeFilter?.slug ? ` in ${filterLabel}` : ''}.
+            </p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        </div>
+        <div class="mt-4 flex flex-wrap gap-3">
+          {subcategoryNav.map((item) => (
+            <a
+              class={filterLinkClass(item.active)}
+              aria-current={item.active ? 'page' : undefined}
+              href={item.href}
+            >
+              <span>{item.label}</span>
+              <span class="rounded-full border border-white/20 px-2 py-0.5 text-xs text-slate-300">
+                {item.count}
+              </span>
+            </a>
+          ))}
+        </div>
+      </div>
+    )}
+
+    <ol class="space-y-5" role="list">
+      {listings.map((listing, index) => (
+        <DirectoryListing listing={listing} rank={index + 1} />
+      ))}
+    </ol>
+  </section>
+
+  <section id="review-notes" class="glass-panel space-y-4 p-6">
+    <div>
+      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
+      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
+    </div>
+    <p class="text-sm text-slate-300">
+      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
+      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
+    </p>
+    <p class="text-sm text-slate-400">
+      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
+      support@megadirectory.local.
+    </p>
+  </section>
+</BaseLayout>
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..b9da09020776f281176aba75e5654c53f2b555ed
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
@@ -146,6 +180,23 @@
       responseSla: 'Candidate intros in 3 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
       {
         slug: 'fifth-avenue-search',
@@ -155,6 +206,7 @@
         description:
           'Runs calibration sprints, candidate memos, and DEI scorecards for every slate.',
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
         scoreTooltip: 'Composite of placement velocity + candidate NPS.',
         highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
@@ -168,6 +220,7 @@
         description:
           'Stand up stack, interview rubrics, and compensation bands in four sprints.',
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
         scoreTooltip: 'Weighted by onboarding documentation quality.',
         highlights: ['Templates for hiring manager training', 'ATS migrations included'],
@@ -197,6 +250,18 @@
       responseSla: 'Shortlists in 5 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'product-design',
+        name: 'Product & Design',
+        description: 'Product, research, and design recruiting partners.',
+      },
+      {
+        slug: 'gtm',
+        name: 'Go-to-Market',
+        description: 'Sales, marketing, and post-sales recruiters with AI focus.',
+      },
+    ],
     listings: [
       {
         slug: 'mission-placement-studio',
@@ -206,6 +271,7 @@
         description:
           'Sends candidates Loom walkthroughs, salary ladders, and ramp plans before interviews.',
         badges: ['Product', 'Design systems'],
+        subcategories: ['product-design'],
         score: 81.3,
         scoreTooltip: 'Candidate preparedness + hiring manager CSAT weighting.',
         highlights: ['Bench of bilingual coordinators', 'Portfolio critique workshops'],
@@ -219,6 +285,7 @@
         description:
           'Run-of-show templates, comp benchmarking, and enablement for first revenue hires.',
         badges: ['Go-to-market', 'AI'],
+        subcategories: ['gtm'],
         score: 76.7,
         scoreTooltip: 'Score includes ramp success tracking 90 days post-hire.',
         highlights: ['Intent-based sourcing', 'Recordings of calibration calls shared'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/src/pages/listings/[category]/[location].astro b/astro/src/pages/listings/[category]/[location].astro
index 57ef772e43ca04ff1316ce1ea1ca1ba7936f12ad..283d4f3be2e43fc85558d5c9948aa8b9c64fe081
--- a/astro/src/pages/listings/[category]/[location].astro
+++ b/astro/src/pages/listings/[category]/[location].astro
@@ -1,8 +1,11 @@
 ---
-import BaseLayout from '../../../layouts/BaseLayout.astro';
-import DirectoryListing from '../../../components/DirectoryListing.astro';
+import DirectoryPage from '../../../components/DirectoryPage.astro';
 import { directoryCatalog } from '../../../data/directory-catalog.js';
-import { findDirectoryEntry, sortListingsByScore } from '../../../lib/directory-helpers.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildSubcategoryFilterNav,
+} from '../../../lib/directory-helpers.js';
 
 export function getStaticPaths() {
   return directoryCatalog.map((directory) => ({
@@ -25,8 +28,10 @@
   sortedListings.length === 0
     ? '0.0'
     : (
-        sortedListings.reduce((sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0), 0) /
-        sortedListings.length
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
       ).toFixed(1);
 
 const navItems = [
@@ -41,67 +46,15 @@
   { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
   { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
 ];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory);
 ---
 
-<BaseLayout
-  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
-  description={directory.heroSubtitle}
+<DirectoryPage
+  directory={directory}
   navItems={navItems}
->
-  <section id="hero" class="space-y-6">
-    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
-      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.category.name}</span>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.location.name}</span>
-    </nav>
-    <div class="space-y-3">
-      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
-    </div>
-    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
-      {heroStats.map((stat) => (
-        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
-          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
-          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
-        </div>
-      ))}
-    </dl>
-  </section>
-
-  <section id="listings" class="space-y-6">
-    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
-      <div>
-        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
-        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
-        <p class="text-sm text-slate-400">
-          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
-          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
-          notes and highlights.
-        </p>
-      </div>
-      <p class="text-sm text-slate-400">Updated weekly with crawler + admin data</p>
-    </div>
-    <ol class="space-y-5" role="list">
-      {sortedListings.map((listing, index) => (
-        <DirectoryListing listing={listing} rank={index + 1} />
-      ))}
-    </ol>
-  </section>
-
-  <section id="review-notes" class="glass-panel space-y-4 p-6">
-    <div>
-      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
-      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
-    </div>
-    <p class="text-sm text-slate-300">
-      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
-      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
-    </p>
-    <p class="text-sm text-slate-400">
-      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
-      support@megadirectory.local.
-    </p>
-  </section>
-</BaseLayout>
+  heroStats={heroStats}
+  listings={sortedListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/src/pages/listings/[category]/[location]/[subcategory].astro b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
new file mode 100644
index 0000000000000000000000000000000000000000..3dfdc9d53200fc13343d82aa8afdd126fccc489a
--- /dev/null
+++ b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
@@ -0,0 +1,78 @@
+---
+import DirectoryPage from '../../../../components/DirectoryPage.astro';
+import { directoryCatalog } from '../../../../data/directory-catalog.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
+} from '../../../../lib/directory-helpers.js';
+
+export function getStaticPaths() {
+  const paths = [];
+
+  for (const directory of directoryCatalog) {
+    const subcategories = buildDirectorySubcategories(directory);
+    for (const subcategory of subcategories) {
+      paths.push({
+        params: {
+          category: directory.category.slug,
+          location: directory.location.slug,
+          subcategory: subcategory.slug,
+        },
+      });
+    }
+  }
+
+  return paths;
+}
+
+const { category, location, subcategory } = Astro.params;
+const directory = findDirectoryEntry(directoryCatalog, category, location);
+
+if (!directory) {
+  throw new Error(`Directory not found for ${category}/${location}`);
+}
+
+const sortedListings = sortListingsByScore(directory.listings);
+const filteredListings = filterListingsBySubcategory(sortedListings, subcategory);
+
+if (filteredListings.length === 0) {
+  throw new Error(`Subcategory ${subcategory} has no listings for ${category}/${location}`);
+}
+
+const averageScore =
+  sortedListings.length === 0
+    ? '0.0'
+    : (
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
+      ).toFixed(1);
+
+const navItems = [
+  { href: '#hero', label: 'Overview' },
+  { href: '#listings', label: 'Listings' },
+  { href: '#review-notes', label: 'Notes' },
+];
+
+const heroStats = [
+  { label: 'Listings live', value: sortedListings.length },
+  { label: 'Avg score', value: averageScore },
+  { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
+  { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
+];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory, subcategory);
+---
+
+<DirectoryPage
+  directory={directory}
+  navItems={navItems}
+  heroStats={heroStats}
+  listings={filteredListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');


thinking
**Considering line number capture for DirectoryPage**
exec
bash -lc "nl -ba astro/src/components/DirectoryPage.astro | sed -n '1,220p'" in /var/home/rick/Development/mega-directory succeeded in 85ms:
     1	---
     2	import BaseLayout from '../layouts/BaseLayout.astro';
     3	import DirectoryListing from './DirectoryListing.astro';
     4	
     5	const {
     6	  directory,
     7	  navItems,
     8	  heroStats,
     9	  listings = [],
    10	  totalListings = listings.length,
    11	  subcategoryNav = [],
    12	} = Astro.props;
    13	
    14	const hasSubcategoryNav = subcategoryNav.length > 0;
    15	const activeFilter = hasSubcategoryNav
    16	  ? subcategoryNav.find((item) => item.active) ?? subcategoryNav[0]
    17	  : null;
    18	const filterLabel = activeFilter?.label ?? 'All subcategories';
    19	const filterDescription = activeFilter?.description ?? '';
    20	
file update:
diff --git a/astro/src/components/DirectoryPage.astro b/astro/src/components/DirectoryPage.astro
new file mode 100644
index 0000000000000000000000000000000000000000..858b251c7b2e7ec90a5b83ef09e3406ea61afb35
--- /dev/null
+++ b/astro/src/components/DirectoryPage.astro
@@ -0,0 +1,138 @@
+---
+import BaseLayout from '../layouts/BaseLayout.astro';
+import DirectoryListing from './DirectoryListing.astro';
+
+const {
+  directory,
+  navItems,
+  heroStats,
+  listings = [],
+  totalListings = listings.length,
+  subcategoryNav = [],
+} = Astro.props;
+
+const hasSubcategoryNav = subcategoryNav.length > 0;
+const activeFilter = hasSubcategoryNav
+  ? subcategoryNav.find((item) => item.active) ?? subcategoryNav[0]
+  : null;
+const filterLabel = activeFilter?.label ?? 'All subcategories';
+const filterDescription = activeFilter?.description ?? '';
+
+const filterSummary = hasSubcategoryNav
+  ? `Showing ${listings.length} of ${totalListings} listings${
+      activeFilter?.slug ? ` filtered to ${filterLabel}` : ''
+    }.`
+  : '';
+
+const filterLinkClass = (isActive) =>
+  [
+    'inline-flex items-center gap-3 rounded-full border px-4 py-2 text-sm transition',
+    'focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-emerald-400',
+    isActive
+      ? 'border-emerald-400 text-white bg-emerald-400/10'
+      : 'border-white/20 text-slate-200 hover:border-emerald-400/80',
+  ].join(' ');
+---
+
+<BaseLayout
+  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
+  description={directory.heroSubtitle}
+  navItems={navItems}
+>
+  <section id="hero" class="space-y-6">
+    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
+      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.category.name}</span>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.location.name}</span>
+    </nav>
+    <div class="space-y-3">
+      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
+      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+    </div>
+    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
+      {heroStats.map((stat) => (
+        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
+          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
+          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
+        </div>
+      ))}
+    </dl>
+  </section>
+
+  <section id="listings" class="space-y-6">
+    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
+      <div>
+        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
+        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
+        <p class="text-sm text-slate-400">
+          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
+          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
+          notes and highlights.
+        </p>
+      </div>
+      <div class="text-sm text-slate-400 text-left md:text-right">
+        {hasSubcategoryNav ? (
+          <div class="space-y-1">
+            <p>{filterSummary}</p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        ) : (
+          <p>Updated weekly with crawler + admin data</p>
+        )}
+      </div>
+    </div>
+
+    {hasSubcategoryNav && (
+      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 sm:p-5">
+        <div class="space-y-2">
+          <p class="text-xs font-semibold uppercase tracking-[0.3em] text-emerald-300">Subcategories</p>
+          <div>
+            <h3 class="text-lg font-semibold text-white">{filterLabel}</h3>
+            <p class="text-sm text-slate-400">
+              Showing {listings.length} of {totalListings} listings
+              {activeFilter?.slug ? ` in ${filterLabel}` : ''}.
+            </p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        </div>
+        <div class="mt-4 flex flex-wrap gap-3">
+          {subcategoryNav.map((item) => (
+            <a
+              class={filterLinkClass(item.active)}
+              aria-current={item.active ? 'page' : undefined}
+              href={item.href}
+            >
+              <span>{item.label}</span>
+              <span class="rounded-full border border-white/20 px-2 py-0.5 text-xs text-slate-300">
+                {item.count}
+              </span>
+            </a>
+          ))}
+        </div>
+      </div>
+    )}
+
+    <ol class="space-y-5" role="list">
+      {listings.map((listing, index) => (
+        <DirectoryListing listing={listing} rank={index + 1} />
+      ))}
+    </ol>
+  </section>
+
+  <section id="review-notes" class="glass-panel space-y-4 p-6">
+    <div>
+      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
+      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
+    </div>
+    <p class="text-sm text-slate-300">
+      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
+      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
+    </p>
+    <p class="text-sm text-slate-400">
+      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
+      support@megadirectory.local.
+    </p>
+  </section>
+</BaseLayout>
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..b9da09020776f281176aba75e5654c53f2b555ed
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
@@ -146,6 +180,23 @@
       responseSla: 'Candidate intros in 3 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
       {
         slug: 'fifth-avenue-search',
@@ -155,6 +206,7 @@
         description:
           'Runs calibration sprints, candidate memos, and DEI scorecards for every slate.',
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
         scoreTooltip: 'Composite of placement velocity + candidate NPS.',
         highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
@@ -168,6 +220,7 @@
         description:
           'Stand up stack, interview rubrics, and compensation bands in four sprints.',
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
         scoreTooltip: 'Weighted by onboarding documentation quality.',
         highlights: ['Templates for hiring manager training', 'ATS migrations included'],
@@ -197,6 +250,18 @@
       responseSla: 'Shortlists in 5 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'product-design',
+        name: 'Product & Design',
+        description: 'Product, research, and design recruiting partners.',
+      },
+      {
+        slug: 'gtm',
+        name: 'Go-to-Market',
+        description: 'Sales, marketing, and post-sales recruiters with AI focus.',
+      },
+    ],
     listings: [
       {
         slug: 'mission-placement-studio',
@@ -206,6 +271,7 @@
         description:
           'Sends candidates Loom walkthroughs, salary ladders, and ramp plans before interviews.',
         badges: ['Product', 'Design systems'],
+        subcategories: ['product-design'],
         score: 81.3,
         scoreTooltip: 'Candidate preparedness + hiring manager CSAT weighting.',
         highlights: ['Bench of bilingual coordinators', 'Portfolio critique workshops'],
@@ -219,6 +285,7 @@
         description:
           'Run-of-show templates, comp benchmarking, and enablement for first revenue hires.',
         badges: ['Go-to-market', 'AI'],
+        subcategories: ['gtm'],
         score: 76.7,
         scoreTooltip: 'Score includes ramp success tracking 90 days post-hire.',
         highlights: ['Intent-based sourcing', 'Recordings of calibration calls shared'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/src/pages/listings/[category]/[location].astro b/astro/src/pages/listings/[category]/[location].astro
index 57ef772e43ca04ff1316ce1ea1ca1ba7936f12ad..283d4f3be2e43fc85558d5c9948aa8b9c64fe081
--- a/astro/src/pages/listings/[category]/[location].astro
+++ b/astro/src/pages/listings/[category]/[location].astro
@@ -1,8 +1,11 @@
 ---
-import BaseLayout from '../../../layouts/BaseLayout.astro';
-import DirectoryListing from '../../../components/DirectoryListing.astro';
+import DirectoryPage from '../../../components/DirectoryPage.astro';
 import { directoryCatalog } from '../../../data/directory-catalog.js';
-import { findDirectoryEntry, sortListingsByScore } from '../../../lib/directory-helpers.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildSubcategoryFilterNav,
+} from '../../../lib/directory-helpers.js';
 
 export function getStaticPaths() {
   return directoryCatalog.map((directory) => ({
@@ -25,8 +28,10 @@
   sortedListings.length === 0
     ? '0.0'
     : (
-        sortedListings.reduce((sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0), 0) /
-        sortedListings.length
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
       ).toFixed(1);
 
 const navItems = [
@@ -41,67 +46,15 @@
   { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
   { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
 ];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory);
 ---
 
-<BaseLayout
-  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
-  description={directory.heroSubtitle}
+<DirectoryPage
+  directory={directory}
   navItems={navItems}
->
-  <section id="hero" class="space-y-6">
-    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
-      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.category.name}</span>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.location.name}</span>
-    </nav>
-    <div class="space-y-3">
-      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
-    </div>
-    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
-      {heroStats.map((stat) => (
-        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
-          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
-          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
-        </div>
-      ))}
-    </dl>
-  </section>
-
-  <section id="listings" class="space-y-6">
-    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
-      <div>
-        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
-        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
-        <p class="text-sm text-slate-400">
-          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
-          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
-          notes and highlights.
-        </p>
-      </div>
-      <p class="text-sm text-slate-400">Updated weekly with crawler + admin data</p>
-    </div>
-    <ol class="space-y-5" role="list">
-      {sortedListings.map((listing, index) => (
-        <DirectoryListing listing={listing} rank={index + 1} />
-      ))}
-    </ol>
-  </section>
-
-  <section id="review-notes" class="glass-panel space-y-4 p-6">
-    <div>
-      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
-      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
-    </div>
-    <p class="text-sm text-slate-300">
-      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
-      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
-    </p>
-    <p class="text-sm text-slate-400">
-      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
-      support@megadirectory.local.
-    </p>
-  </section>
-</BaseLayout>
+  heroStats={heroStats}
+  listings={sortedListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/src/pages/listings/[category]/[location]/[subcategory].astro b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
new file mode 100644
index 0000000000000000000000000000000000000000..3dfdc9d53200fc13343d82aa8afdd126fccc489a
--- /dev/null
+++ b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
@@ -0,0 +1,78 @@
+---
+import DirectoryPage from '../../../../components/DirectoryPage.astro';
+import { directoryCatalog } from '../../../../data/directory-catalog.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
+} from '../../../../lib/directory-helpers.js';
+
+export function getStaticPaths() {
+  const paths = [];
+
+  for (const directory of directoryCatalog) {
+    const subcategories = buildDirectorySubcategories(directory);
+    for (const subcategory of subcategories) {
+      paths.push({
+        params: {
+          category: directory.category.slug,
+          location: directory.location.slug,
+          subcategory: subcategory.slug,
+        },
+      });
+    }
+  }
+
+  return paths;
+}
+
+const { category, location, subcategory } = Astro.params;
+const directory = findDirectoryEntry(directoryCatalog, category, location);
+
+if (!directory) {
+  throw new Error(`Directory not found for ${category}/${location}`);
+}
+
+const sortedListings = sortListingsByScore(directory.listings);
+const filteredListings = filterListingsBySubcategory(sortedListings, subcategory);
+
+if (filteredListings.length === 0) {
+  throw new Error(`Subcategory ${subcategory} has no listings for ${category}/${location}`);
+}
+
+const averageScore =
+  sortedListings.length === 0
+    ? '0.0'
+    : (
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
+      ).toFixed(1);
+
+const navItems = [
+  { href: '#hero', label: 'Overview' },
+  { href: '#listings', label: 'Listings' },
+  { href: '#review-notes', label: 'Notes' },
+];
+
+const heroStats = [
+  { label: 'Listings live', value: sortedListings.length },
+  { label: 'Avg score', value: averageScore },
+  { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
+  { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
+];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory, subcategory);
+---
+
+<DirectoryPage
+  directory={directory}
+  navItems={navItems}
+  heroStats={heroStats}
+  listings={filteredListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');


thinking
**Summarizing changes and tests run**

I'll explain the new subcategory filter features with clear file references including helper improvements, data updates, and new SSR routes for subcategories, then summarize the tests executed and build steps, finishing with natural next steps the user may want to consider.
codex
**Subcategory Filters**
- `astro/src/lib/directory-helpers.js:1-294` now normalizes slugs with fallback control, derives friendly labels, and exposes `buildSubcategoryPath`, `buildDirectorySubcategories`, `filterListingsBySubcategory`, and `buildSubcategoryFilterNav`, giving the frontend everything it needs to generate URLs, pill labels, counts, and filtered listing sets server-side.
- `astro/test/directory-helpers.test.mjs:1-229` gained richer fixtures plus new assertions for subcategory paths, aggregation, nav generation, and filtering so regressions in the new helpers are caught immediately.
- `astro/src/data/directory-catalog.js:1-295` defines subcategory metadata for every directory and tags each listing with the slugs it belongs to, which drives both the helper logic and the UI.

**SSR Pages**
- `astro/src/components/DirectoryPage.astro:1-138` centralizes the directory layout, adds the subcategory pill panel with active-state styling and count badges, and reuses the existing hero/listing/reviewer sections.
- `astro/src/pages/listings/[category]/[location].astro:1-60` now focuses on data prep (sorting, hero stats, filter nav) before delegating rendering to the shared component, so the base directory path automatically picks up the new UI.
- `astro/src/pages/listings/[category]/[location]/[subcategory].astro:1-78` adds per-subcategory static routes; each path is pre-rendered with the filtered listing set while shared hero stats ensure SEO parity with the main directory.

**Tests**
- `node --test test/directory-helpers.test.mjs`
- `npm run build`

**Next steps**
1. Consider surfacing each listing‚Äôs subcategory tags (badges or metadata chips) so users can confirm why a card shows up under a given filter.
2. When API data replaces the static catalog, reuse the new helper functions to keep the SSR templates stable while swapping in live subcategory payloads.
file update:
diff --git a/astro/src/components/DirectoryPage.astro b/astro/src/components/DirectoryPage.astro
new file mode 100644
index 0000000000000000000000000000000000000000..858b251c7b2e7ec90a5b83ef09e3406ea61afb35
--- /dev/null
+++ b/astro/src/components/DirectoryPage.astro
@@ -0,0 +1,138 @@
+---
+import BaseLayout from '../layouts/BaseLayout.astro';
+import DirectoryListing from './DirectoryListing.astro';
+
+const {
+  directory,
+  navItems,
+  heroStats,
+  listings = [],
+  totalListings = listings.length,
+  subcategoryNav = [],
+} = Astro.props;
+
+const hasSubcategoryNav = subcategoryNav.length > 0;
+const activeFilter = hasSubcategoryNav
+  ? subcategoryNav.find((item) => item.active) ?? subcategoryNav[0]
+  : null;
+const filterLabel = activeFilter?.label ?? 'All subcategories';
+const filterDescription = activeFilter?.description ?? '';
+
+const filterSummary = hasSubcategoryNav
+  ? `Showing ${listings.length} of ${totalListings} listings${
+      activeFilter?.slug ? ` filtered to ${filterLabel}` : ''
+    }.`
+  : '';
+
+const filterLinkClass = (isActive) =>
+  [
+    'inline-flex items-center gap-3 rounded-full border px-4 py-2 text-sm transition',
+    'focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-emerald-400',
+    isActive
+      ? 'border-emerald-400 text-white bg-emerald-400/10'
+      : 'border-white/20 text-slate-200 hover:border-emerald-400/80',
+  ].join(' ');
+---
+
+<BaseLayout
+  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
+  description={directory.heroSubtitle}
+  navItems={navItems}
+>
+  <section id="hero" class="space-y-6">
+    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
+      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.category.name}</span>
+      <span class="mx-2 text-slate-600">/</span>
+      <span>{directory.location.name}</span>
+    </nav>
+    <div class="space-y-3">
+      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
+      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+    </div>
+    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
+      {heroStats.map((stat) => (
+        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
+          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
+          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
+        </div>
+      ))}
+    </dl>
+  </section>
+
+  <section id="listings" class="space-y-6">
+    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
+      <div>
+        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
+        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
+        <p class="text-sm text-slate-400">
+          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
+          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
+          notes and highlights.
+        </p>
+      </div>
+      <div class="text-sm text-slate-400 text-left md:text-right">
+        {hasSubcategoryNav ? (
+          <div class="space-y-1">
+            <p>{filterSummary}</p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        ) : (
+          <p>Updated weekly with crawler + admin data</p>
+        )}
+      </div>
+    </div>
+
+    {hasSubcategoryNav && (
+      <div class="rounded-2xl border border-white/10 bg-white/5 p-4 sm:p-5">
+        <div class="space-y-2">
+          <p class="text-xs font-semibold uppercase tracking-[0.3em] text-emerald-300">Subcategories</p>
+          <div>
+            <h3 class="text-lg font-semibold text-white">{filterLabel}</h3>
+            <p class="text-sm text-slate-400">
+              Showing {listings.length} of {totalListings} listings
+              {activeFilter?.slug ? ` in ${filterLabel}` : ''}.
+            </p>
+            {filterDescription && <p class="text-xs text-slate-500">{filterDescription}</p>}
+          </div>
+        </div>
+        <div class="mt-4 flex flex-wrap gap-3">
+          {subcategoryNav.map((item) => (
+            <a
+              class={filterLinkClass(item.active)}
+              aria-current={item.active ? 'page' : undefined}
+              href={item.href}
+            >
+              <span>{item.label}</span>
+              <span class="rounded-full border border-white/20 px-2 py-0.5 text-xs text-slate-300">
+                {item.count}
+              </span>
+            </a>
+          ))}
+        </div>
+      </div>
+    )}
+
+    <ol class="space-y-5" role="list">
+      {listings.map((listing, index) => (
+        <DirectoryListing listing={listing} rank={index + 1} />
+      ))}
+    </ol>
+  </section>
+
+  <section id="review-notes" class="glass-panel space-y-4 p-6">
+    <div>
+      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
+      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
+    </div>
+    <p class="text-sm text-slate-300">
+      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
+      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
+    </p>
+    <p class="text-sm text-slate-400">
+      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
+      support@megadirectory.local.
+    </p>
+  </section>
+</BaseLayout>
diff --git a/astro/src/data/directory-catalog.js b/astro/src/data/directory-catalog.js
index d98968a13638e7e992de60890e753edef5c2f89a..b9da09020776f281176aba75e5654c53f2b555ed
--- a/astro/src/data/directory-catalog.js
+++ b/astro/src/data/directory-catalog.js
@@ -21,6 +21,23 @@
       responseSla: '< 18 min avg dispatch',
       reviewers: 'Ops + ADA reviewers',
     },
+    subcategories: [
+      {
+        slug: 'electricians',
+        name: 'Electricians',
+        description: 'Licensed crews for service upgrades, EV programs, and tenant improvements.',
+      },
+      {
+        slug: 'hvac',
+        name: 'HVAC & Electrification',
+        description: 'Heat pump retrofits, VRF rebuilds, and IAQ instrumentation.',
+      },
+      {
+        slug: 'facilities',
+        name: 'Facilities & Maintenance',
+        description: 'Union crews covering multi-trade repairs and hospitality programs.',
+      },
+    ],
     listings: [
       {
         slug: 'bright-sparks-electric',
@@ -30,6 +47,7 @@
         description:
           'Full-stack electrical partner for tenant improvements, rollouts, and EV charging programs. Includes permit wrangling, energy modeling, and preventative maintenance.',
         badges: ['NABCEP certified', 'EV fleet ready', 'Same-day dispatch'],
+        subcategories: ['electricians', 'hvac'],
         score: 94.2,
         scoreTooltip: 'Score blends QA + uptime logs (60%), ADA checks (20%), review velocity (20%).',
         highlights: [
@@ -47,6 +65,7 @@
         description:
           'Specializes in geothermal exchanges, VRF rebuilds, and IAQ instrumentation for mixed-use towers. Clients include schools, studios, and coworking hubs.',
         badges: ['Geothermal', 'Rebate ready'],
+        subcategories: ['hvac'],
         score: 90.1,
         scoreTooltip: 'Weighted mix of lien checks, reviewer scorecards, and uptime monitors.',
         highlights: [
@@ -63,6 +82,7 @@
         description:
           'Rotating crews for plumbing, millwork, and finish carpentry with 3-hour onsite guarantee north of Canal Street.',
         badges: ['Union labor', 'Hospitality'],
+        subcategories: ['facilities'],
         score: 82.4,
         scoreTooltip: 'Heavily weighted toward SLA adherence + secret shopper audits.',
         highlights: [
@@ -95,6 +115,18 @@
       responseSla: '< 45 min mountain corridor',
       reviewers: 'Ops + field audits',
     },
+    subcategories: [
+      {
+        slug: 'roofing',
+        name: 'Roofing & Solar',
+        description: 'High-altitude roofing systems plus solar-ready retrofits.',
+      },
+      {
+        slug: 'plumbing',
+        name: 'Plumbing & Hydronics',
+        description: 'Campus-scale leak detection, boilers, and radiant repair crews.',
+      },
+    ],
     listings: [
       {
         slug: 'riverfront-roofing',
@@ -104,6 +136,7 @@
         description:
           'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
         badges: ['Class 4 rated', 'Solar-ready'],
+        subcategories: ['roofing'],
         score: 88.6,
         scoreTooltip: 'Verified by inspector spot checks + insurance partner reports.',
         highlights: ['Owns in-house drone thermography team.', 'Publishes change orders within 30 minutes.'],
@@ -117,6 +150,7 @@
         description:
           'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
         badges: ['Hydronics', 'Campus scale'],
+        subcategories: ['plumbing'],
         score: 84.9,
         scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
         highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
@@ -146,6 +180,23 @@
       responseSla: 'Candidate intros in 3 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'executive-search',
+        name: 'Executive Search',
+        description: 'Retained recruiters for leadership and operator roles.',
+      },
+      {
+        slug: 'talent-ops',
+        name: 'Talent Ops & Playbooks',
+        description: 'Teams that stand up systems, rubrics, and enablement.',
+      },
+      {
+        slug: 'fractional-recruiting',
+        name: 'Fractional Recruiting',
+        description: 'Embedded squads spinning up full-stack talent programs.',
+      },
+    ],
     listings: [
       {
         slug: 'fifth-avenue-search',
@@ -155,6 +206,7 @@
         description:
           'Runs calibration sprints, candidate memos, and DEI scorecards for every slate.',
         badges: ['Retained search', 'Climate focus'],
+        subcategories: ['executive-search'],
         score: 79.5,
         scoreTooltip: 'Composite of placement velocity + candidate NPS.',
         highlights: ['Embedded researcher pool', 'Async stakeholder briefings'],
@@ -168,6 +220,7 @@
         description:
           'Stand up stack, interview rubrics, and compensation bands in four sprints.',
         badges: ['Fractional', 'Systems setup'],
+        subcategories: ['fractional-recruiting', 'talent-ops'],
         score: 73.2,
         scoreTooltip: 'Weighted by onboarding documentation quality.',
         highlights: ['Templates for hiring manager training', 'ATS migrations included'],
@@ -197,6 +250,18 @@
       responseSla: 'Shortlists in 5 days',
       reviewers: 'Talent ops team',
     },
+    subcategories: [
+      {
+        slug: 'product-design',
+        name: 'Product & Design',
+        description: 'Product, research, and design recruiting partners.',
+      },
+      {
+        slug: 'gtm',
+        name: 'Go-to-Market',
+        description: 'Sales, marketing, and post-sales recruiters with AI focus.',
+      },
+    ],
     listings: [
       {
         slug: 'mission-placement-studio',
@@ -206,6 +271,7 @@
         description:
           'Sends candidates Loom walkthroughs, salary ladders, and ramp plans before interviews.',
         badges: ['Product', 'Design systems'],
+        subcategories: ['product-design'],
         score: 81.3,
         scoreTooltip: 'Candidate preparedness + hiring manager CSAT weighting.',
         highlights: ['Bench of bilingual coordinators', 'Portfolio critique workshops'],
@@ -219,6 +285,7 @@
         description:
           'Run-of-show templates, comp benchmarking, and enablement for first revenue hires.',
         badges: ['Go-to-market', 'AI'],
+        subcategories: ['gtm'],
         score: 76.7,
         scoreTooltip: 'Score includes ramp success tracking 90 days post-hire.',
         highlights: ['Intent-based sourcing', 'Recordings of calibration calls shared'],
diff --git a/astro/src/lib/directory-helpers.js b/astro/src/lib/directory-helpers.js
index 3106a1aae936414a019bf015a0113f547f323e5e..efcba54b57034c6412579ee9966fea59f6f86da4
--- a/astro/src/lib/directory-helpers.js
+++ b/astro/src/lib/directory-helpers.js
@@ -3,13 +3,53 @@
 const normalizeScore = (value) =>
   typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
 
-const normalizeSlug = (value) =>
-  String(value ?? '')
+const normalizeSlug = (value, fallback = 'directory') => {
+  const normalized = String(value ?? '')
     .trim()
     .toLowerCase()
     .replace(/[^a-z0-9]+/g, '-')
-    .replace(/^-+|-+$/g, '') || 'directory';
+    .replace(/^-+|-+$/g, '');
+  return normalized || fallback;
+};
 
+const humanizeSlug = (value = '') =>
+  String(value)
+    .split('-')
+    .filter(Boolean)
+    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
+    .join(' ') || value;
+
+const normalizeListingSubcategories = (entries) => {
+  if (!Array.isArray(entries)) {
+    return [];
+  }
+
+  const seen = new Set();
+  const normalized = [];
+
+  for (const entry of entries) {
+    let slug = '';
+    let label = '';
+
+    if (typeof entry === 'string') {
+      slug = normalizeSlug(entry, '');
+      label = humanizeSlug(slug || entry);
+    } else if (entry && typeof entry === 'object') {
+      slug = normalizeSlug(entry.slug ?? entry.name, '');
+      label = entry.name ?? humanizeSlug(slug);
+    }
+
+    if (!slug || seen.has(slug)) {
+      continue;
+    }
+
+    seen.add(slug);
+    normalized.push({ slug, name: label || humanizeSlug(slug) });
+  }
+
+  return normalized;
+};
+
 export function sortListingsByScore(listings = []) {
   if (!Array.isArray(listings)) {
     return [];
@@ -28,6 +68,17 @@
   return `/listings/${categorySegment}/${locationSegment}`;
 }
 
+export function buildSubcategoryPath(categorySlug, locationSlug, subcategorySlug) {
+  if (!subcategorySlug) {
+    return buildDirectoryPath(categorySlug, locationSlug);
+  }
+
+  const basePath = buildDirectoryPath(categorySlug, locationSlug);
+  const subcategorySegment = normalizeSlug(subcategorySlug);
+
+  return `${basePath}/${subcategorySegment}`;
+}
+
 export function buildDirectoryGroups(directories = []) {
   if (!Array.isArray(directories) || directories.length === 0) {
     return [];
@@ -137,3 +188,108 @@
       normalizeSlug(directory?.location?.slug) === normalizedLocation,
   );
 }
+
+export function buildDirectorySubcategories(directory) {
+  if (!directory) {
+    return [];
+  }
+
+  const declared = Array.isArray(directory.subcategories) ? directory.subcategories : [];
+  const listings = Array.isArray(directory.listings) ? directory.listings : [];
+  const map = new Map();
+
+  for (const subcategory of declared) {
+    const slug = normalizeSlug(subcategory?.slug ?? subcategory?.name, '');
+    if (!slug) {
+      continue;
+    }
+    map.set(slug, {
+      slug,
+      name: subcategory?.name ?? humanizeSlug(slug),
+      description: subcategory?.description ?? '',
+      listingCount: 0,
+    });
+  }
+
+  for (const listing of listings) {
+    const listingEntries = normalizeListingSubcategories(listing?.subcategories);
+    for (const entry of listingEntries) {
+      if (!map.has(entry.slug)) {
+        map.set(entry.slug, {
+          slug: entry.slug,
+          name: entry.name ?? humanizeSlug(entry.slug),
+          description: '',
+          listingCount: 0,
+        });
+      }
+      const target = map.get(entry.slug);
+      target.listingCount += 1;
+    }
+  }
+
+  return Array.from(map.values())
+    .filter((entry) => entry.listingCount > 0)
+    .sort((a, b) => {
+      if (b.listingCount !== a.listingCount) {
+        return b.listingCount - a.listingCount;
+      }
+      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
+    });
+}
+
+export function filterListingsBySubcategory(listings = [], subcategorySlug) {
+  const sortedListings = sortListingsByScore(listings);
+  if (!subcategorySlug) {
+    return sortedListings;
+  }
+
+  const normalizedSlug = normalizeSlug(subcategorySlug, '');
+  if (!normalizedSlug) {
+    return [];
+  }
+
+  return sortedListings.filter((listing) =>
+    normalizeListingSubcategories(listing?.subcategories).some(
+      (entry) => entry.slug === normalizedSlug,
+    ),
+  );
+}
+
+export function buildSubcategoryFilterNav(directory, activeSubcategory) {
+  if (
+    !directory?.category?.slug ||
+    !directory?.location?.slug ||
+    !Array.isArray(directory.listings)
+  ) {
+    return [];
+  }
+
+  const subcategories = buildDirectorySubcategories(directory);
+  if (subcategories.length === 0) {
+    return [];
+  }
+
+  const normalizedCategory = normalizeSlug(directory.category.slug);
+  const normalizedLocation = normalizeSlug(directory.location.slug);
+  const activeSlug = activeSubcategory ? normalizeSlug(activeSubcategory) : '';
+
+  const filters = subcategories.map((subcategory) => ({
+    slug: subcategory.slug,
+    label: subcategory.name,
+    description: subcategory.description,
+    count: subcategory.listingCount,
+    href: buildSubcategoryPath(normalizedCategory, normalizedLocation, subcategory.slug),
+    active: subcategory.slug === activeSlug,
+  }));
+
+  const baseFilter = {
+    slug: null,
+    label: 'All subcategories',
+    description: 'Every listing in this directory.',
+    count: directory.listings.length,
+    href: buildDirectoryPath(normalizedCategory, normalizedLocation),
+    active: !activeSlug,
+  };
+
+  return [baseFilter, ...filters];
+}
diff --git a/astro/src/pages/listings/[category]/[location].astro b/astro/src/pages/listings/[category]/[location].astro
index 57ef772e43ca04ff1316ce1ea1ca1ba7936f12ad..283d4f3be2e43fc85558d5c9948aa8b9c64fe081
--- a/astro/src/pages/listings/[category]/[location].astro
+++ b/astro/src/pages/listings/[category]/[location].astro
@@ -1,8 +1,11 @@
 ---
-import BaseLayout from '../../../layouts/BaseLayout.astro';
-import DirectoryListing from '../../../components/DirectoryListing.astro';
+import DirectoryPage from '../../../components/DirectoryPage.astro';
 import { directoryCatalog } from '../../../data/directory-catalog.js';
-import { findDirectoryEntry, sortListingsByScore } from '../../../lib/directory-helpers.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildSubcategoryFilterNav,
+} from '../../../lib/directory-helpers.js';
 
 export function getStaticPaths() {
   return directoryCatalog.map((directory) => ({
@@ -25,8 +28,10 @@
   sortedListings.length === 0
     ? '0.0'
     : (
-        sortedListings.reduce((sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0), 0) /
-        sortedListings.length
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
       ).toFixed(1);
 
 const navItems = [
@@ -41,67 +46,15 @@
   { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
   { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
 ];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory);
 ---
 
-<BaseLayout
-  title={`${directory.category.name} ¬∑ ${directory.location.name}`}
-  description={directory.heroSubtitle}
+<DirectoryPage
+  directory={directory}
   navItems={navItems}
->
-  <section id="hero" class="space-y-6">
-    <nav class="text-xs uppercase tracking-[0.3em] text-emerald-300">
-      <a class="text-slate-400 transition hover:text-white" href="/listings">Listings</a>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.category.name}</span>
-      <span class="mx-2 text-slate-600">/</span>
-      <span>{directory.location.name}</span>
-    </nav>
-    <div class="space-y-3">
-      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
-    </div>
-    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
-      {heroStats.map((stat) => (
-        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
-          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
-          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
-        </div>
-      ))}
-    </dl>
-  </section>
-
-  <section id="listings" class="space-y-6">
-    <div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between">
-      <div>
-        <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Score-aware view</p>
-        <h2 class="text-2xl font-semibold text-white">Listings sorted by reviewer score</h2>
-        <p class="text-sm text-slate-400">
-          Hover or focus the ‚Äúi‚Äù badge next to each score to view a tooltip describing how that
-          directory weighted QA, ADA, and reviewer notes. Expand a card to read detailed reviewer
-          notes and highlights.
-        </p>
-      </div>
-      <p class="text-sm text-slate-400">Updated weekly with crawler + admin data</p>
-    </div>
-    <ol class="space-y-5" role="list">
-      {sortedListings.map((listing, index) => (
-        <DirectoryListing listing={listing} rank={index + 1} />
-      ))}
-    </ol>
-  </section>
-
-  <section id="review-notes" class="glass-panel space-y-4 p-6">
-    <div>
-      <p class="text-sm font-semibold uppercase tracking-[0.3em] text-emerald-300">Reviewer notes</p>
-      <h2 class="text-xl font-semibold text-white">How this directory is maintained</h2>
-    </div>
-    <p class="text-sm text-slate-300">
-      {directory.stats?.reviewers ?? 'Ops & editorial reviewers'} handle verification, ADA checks, and
-      scoring adjustments. Tooltips reflect their weighting for the current review cycle.
-    </p>
-    <p class="text-sm text-slate-400">
-      Need to suggest an edit or submit a new listing? Reach out via the admin portal or email
-      support@megadirectory.local.
-    </p>
-  </section>
-</BaseLayout>
+  heroStats={heroStats}
+  listings={sortedListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/src/pages/listings/[category]/[location]/[subcategory].astro b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
new file mode 100644
index 0000000000000000000000000000000000000000..3dfdc9d53200fc13343d82aa8afdd126fccc489a
--- /dev/null
+++ b/astro/src/pages/listings/[category]/[location]/[subcategory].astro
@@ -0,0 +1,78 @@
+---
+import DirectoryPage from '../../../../components/DirectoryPage.astro';
+import { directoryCatalog } from '../../../../data/directory-catalog.js';
+import {
+  findDirectoryEntry,
+  sortListingsByScore,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
+} from '../../../../lib/directory-helpers.js';
+
+export function getStaticPaths() {
+  const paths = [];
+
+  for (const directory of directoryCatalog) {
+    const subcategories = buildDirectorySubcategories(directory);
+    for (const subcategory of subcategories) {
+      paths.push({
+        params: {
+          category: directory.category.slug,
+          location: directory.location.slug,
+          subcategory: subcategory.slug,
+        },
+      });
+    }
+  }
+
+  return paths;
+}
+
+const { category, location, subcategory } = Astro.params;
+const directory = findDirectoryEntry(directoryCatalog, category, location);
+
+if (!directory) {
+  throw new Error(`Directory not found for ${category}/${location}`);
+}
+
+const sortedListings = sortListingsByScore(directory.listings);
+const filteredListings = filterListingsBySubcategory(sortedListings, subcategory);
+
+if (filteredListings.length === 0) {
+  throw new Error(`Subcategory ${subcategory} has no listings for ${category}/${location}`);
+}
+
+const averageScore =
+  sortedListings.length === 0
+    ? '0.0'
+    : (
+        sortedListings.reduce(
+          (sum, listing) => sum + (typeof listing.score === 'number' ? listing.score : 0),
+          0,
+        ) / sortedListings.length
+      ).toFixed(1);
+
+const navItems = [
+  { href: '#hero', label: 'Overview' },
+  { href: '#listings', label: 'Listings' },
+  { href: '#review-notes', label: 'Notes' },
+];
+
+const heroStats = [
+  { label: 'Listings live', value: sortedListings.length },
+  { label: 'Avg score', value: averageScore },
+  { label: 'Coverage', value: directory.stats?.coverage ?? directory.location.name },
+  { label: 'Response SLA', value: directory.stats?.responseSla ?? '‚Äî' },
+];
+
+const subcategoryNav = buildSubcategoryFilterNav(directory, subcategory);
+---
+
+<DirectoryPage
+  directory={directory}
+  navItems={navItems}
+  heroStats={heroStats}
+  listings={filteredListings}
+  totalListings={sortedListings.length}
+  subcategoryNav={subcategoryNav}
+/>
diff --git a/astro/test/directory-helpers.test.mjs b/astro/test/directory-helpers.test.mjs
index 5e13001917a684bcd1b8652710255a11e53acd68..feb1dca93a33451119685031ca579d68bf159822
--- a/astro/test/directory-helpers.test.mjs
+++ b/astro/test/directory-helpers.test.mjs
@@ -4,6 +4,10 @@
   sortListingsByScore,
   buildDirectoryGroups,
   buildDirectoryPath,
+  buildSubcategoryPath,
+  buildDirectorySubcategories,
+  buildSubcategoryFilterNav,
+  filterListingsBySubcategory,
   findDirectoryEntry,
 } from '../src/lib/directory-helpers.js';
 
@@ -15,10 +19,25 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Trusted Pros in NYC',
     heroSubtitle: 'Browse curated electricians, plumbers, HVAC, and more.',
+    subcategories: [
+      { slug: 'electricians', name: 'Electricians' },
+      { slug: 'hvac', name: 'HVAC' },
+      { slug: 'maintenance-crews', name: 'Maintenance Crews' },
+    ],
     listings: [
-      { slug: 'bright-sparks', name: 'Bright Sparks Electric', score: 92.5 },
-      { slug: 'harbor-hvac', name: 'Harbor HVAC', score: 88.2 },
-      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined },
+      {
+        slug: 'bright-sparks',
+        name: 'Bright Sparks Electric',
+        score: 92.5,
+        subcategories: ['electricians', 'hvac'],
+      },
+      {
+        slug: 'harbor-hvac',
+        name: 'Harbor HVAC',
+        score: 88.2,
+        subcategories: ['HVAC'],
+      },
+      { slug: 'metro-clean', name: 'Metro Cleaners', score: undefined, subcategories: [] },
     ],
   },
   {
@@ -29,8 +48,18 @@
     heroTitle: 'Mile High Maintainers',
     heroSubtitle: 'Regional trades and contractors with transparent SLAs.',
     listings: [
-      { slug: 'mile-high-plumbing', name: 'Mile High Plumbing', score: 81.4 },
-      { slug: 'riverfront-roofing', name: 'Riverfront Roofing', score: 85.7 },
+      {
+        slug: 'mile-high-plumbing',
+        name: 'Mile High Plumbing',
+        score: 81.4,
+        subcategories: ['plumbing'],
+      },
+      {
+        slug: 'riverfront-roofing',
+        name: 'Riverfront Roofing',
+        score: 85.7,
+        subcategories: ['roofing'],
+      },
     ],
   },
   {
@@ -40,7 +69,14 @@
     location: { slug: 'new-york-city', name: 'New York City', region: 'NY' },
     heroTitle: 'Recruiting in NYC',
     heroSubtitle: 'Specialists for finance, media, and tech roles.',
-    listings: [{ slug: 'fifth-avenue-search', name: 'Fifth Avenue Search', score: 78 }],
+    listings: [
+      {
+        slug: 'fifth-avenue-search',
+        name: 'Fifth Avenue Search',
+        score: 78,
+        subcategories: ['executive-search'],
+      },
+    ],
   },
 ];
 
@@ -72,6 +108,17 @@
   );
 });
 
+test('buildSubcategoryPath appends normalized subcategory segments', () => {
+  assert.strictEqual(
+    buildSubcategoryPath('professional-services', 'new-york-city', 'Electricians NYC!'),
+    '/listings/professional-services/new-york-city/electricians-nyc'
+  );
+  assert.strictEqual(
+    buildSubcategoryPath('jobs', 'denver-co'),
+    '/listings/jobs/denver-co'
+  );
+});
+
 test('buildDirectoryGroups nests directories under categories and locations with stats', () => {
   const groups = buildDirectoryGroups(sampleDirectories);
 
@@ -105,6 +152,73 @@
   assert.strictEqual(jobs.locations[0].directories[0].path, '/listings/jobs/new-york-city');
 });
 
+test('buildDirectorySubcategories aggregates metadata and listing counts', () => {
+  const directory = sampleDirectories[0];
+  const subcategories = buildDirectorySubcategories(directory);
+
+  assert.deepStrictEqual(
+    subcategories.map((entry) => entry.slug),
+    ['hvac', 'electricians'],
+    'only subcategories with listings are returned sorted by count'
+  );
+
+  const hvac = subcategories.find((entry) => entry.slug === 'hvac');
+  assert.ok(hvac);
+  assert.strictEqual(hvac.listingCount, 2);
+  assert.strictEqual(hvac.name, 'HVAC');
+
+  const electricians = subcategories.find((entry) => entry.slug === 'electricians');
+  assert.ok(electricians);
+  assert.strictEqual(electricians.listingCount, 1);
+});
+
+test('buildSubcategoryFilterNav returns all filter options with active state', () => {
+  const directory = sampleDirectories[0];
+  const nav = buildSubcategoryFilterNav(directory, 'HVAC');
+
+  assert.strictEqual(nav.length, 3, 'includes base + two subcategories');
+
+  const [all, hvac, electricians] = nav;
+  assert.strictEqual(all.href, '/listings/professional-services/new-york-city');
+  assert.ok(all.active === false);
+  assert.strictEqual(all.count, 3);
+
+  assert.strictEqual(hvac.href, '/listings/professional-services/new-york-city/hvac');
+  assert.ok(hvac.active, 'HVAC entry active');
+  assert.strictEqual(hvac.count, 2);
+
+  assert.strictEqual(
+    electricians.href,
+    '/listings/professional-services/new-york-city/electricians',
+  );
+  assert.ok(!electricians.active);
+});
+
+test('filterListingsBySubcategory reduces results to a matching slug', () => {
+  const listings = sampleDirectories[0].listings;
+
+  const hvac = filterListingsBySubcategory(listings, 'HVAC');
+  assert.deepStrictEqual(
+    hvac.map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac'],
+    'returns only hvac listings sorted by score'
+  );
+
+  const electricians = filterListingsBySubcategory(listings, 'electricians');
+  assert.deepStrictEqual(
+    electricians.map((listing) => listing.slug),
+    ['bright-sparks'],
+    'single electrician listing returned'
+  );
+
+  assert.deepStrictEqual(filterListingsBySubcategory(listings, 'unknown'), [], 'unknown slug empty');
+  assert.deepStrictEqual(
+    filterListingsBySubcategory(listings).map((listing) => listing.slug),
+    ['bright-sparks', 'harbor-hvac', 'metro-clean'],
+    'no slug returns all sorted listings'
+  );
+});
+
 test('findDirectoryEntry returns a directory when slugs match regardless of casing', () => {
   const match = findDirectoryEntry(sampleDirectories, 'Professional-Services', 'NEW-YORK-CITY');
   assert.ok(match, 'expected directory entry for NYC professional services');

tokens used
201,937
**Subcategory Filters**
- `astro/src/lib/directory-helpers.js:1-294` now normalizes slugs with fallback control, derives friendly labels, and exposes `buildSubcategoryPath`, `buildDirectorySubcategories`, `filterListingsBySubcategory`, and `buildSubcategoryFilterNav`, giving the frontend everything it needs to generate URLs, pill labels, counts, and filtered listing sets server-side.
- `astro/test/directory-helpers.test.mjs:1-229` gained richer fixtures plus new assertions for subcategory paths, aggregation, nav generation, and filtering so regressions in the new helpers are caught immediately.
- `astro/src/data/directory-catalog.js:1-295` defines subcategory metadata for every directory and tags each listing with the slugs it belongs to, which drives both the helper logic and the UI.

**SSR Pages**
- `astro/src/components/DirectoryPage.astro:1-138` centralizes the directory layout, adds the subcategory pill panel with active-state styling and count badges, and reuses the existing hero/listing/reviewer sections.
- `astro/src/pages/listings/[category]/[location].astro:1-60` now focuses on data prep (sorting, hero stats, filter nav) before delegating rendering to the shared component, so the base directory path automatically picks up the new UI.
- `astro/src/pages/listings/[category]/[location]/[subcategory].astro:1-78` adds per-subcategory static routes; each path is pre-rendered with the filtered listing set while shared hero stats ensure SEO parity with the main directory.

**Tests**
- `node --test test/directory-helpers.test.mjs`
- `npm run build`

**Next steps**
1. Consider surfacing each listing‚Äôs subcategory tags (badges or metadata chips) so users can confirm why a card shows up under a given filter.
2. When API data replaces the static catalog, reuse the new helper functions to keep the SSR templates stable while swapping in live subcategory payloads.
