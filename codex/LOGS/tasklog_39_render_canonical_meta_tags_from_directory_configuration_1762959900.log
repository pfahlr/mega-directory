OpenAI Codex v0.57.0 (research preview)
--------
workdir: /var/home/rick/Development/mega-directory
model: gpt-5-codex
provider: openai
approval: never
sandbox: workspace-write [workdir, /tmp, $TMPDIR]
reasoning effort: high
reasoning summaries: auto
session id: 019a7899-4117-7b90-a10a-1d011214544e
--------
user
Implement the functionality described in codex/TASKS/39_render_canonical_meta_tags_from_directory_configuration.yaml, then verify with any available tests.
ERROR: MCP client for `exa` failed to start: handshaking with MCP server failed: connection closed: initialize response
ERROR: MCP client for `vibe-check-mcp-server` failed to start: handshaking with MCP server failed: connection closed: initialize response
ERROR: MCP client for `mcp` failed to start: handshaking with MCP server failed: connection closed: initialize response

thinking
**Preparing to locate tasks file**
exec
bash -lc ls in /var/home/rick/Development/mega-directory succeeded in 41ms:
AGENTS.md
apps
codex
codex.toml
codex.yaml
db
docker-compose.yml
docs
env.json
Makefile
package.json
packages
README.md
scripts
tests
tsconfig.json

thinking
**Checking for task instructions**
exec
bash -lc 'cat codex/TASKS/39_render_canonical_meta_tags_from_directory_configuration.yaml' in /var/home/rick/Development/mega-directory succeeded in 41ms:
id: 39
filename: 39_render_canonical_meta_tags_from_directory_configuration.yaml
title: Render Canonical Meta Tags from Directory Configuration
description: >
- Ensure that title, meta description, keywords, and Open Graph metadata are correctly injected into directory pages built with astro SSR
- Source values from directory page fields and site config.
- additional information regarding entire development project this task is part of can be referenced in `codex/TASKS/codex_phase_1b_2.yaml`
dependencies: []

thinking
**Checking architecture context file**
exec
bash -lc 'cat codex/TASKS/codex_phase_1b_2.yaml' in /var/home/rick/Development/mega-directory succeeded in 40ms:
project: mega-directory
version: 1.0
phases:
  - phase: 1
    description: Core system buildout — listings pipeline, directory structure, admin tools, crawler, API, and frontend delivery

    components:
      api_server:
        language: TypeScript
        framework: Node/Express
        deployment: Railway
        endpoints:
          - listings: [GET, POST, PUT, DELETE]
          - addresses: [GET, POST, PUT, DELETE]
          - categories: [GET, POST, PUT, DELETE]
          - directory_pages: [GET, POST, PUT, DELETE]
          - directory_metadata: [GET, PUT]
        notes:
          - Postal, city, state/province, and country tables are loaded from external datasets.
          - Listings reference postal_code_id or city_id depending on geography.

thinking
**Searching for canonical meta tags**
exec
bash -lc 'ls apps' in /var/home/rick/Development/mega-directory succeeded in 40ms:
admin
api
crawler
web

thinking
**Checking web app directory**
exec
bash -lc 'ls apps/web' in /var/home/rick/Development/mega-directory succeeded in 42ms:
astro.config.mjs
dist
Dockerfile
node_modules
package.json
package-lock.json
postcss.config.cjs
public
README.md
src
tailwind.config.mjs
test
tsconfig.json

thinking
**Reviewing meta tag instructions**
exec
bash -lc 'ls apps/web/src' in /var/home/rick/Development/mega-directory succeeded in 40ms:
components
config
data
layouts
lib
middleware.js
pages
styles

thinking
**Searching for meta tags**
exec
bash -lc 'rg "canonical" -n' in /var/home/rick/Development/mega-directory succeeded in 50ms:
docs/development_phase_1b.md:127:## Subdomain vs Subdirectory: The spec allows both a subdomain and a subdirectory for a directory page. Clarify the desired behavior (e.g. should one always redirect to the other?). Implementation could simply enforce a canonical structure, but decide whether the primary path is the subdomain or the directory URL.
codex/LOGS/tasklog_39_render_canonical_meta_tags_from_directory_configuration_1762959900.log:13:Implement the functionality described in codex/TASKS/39_render_canonical_meta_tags_from_directory_configuration.yaml, then verify with any available tests.
codex/LOGS/tasklog_39_render_canonical_meta_tags_from_directory_configuration_1762959900.log:42:bash -lc 'cat codex/TASKS/39_render_canonical_meta_tags_from_directory_configuration.yaml' in /var/home/rick/Development/mega-directory succeeded in 41ms:
codex/LOGS/tasklog_39_render_canonical_meta_tags_from_directory_configuration_1762959900.log:44:filename: 39_render_canonical_meta_tags_from_directory_configuration.yaml
codex/LOGS/tasklog_39_render_canonical_meta_tags_from_directory_configuration_1762959900.log:78:**Searching for canonical meta tags**
codex/LOGS/tasklog_39_render_canonical_meta_tags_from_directory_configuration_1762959900.log:120:bash -lc 'rg "canonical" -n' in /var/home/rick/Development/mega-directory
codex/TASKS/work_list:16:39_render_canonical_meta_tags_from_directory_configuration.yaml
codex/TASKS/00_prepare_repository.yaml:24:       * Use `/astro`, `/api`, `/admin`, `/agents/crawler`, `/codex/TASKS`, `/db`, and `/docs` as canonical paths.
codex/TASKS/39_render_canonical_meta_tags_from_directory_configuration.yaml:2:filename: 39_render_canonical_meta_tags_from_directory_configuration.yaml
codex/TASKS/33_add_directory_routing_logic_subdomain_subdirectory_handling.yaml:8:- Enforce canonical URLs
codex/LOGS/tasklog_37_generate_admin_interface_for_reviewing_imported_json_listing_data_1762959134.log:688:codex/LOGS/tasklog_36_create_text-based_data_import_script_with_llm_and_html_parsing_modes_1762958558.log:104:codex/LOGS/tasklog_35_implement_shared_post-processing_for_crawler_and_text_import_scripts_1762957666.log:467:codex/LOGS/codex_run_2025-11-12_06-13-21.log:7:Tasks: 24_setup_project_scaffolding_and_configuration 25a_initialize_astro_frontend_with_base_layouts 25_define_directory_page_model_and_metadata_fields 26_initialize_geographic_location_tables_and_seed_data 27_implement_directory_pages_table_and_metadata_fields 28_build_admin_ui_for_directory_page_creation_and_editing 29_implement_listings_table_enhancements_for_multiple_categories_and_locations 30_set_up_geocoding_integration_with_fallback_support 31_build_map_widget_for_directory_pages_with_location-aware_listings 32_create_admin_api_endpoints_for_listings_addresses_categories_directories 33_add_directory_routing_logic_subdomain_subdirectory_handling 34_extend_crawler_to_handle_address_and_category_assignment 35_implement_shared_post-processing_for_crawler_and_text_import_scripts 36_create_text-based_data_import_script_with_llm_and_html_parsing_modes 37_generate_admin_interface_for_reviewing_imported_json_listing_data 39_render_canonical_meta_tags_from_directory_configuration 40_document_full_development_setup_and_env_var_usage_makefile_sops_etc
codex/LOGS/tasklog_37_generate_admin_interface_for_reviewing_imported_json_listing_data_1762959134.log:689:codex/LOGS/tasklog_36_create_text-based_data_import_script_with_llm_and_html_parsing_modes_1762958558.log:105:codex/LOGS/tasklog_35_implement_shared_post-processing_for_crawler_and_text_import_scripts_1762957666.log:468:codex/LOGS/tasklog_25a_initialize_astro_frontend_with_base_layouts_1762948216.log:575:codex/LOGS/codex_run_2025-11-12_06-13-21.log:7:Tasks: 24_setup_project_scaffolding_and_configuration 25a_initialize_astro_frontend_with_base_layouts 25_define_directory_page_model_and_metadata_fields 26_initialize_geographic_location_tables_and_seed_data 27_implement_directory_pages_table_and_metadata_fields 28_build_admin_ui_for_directory_page_creation_and_editing 29_implement_listings_table_enhancements_for_multiple_categories_and_locations 30_set_up_geocoding_integration_with_fallback_support 31_build_map_widget_for_directory_pages_with_location-aware_listings 32_create_admin_api_endpoints_for_listings_addresses_categories_directories 33_add_directory_routing_logic_subdomain_subdirectory_handling 34_extend_crawler_to_handle_address_and_category_assignment 35_implement_shared_post-processing_for_crawler_and_text_import_scripts 36_create_text-based_data_import_script_with_llm_and_html_parsing_modes 37_generate_admin_interface_for_reviewing_imported_json_listing_data 39_render_canonical_meta_tags_from_directory_configuration 40_document_full_development_setup_and_env_var_usage_makefile_sops_etc
codex/LOGS/tasklog_37_generate_admin_interface_for_reviewing_imported_json_listing_data_1762959134.log:692:codex/LOGS/tasklog_35_implement_shared_post-processing_for_crawler_and_text_import_scripts_1762957666.log:467:codex/LOGS/codex_run_2025-11-12_06-13-21.log:7:Tasks: 24_setup_project_scaffolding_and_configuration 25a_initialize_astro_frontend_with_base_layouts 25_define_directory_page_model_and_metadata_fields 26_initialize_geographic_location_tables_and_seed_data 27_implement_directory_pages_table_and_metadata_fields 28_build_admin_ui_for_directory_page_creation_and_editing 29_implement_listings_table_enhancements_for_multiple_categories_and_locations 30_set_up_geocoding_integration_with_fallback_support 31_build_map_widget_for_directory_pages_with_location-aware_listings 32_create_admin_api_endpoints_for_listings_addresses_categories_directories 33_add_directory_routing_logic_subdomain_subdirectory_handling 34_extend_crawler_to_handle_address_and_category_assignment 35_implement_shared_post-processing_for_crawler_and_text_import_scripts 36_create_text-based_data_import_script_with_llm_and_html_parsing_modes 37_generate_admin_interface_for_reviewing_imported_json_listing_data 39_render_canonical_meta_tags_from_directory_configuration 40_document_full_development_setup_and_env_var_usage_makefile_sops_etc
codex/LOGS/tasklog_37_generate_admin_interface_for_reviewing_imported_json_listing_data_1762959134.log:693:codex/LOGS/tasklog_35_implement_shared_post-processing_for_crawler_and_text_import_scripts_1762957666.log:468:codex/LOGS/tasklog_25a_initialize_astro_frontend_with_base_layouts_1762948216.log:575:codex/LOGS/codex_run_2025-11-12_06-13-21.log:7:Tasks: 24_setup_project_scaffolding_and_configuration 25a_initialize_astro_frontend_with_base_layouts 25_define_directory_page_model_and_metadata_fields 26_initialize_geographic_location_tables_and_seed_data 27_implement_directory_pages_table_and_metadata_fields 28_build_admin_ui_for_directory_page_creation_and_editing 29_implement_listings_table_enhancements_for_multiple_categories_and_locations 30_set_up_geocoding_integration_with_fallback_support 31_build_map_widget_for_directory_pages_with_location-aware_listings 32_create_admin_api_endpoints_for_listings_addresses_categories_directories 33_add_directory_routing_logic_subdomain_subdirectory_handling 34_extend_crawler_to_handle_address_and_category_assignment 35_implement_shared_post-processing_for_crawler_and_text_import_scripts 36_create_text-based_data_import_script_with_llm_and_html_parsing_modes 37_generate_admin_interface_for_reviewing_imported_json_listing_data 39_render_canonical_meta_tags_from_directory_configuration 40_document_full_development_setup_and_env_var_usage_makefile_sops_etc
codex/LOGS/tasklog_37_generate_admin_interface_for_reviewing_imported_json_listing_data_1762959134.log:694:codex/LOGS/tasklog_35_implement_shared_post-processing_for_crawler_and_text_import_scripts_1762957666.log:807:codex/LOGS/tasklog_35_implement_shared_post-processing_for_crawler_and_text_import_scripts_1762957666.log:467:codex/LOGS/codex_run_2025-11-12_06-13-21.log:7:Tasks: 24_setup_project_scaffolding_and_configuration 25a_initialize_astro_frontend_with_base_layouts 25_define_directory_page_model_and_metadata_fields 26_initialize_geographic_location_tables_and_seed_data 27_implement_directory_pages_table_and_metadata_fields 28_build_admin_ui_for_directory_page_creation_and_editing 29_implement_listings_table_enhancements_for_multiple_categories_and_locations 30_set_up_geocoding_integration_with_fallback_support 31_build_map_widget_for_directory_pages_with_location-aware_listings 32_create_admin_api_endpoints_for_listings_addresses_categories_directories 33_add_directory_routing_logic_subdomain_subdirectory_handling 34_extend_crawler_to_handle_address_and_category_assignment 35_implement_shared_post-processing_for_crawler_and_text_import_scripts 36_create_text-based_data_import_script_with_llm_and_html_parsing_modes 37_generate_admin_interface_for_reviewing_imported_json_listing_data 39_render_canonical_meta_tags_from_directory_configuration 40_document_full_development_setup_and_env_var_usage_makefile_sops_etc
codex/LOGS/tasklog_37_generate_admin_interface_for_reviewing_imported_json_listing_data_1762959134.log:695:codex/LOGS/tasklog_35_implement_shared_post-processing_for_crawler_and_text_import_scripts_1762957666.log:808:codex/LOGS/tasklog_35_implement_shared_post-processing_for_crawler_and_text_import_scripts_1762957666.log:468:codex/LOGS/tasklog_25a_initialize_astro_frontend_with_base_layouts_1762948216.log:575:codex/LOGS/codex_run_2025-11-12_06-13-21.log:7:Tasks: 24_setup_project_scaffolding_and_configuration 25a_initialize_astro_frontend_with_base_layouts 25_define_directory_page_model_and_metadata_fields 26_initialize_geographic_location_tables_and_seed_data 27_implement_directory_pages_table_and_metadata_fields 28_build_admin_ui_for_directory_page_creation_and_editing 29_implement_listings_table_enhancements_for_multiple_categories_and_locations 30_set_up_geocoding_integration_with_fallback_support 31_build_map_widget_for_directory_pages_with_location-aware_listings 32_create_admin_api_endpoints_for_listings_addresses_categories_directories 33_add_directory_routing_logic_subdomain_subdirectory_handling 34_extend_crawler_to_handle_address_and_category_assignment 35_implement_shared_post-processing_for_crawler_and_text_import_scripts 36_create_text-based_data_import_script_with_llm_and_html_parsing_modes 37_generate_admin_interface_for_reviewing_imported_json_listing_data 39_render_canonical_meta_tags_from_directory_configuration 40_document_full_development_setup_and_env_var_usage_makefile_sops_etc
codex/LOGS/tasklog_37_generate_admin_interface_for_reviewing_imported_json_listing_data_1762959134.log:696:codex/LOGS/tasklog_25a_initialize_astro_frontend_with_base_layouts_1762948216.log:575:codex/LOGS/codex_run_2025-11-12_06-13-21.log:7:Tasks: 24_setup_project_scaffolding_and_configuration 25a_initialize_astro_frontend_with_base_layouts 25_define_directory_page_model_and_metadata_fields 26_initialize_geographic_location_tables_and_seed_data 27_implement_directory_pages_table_and_metadata_fields 28_build_admin_ui_for_directory_page_creation_and_editing 29_implement_listings_table_enhancements_for_multiple_categories_and_locations 30_set_up_geocoding_integration_with_fallback_support 31_build_map_widget_for_directory_pages_with_location-aware_listings 32_create_admin_api_endpoints_for_listings_addresses_categories_directories 33_add_directory_routing_logic_subdomain_subdirectory_handling 34_extend_crawler_to_handle_address_and_category_assignment 35_implement_shared_post-processing_for_crawler_and_text_import_scripts 36_create_text-based_data_import_script_with_llm_and_html_parsing_modes 37_generate_admin_interface_for_reviewing_imported_json_listing_data 39_render_canonical_meta_tags_from_directory_configuration 40_document_full_development_setup_and_env_var_usage_makefile_sops_etc
codex/LOGS/tasklog_36_create_text-based_data_import_script_with_llm_and_html_parsing_modes_1762958558.log:104:codex/LOGS/tasklog_35_implement_shared_post-processing_for_crawler_and_text_import_scripts_1762957666.log:467:codex/LOGS/codex_run_2025-11-12_06-13-21.log:7:Tasks: 24_setup_project_scaffolding_and_configuration 25a_initialize_astro_frontend_with_base_layouts 25_define_directory_page_model_and_metadata_fields 26_initialize_geographic_location_tables_and_seed_data 27_implement_directory_pages_table_and_metadata_fields 28_build_admin_ui_for_directory_page_creation_and_editing 29_implement_listings_table_enhancements_for_multiple_categories_and_locations 30_set_up_geocoding_integration_with_fallback_support 31_build_map_widget_for_directory_pages_with_location-aware_listings 32_create_admin_api_endpoints_for_listings_addresses_categories_directories 33_add_directory_routing_logic_subdomain_subdirectory_handling 34_extend_crawler_to_handle_address_and_category_assignment 35_implement_shared_post-processing_for_crawler_and_text_import_scripts 36_create_text-based_data_import_script_with_llm_and_html_parsing_modes 37_generate_admin_interface_for_reviewing_imported_json_listing_data 39_render_canonical_meta_tags_from_directory_configuration 40_document_full_development_setup_and_env_var_usage_makefile_sops_etc
codex/LOGS/tasklog_36_create_text-based_data_import_script_with_llm_and_html_parsing_modes_1762958558.log:105:codex/LOGS/tasklog_35_implement_shared_post-processing_for_crawler_and_text_import_scripts_1762957666.log:468:codex/LOGS/tasklog_25a_initialize_astro_frontend_with_base_layouts_1762948216.log:575:codex/LOGS/codex_run_2025-11-12_06-13-21.log:7:Tasks: 24_setup_project_scaffolding_and_configuration 25a_initialize_astro_frontend_with_base_layouts 25_define_directory_page_model_and_metadata_fields 26_initialize_geographic_location_tables_and_seed_data 27_implement_directory_pages_table_and_metadata_fields 28_build_admin_ui_for_directory_page_creation_and_editing 29_implement_listings_table_enhancements_for_multiple_categories_and_locations 30_set_up_geocoding_integration_with_fallback_support 31_build_map_widget_for_directory_pages_with_location-aware_listings 32_create_admin_api_endpoints_for_listings_addresses_categories_directories 33_add_directory_routing_logic_subdomain_subdirectory_handling 34_extend_crawler_to_handle_address_and_category_assignment 35_implement_shared_post-processing_for_crawler_and_text_import_scripts 36_create_text-based_data_import_script_with_llm_and_html_parsing_modes 37_generate_admin_interface_for_reviewing_imported_json_listing_data 39_render_canonical_meta_tags_from_directory_configuration 40_document_full_development_setup_and_env_var_usage_makefile_sops_etc
codex/LOGS/tasklog_36_create_text-based_data_import_script_with_llm_and_html_parsing_modes_1762958558.log:757:## Subdomain vs Subdirectory: The spec allows both a subdomain and a subdirectory for a directory page. Clarify the desired behavior (e.g. should one always redirect to the other?). Implementation could simply enforce a canonical structure, but decide whether the primary path is the subdomain or the directory URL.

thinking
**Searching for meta tag generation code**
exec
bash -lc 'ls apps/web/src/layouts' in /var/home/rick/Development/mega-directory succeeded in 40ms:
BaseLayout.astro

thinking
**Opening a file**
exec
bash -lc "sed -n '1,200p' apps/web/src/layouts/BaseLayout.astro" in /var/home/rick/Development/mega-directory succeeded in 41ms:
---
import SiteFooter from '../components/SiteFooter.astro';
import SiteHeader from '../components/SiteHeader.astro';
import { siteConfig } from '../config/site-config.js';
import '../styles/global.css';

const {
  title,
  description,
  navItems,
  showHeader = true,
  showFooter = true,
  seo = {},
} = Astro.props;

const siteName = siteConfig.siteName;
const resolvedTitle = title ?? siteName;
const computedTitle =
  seo.title ??
  (resolvedTitle === siteName ? siteName : `${resolvedTitle} · ${siteName}`);

thinking
**Locating directory page component**
exec
bash -lc 'ls apps/web/src/pages' in /var/home/rick/Development/mega-directory succeeded in 40ms:
directories
index.astro

thinking
**Inspecting page directories**
exec
bash -lc 'ls apps/web/src/pages/directories' in /var/home/rick/Development/mega-directory succeeded in 39ms:
index.astro
[...path].astro

thinking
**Reviewing dynamic file**
exec
bash -lc "sed -n '1,200p' apps/web/src/pages/directories/[...path].astro" in /var/home/rick/Development/mega-directory succeeded in 40ms:
---
import DirectoryPage from '../../components/DirectoryPage.astro';
import { fetchDirectoryCatalog, fetchDirectoryBySlug } from '../../data/directory-service.js';
import {
  buildDirectoryRouteConfig,
  buildDirectorySubcategories,
  buildSubcategoryFilterNav,
  filterListingsBySubcategory,
  getDirectorySubdirectorySlug,
  segmentFeaturedListings,
  sortListingsByScore,
} from '../../lib/directory-helpers.js';

export async function getStaticPaths() {
  const directories = await fetchDirectoryCatalog();
  return directories.flatMap((directory) => {
    const baseSlug = getDirectorySubdirectorySlug(directory);
    const subcategoryEntries = buildDirectorySubcategories(directory).map((subcategory) => ({
      params: { path: `${baseSlug}/${subcategory.slug}` },
      props: { directorySlug: directory.slug, subcategorySlug: subcategory.slug },

thinking
**Checking DirectoryPage SEO data**
exec
bash -lc "sed -n '1,400p' apps/web/src/components/DirectoryPage.astro" in /var/home/rick/Development/mega-directory succeeded in 42ms:
---
import BaseLayout from '../layouts/BaseLayout.astro';
import {
  resolveCategorySeoMetadata,
  buildDirectoryMapPins,
  shouldRenderDirectoryMap,
} from '../lib/directory-helpers.js';
import { buildDirectoryResponseTargets } from '../lib/directory-routing.js';
import DirectoryListing from './DirectoryListing.astro';
import DirectoryMap from './DirectoryMap.astro';

const {
  directory,
  navItems,
  heroStats,
  listings = [],
  totalListings = listings.length,
  subcategoryNav = [],
  featuredHero = null,
  featuredTierTwo = [],

thinking
**Verifying meta tag integration**
exec
bash -lc 'ls apps/web/src/data' in /var/home/rick/Development/mega-directory succeeded in 40ms:
directory-catalog.js
directory-service.js

thinking
**Inspecting data files**
exec
bash -lc "sed -n '1,200p' apps/web/src/data/directory-service.js" in /var/home/rick/Development/mega-directory succeeded in 42ms:
import { directoryCatalog } from './directory-catalog.js';
import { findDirectoryBySlug } from '../lib/directory-helpers.js';

const API_BASE_URL =
  typeof import.meta?.env?.PUBLIC_API_BASE_URL === 'string'
    ? import.meta.env.PUBLIC_API_BASE_URL
    : typeof process !== 'undefined'
      ? process.env.PUBLIC_API_BASE_URL
      : undefined;

async function fetchJson(url) {
  const response = await fetch(url);
  if (!response.ok) {
    throw new Error(`Failed request ${response.status}`);
  }
  return response.json();
}

export async function fetchDirectoryCatalog() {
  if (!API_BASE_URL) {

thinking
**Inspecting directory catalog data**
exec
bash -lc "sed -n '1,200p' apps/web/src/data/directory-catalog.js" in /var/home/rick/Development/mega-directory succeeded in 41ms:
export const directoryCatalog = [
  {
    slug: 'professional-services-new-york-city',
    subdomain: 'pros-nyc',
    subdirectory: 'professional-services/new-york-city',
    locationAgnostic: false,
    name: 'NYC Professional Services',
    heroTitle: 'Trusted Pros in New York City',
    heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
    category: {
      slug: 'professional-services',
      name: 'Professional Services',
      description: 'Verified operators for commercial and residential work orders.',
      metaTitle: 'Professional Services Directory',
      metaDescription: 'Curated electricians, HVAC crews, and facilities partners.',
    },
    location: {
      slug: 'new-york-city',
      name: 'New York City',
      state: 'NY',

thinking
**Searching for metadata fields**
exec
bash -lc 'rg --no-heading -n "meta" apps/web/src' in /var/home/rick/Development/mega-directory succeeded in 44ms:
apps/web/src/data/directory-service.js:5:  typeof import.meta?.env?.PUBLIC_API_BASE_URL === 'string'
apps/web/src/data/directory-service.js:6:    ? import.meta.env.PUBLIC_API_BASE_URL
apps/web/src/data/directory-catalog.js:14:      metaTitle: 'Professional Services Directory',
apps/web/src/data/directory-catalog.js:15:      metaDescription: 'Curated electricians, HVAC crews, and facilities partners.',
apps/web/src/data/directory-catalog.js:137:      metaTitle: 'Professional Services Directory',
apps/web/src/data/directory-catalog.js:138:      metaDescription: 'Curated electricians, HVAC crews, and facilities partners.',
apps/web/src/data/directory-catalog.js:186:          'Panelized metal roofs, Class 4 shingles, and solar-ready retrofits tuned for altitude.',
apps/web/src/data/directory-catalog.js:224:      metaTitle: 'Jobs & Recruiters Directory',
apps/web/src/data/directory-catalog.js:225:      metaDescription: 'High-signal recruiting partners and curated job boards.',
apps/web/src/data/directory-catalog.js:316:      metaTitle: 'Jobs & Recruiters Directory',
apps/web/src/data/directory-catalog.js:317:      metaDescription: 'High-signal recruiting partners and curated job boards.',
apps/web/src/lib/directory-helpers.js:354:  const explicitTitle = sanitizeText(category?.metaTitle);
apps/web/src/lib/directory-helpers.js:355:  const explicitDescription = sanitizeText(category?.metaDescription);
apps/web/src/lib/directory-helpers.js:361:    metaTitle: explicitTitle || name,
apps/web/src/lib/directory-helpers.js:362:    metaDescription: explicitDescription || fallbackDescription,
apps/web/src/layouts/BaseLayout.astro:51:    <meta charset="utf-8" />
apps/web/src/layouts/BaseLayout.astro:52:    <meta name="viewport" content="width=device-width, initial-scale=1" />
apps/web/src/layouts/BaseLayout.astro:54:    <meta name="description" content={resolvedDescription} />
apps/web/src/layouts/BaseLayout.astro:55:    {noindex && <meta name="robots" content="noindex, nofollow" />}
apps/web/src/layouts/BaseLayout.astro:66:    <meta property="og:title" content={ogTitle} />

thinking
**Checking site configuration**
exec
bash -lc 'cat apps/web/src/config/site-config.js' in /var/home/rick/Development/mega-directory succeeded in 57ms:
export const siteConfig = {
  siteName: 'Mega Directory',
  tagline: 'Curated business listings with reviewer-backed scoring and inclusive UX.',
  canonicalHost: 'megadirectory.local',
  canonicalUrl: 'https://megadirectory.local',
  defaultDescription:
    'Mega Directory delivers human-reviewed business listings with transparent scoring, accessibility-first markup, and lightning-fast Astro pages.',
  defaultOgImage: '/og-default.svg',
  twitterHandle: '@megadirectory',
  directoryRouting: {
    primary: 'subdirectory',
    subdirectoryBase: '/directories',
    subdomainRoot: 'megadirectory.local',
    protocol: 'https',
  },
};

thinking
**Inspecting directory helpers for SEO routes**
exec
bash -lc "sed -n '1,400p' apps/web/src/lib/directory-helpers.js" in /var/home/rick/Development/mega-directory succeeded in 40ms:
import { siteConfig } from '../config/site-config.js';

const FALLBACK_SCORE = -Infinity;
const DEFAULT_FEATURED_LIMIT = 3;
const FALLBACK_HERO_LABEL = 'Top pick';
const FALLBACK_TIER_TWO_LABEL = 'Tier-two highlight';
const FEATURED_TIER_ORDER = { HERO: 0, PREMIUM: 1, STANDARD: 2 };
const DEFAULT_DIRECTORY_NAME = 'Mega Directory';
const DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE =
  'Discover curated NAME listings on Mega Directory.';
const directoryRouting = siteConfig.directoryRouting ?? {};
const SUBDIRECTORY_BASE = normalizeBasePath(directoryRouting.subdirectoryBase ?? '/directories');
const SUBDOMAIN_ROOT = sanitizeHostname(directoryRouting.subdomainRoot ?? siteConfig.canonicalHost ?? '');
const ROUTING_PROTOCOL = directoryRouting.protocol ?? 'https';
const PRIMARY_ROUTING_MODE =
  directoryRouting.primary === 'subdomain' ? 'subdomain' : 'subdirectory';
export const directoryRoutingSettings = {
  primaryMode: PRIMARY_ROUTING_MODE,
  subdirectoryBase: SUBDIRECTORY_BASE,
  subdomainRoot: SUBDOMAIN_ROOT,

thinking
**Requesting more file content**
exec
bash -lc "sed -n '401,800p' apps/web/src/lib/directory-helpers.js" in /var/home/rick/Development/mega-directory succeeded in 40ms:
    }
  }

  return Array.from(map.values())
    .filter((entry) => entry.listingCount > 0)
    .sort((a, b) => {
      if (b.listingCount !== a.listingCount) {
        return b.listingCount - a.listingCount;
      }
      return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
    });
}

export function filterListingsBySubcategory(listings = [], subcategorySlug) {
  const sortedListings = sortListingsByScore(listings);
  if (!subcategorySlug) {
    return sortedListings;
  }

  const normalizedSlug = normalizeSlug(subcategorySlug, '');

thinking
**Searching for key functions in code**
exec
bash -lc 'rg -n "buildDirectoryRouteConfig" -n apps/web/src/lib/directory-helpers.js' in /var/home/rick/Development/mega-directory succeeded in 41ms:
156:export function buildDirectoryRouteConfig(directory) {
292:    const routeConfig = buildDirectoryRouteConfig(directory);

thinking
**Checking code near line 156**
exec
bash -lc "sed -n '120,220p' apps/web/src/lib/directory-helpers.js" in /var/home/rick/Development/mega-directory succeeded in 40ms:
    return 'directory';
  }

  if (directory.subdirectory) {
    return normalizeSubdirectory(directory.subdirectory);
  }

  if (directory.slug) {
    return normalizeSubdirectory(directory.slug);
  }

  const categorySlug = directory.category?.slug;
  const locationSlug = directory.location?.slug;
  if (categorySlug && locationSlug) {
    return normalizeSubdirectory(`${categorySlug}/${locationSlug}`);
  }

  const derived = [categorySlug, locationSlug].filter(Boolean).join('-');
  return normalizeSubdirectory(derived || directory.name);
}

thinking
**Checking route and directory metadata**
exec
bash -lc 'rg -n "keyword" -n' in /var/home/rick/Development/mega-directory succeeded in 48ms:
apps/crawler/post_processing.py:27:    keyword: Optional[str] = None
apps/crawler/post_processing.py:161:            "keyword": context.keyword or "",
apps/crawler/post_processing.py:174:            "keyword": context.keyword or "",
apps/crawler/dev_runner.py:88:                "keywords": ["residential", "commercial"],
apps/crawler/tests/test_crawler.py:151:                "keywords": ["licensed"],
apps/crawler/targets.example.json:28:      "keywords": ["ocean view", "downtown"],
apps/crawler/config/targets.schema.json:131:        "keywords": {
apps/crawler/config/targets.json:22:      "keywords": [
apps/crawler/crawler.py:41:    "{subdomain}/search?category={category}&location={location}&keyword={keyword}"
apps/crawler/crawler.py:161:            "keyword": batch_context.get("keyword"),
apps/crawler/crawler.py:181:            "keyword": batch_context.get("keyword") or "",
apps/crawler/crawler.py:303:                    "keyword": location_batch.get("keyword"),
apps/crawler/crawler.py:337:            keyword=location_batch.get("keyword"),
apps/crawler/crawler.py:345:        keyword: Optional[str] = None,
apps/crawler/crawler.py:378:                    "keyword": keyword,
apps/crawler/crawler.py:632:        keywords = target.get("keywords") or [None]
apps/crawler/crawler.py:634:            for keyword in keywords:
apps/crawler/crawler.py:637:                    "keyword": keyword,
apps/crawler/crawler.py:638:                    "search_url": self.build_search_url(target, location, keyword),
apps/crawler/crawler.py:645:        keyword: Optional[str],

thinking
**Investigating database schema usage**
exec
bash -lc 'rg -n "directory_pages" -n db/schema.prisma' in /var/home/rick/Development/mega-directory succeeded in 42ms:
246:  @@map("directory_pages")

thinking
**Scanning environment**
exec
bash -lc "sed -n '200,320p' db/schema.prisma" in /var/home/rick/Development/mega-directory succeeded in 41ms:
  cityId          Int?
  postalCodeId    Int?

  countryRecord    Country?       @relation("CountryLocations", fields: [countryId], references: [id])
  stateRecord      StateProvince? @relation("StateLocations", fields: [stateId], references: [id])
  cityRecord       City?          @relation("CityLocations", fields: [cityId], references: [id])
  postalCodeRecord PostalCode?    @relation("PostalCodeLocations", fields: [postalCodeId], references: [id])

  listings    Listing[]
  directories Directory[]

  @@index([countryId])
  @@index([stateId])
  @@index([cityId])
  @@index([postalCodeId])
}

model Directory {
  id              Int             @id @default(autoincrement())
  title           String

thinking
**Updating directory metadata usage**
exec
bash -lc 'rg -n "metaTitle" -n apps/web/src' in /var/home/rick/Development/mega-directory succeeded in 44ms:
apps/web/src/data/directory-catalog.js:14:      metaTitle: 'Professional Services Directory',
apps/web/src/data/directory-catalog.js:137:      metaTitle: 'Professional Services Directory',
apps/web/src/data/directory-catalog.js:224:      metaTitle: 'Jobs & Recruiters Directory',
apps/web/src/data/directory-catalog.js:316:      metaTitle: 'Jobs & Recruiters Directory',
apps/web/src/lib/directory-helpers.js:354:  const explicitTitle = sanitizeText(category?.metaTitle);
apps/web/src/lib/directory-helpers.js:361:    metaTitle: explicitTitle || name,
apps/web/src/components/DirectoryPage.astro:33:const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;

thinking
**Inspecting directory page metadata**
exec
bash -lc "sed -n '1,200p' apps/admin/views/directory-pages/index.ejs" in /var/home/rick/Development/mega-directory succeeded in 40ms:
<%
  const creationValues = creationDraft || {};
  const creationErr = creationErrors || {};
  const existingErrors = updateErrors || {};

  function fieldHasError(errors, key) {
    if (!errors) return false;
    return Boolean(errors[key]);
  }

  function fieldMessage(errors, key) {
    if (!errors) return null;
    return errors[key] || null;
  }

  function formatTimestamp(value) {
    if (!value) return 'Unknown';
    const date = new Date(value);
    if (Number.isNaN(date.getTime())) {
      return 'Unknown';

thinking
**Preparing to handle meta fields**
exec
bash -lc 'rg --no-heading -n "metaKeywords" -n apps/web/src' in /var/home/rick/Development/mega-directory exited 1 in 44ms:


thinking
**Analyzing metadata implementation**
exec
bash -lc 'rg --no-heading -n "metaKeywords" apps/web/src/data/directory-catalog.js' in /var/home/rick/Development/mega-directory exited 1 in 42ms:


thinking
**Checking test files for verification**
exec
bash -lc 'ls tests' in /var/home/rick/Development/mega-directory succeeded in 40ms:
dev_bootstrap_test.sh
directory_pages_schema.test.js
listings_table_enhancements.test.js

thinking
**Planning front-end meta tag update**
exec
bash -lc 'ls apps/web/test' in /var/home/rick/Development/mega-directory succeeded in 42ms:
directory-helpers.test.mjs

thinking
**Checking test environment**
exec
bash -lc "sed -n '1,200p' apps/web/test/directory-helpers.test.mjs" in /var/home/rick/Development/mega-directory succeeded in 40ms:
import test from 'node:test';
import assert from 'node:assert/strict';
import {
  sortListingsByScore,
  buildDirectoryGroups,
  buildDirectoryPath,
  buildDirectoryPagePath,
  buildDirectoryRouteConfig,
  buildSubcategoryPath,
  buildDirectorySubcategories,
  buildSubcategoryFilterNav,
  filterListingsBySubcategory,
  findDirectoryEntry,
  findDirectoryBySlug,
  findDirectoryBySubdirectory,
  getDirectorySubdirectorySlug,
  segmentFeaturedListings,
  resolveCategorySeoMetadata,
  buildDirectoryMapPins,
  shouldRenderDirectoryMap,

thinking
**Planning SEO metadata tests and helpers**

I'm considering adding tests to verify route config metadata and canonical meta resolution logic to ensure everything works correctly. I want to update or create helper functions to handle metadata better, possibly introducing a new one like `buildDirectorySeoMetadata` that uses directory config and falls back to site config. To nail the details, I'll inspect the `docs/development_phase_1b.md` file, focusing on sections mentioning "meta" to align with any provided specs or instructions.
exec
bash -lc "sed -n '1,200p' docs/development_phase_1b.md" in /var/home/rick/Development/mega-directory succeeded in 41ms:
# Development Phase 1 part B

The initial 20 codex tasks have been completed, and this has provided a solid base for the project. However, the project still falls short of a fully functioning application with all of the necessary moving parts. I'm sure this is because I failed to flesh out all of the details regarding the various workflows as I was particulary focused on the architecture. No problem, because this architecture is exactly what will make all of the remaining added functionality possible. 

We need to plan out some further development additions and refinements. It appears the api is missing a number of operations, but it seems the important base functionality is there so it shouldn't be a huge problem. I wanted to rethink some of the ways things work. Let's first of all think about the structure of the data. 

## Directory Pages

Rather than automatically generating directories from categories and locations, which could get messy if we try to have the system create all the permutations, furthermore, there will be significant SEO infomation that must be provided when creating a single directory page. So, we'll need a table to represent the individual directory pages. This way we can create directories that perhaps present more than one category or more than one postal code or city when these groupings represent very small amounts of listings or for whatever reason it makes sense to group or not group these together. The directory page can have its own title to concatenate with the site name to generate the content for the <title> tag and meta title, it can have an editable field for meta keywords, a field where the admin can specify the specific subdomain and the subdirectory used to represent the directory (based on the site configuration either the subdomain will 301 redirect to the subdirectory or the subdirectory to the subdomain, either way it should be possible for the admin to supply independent values for each of these), further meta tag values should include the description, og:image, etc. While the main site configuration should provide default values for these, it is important that it be possible to override them on individual directories.

It should also be a configuration option of the directory page whether the directory page should be location agnostic or not. If the directory page is NOT location agnostic, it should be relatively easy to provide a map widget displaying pins for each of the listings on the page. The user interface for this type of page could also include a pin icon at the end of the listing title that when clicked will cause the map widget to center on that listing. 

## Listing Locations and other Geographic Data

### Listing and physical_address tables

While we will be collecting a bunch of listings which are associated with various categories and locations. For some listings it may actually make sense to associate them with more than one category. It may even make sense to associate some listings with multiple addresses, but addresses should be associated only with a single listing (1234 some st. suite 1 and 1234 some st. suite 2 are separate addresses) So the *physical_address* table should have a foreign key on the *listing* table while listings and categories should be related via a join table.


### Country -> State/Province -> City -> Postal Data Structure

thinking
**Planning DirectoryPage metadata update**
exec
bash -lc 'ls apps/api/src' in /var/home/rick/Development/mega-directory succeeded in 42ms:
geocoding.ts
logger.ts
server.ts

thinking
**Checking server.ts file**
exec
bash -lc "sed -n '1,200p' apps/api/src/server.ts" in /var/home/rick/Development/mega-directory succeeded in 41ms:
import express, { type Express, type Request, type RequestHandler, type Response } from 'express';
import jwt, { type JwtPayload } from 'jsonwebtoken';
import { DEFAULT_PORTS, PROJECT_NAME } from '@mega-directory/config';
import { geocodeListingLocation, type GeocodingAddress } from './geocoding';
import { createLogger, createRequestLogger, type Logger } from './logger';

const DEFAULT_PORT = DEFAULT_PORTS.api;
const DEFAULT_LISTING_STATUS: ListingStatus = 'INACTIVE';
const MAX_SLUG_LENGTH = 80;
const DEFAULT_ADMIN_TOKEN_TTL_SECONDS = 60 * 15;

type ExpressApp = ReturnType<typeof express>;

type ListingStatus = 'INACTIVE' | 'ACTIVE' | 'PENDING' | 'APPROVED' | 'REJECTED';

type DirectoryStatus = 'DRAFT' | 'ACTIVE' | 'ARCHIVED';

type NullableString = string | null;

type ListingLocation =

thinking
**Examining directory metadata usage**
exec
bash -lc 'rg --no-heading -n "metaKeywords" -n' in /var/home/rick/Development/mega-directory succeeded in 47ms:
apps/admin/test/directoryPageService.test.js:73:    metaKeywords: '  support, remote, it  ',
apps/admin/test/directoryPageService.test.js:89:  assert.strictEqual(result.record.metaKeywords, 'support, remote, it');
apps/admin/test/directoryPageService.test.js:109:      metaKeywords: 'alpha, beta, gamma',
apps/admin/services/directoryPageService.js:117:        metaKeywords: '',
apps/admin/services/directoryPageService.js:134:  assignString(next, payload, 'metaKeywords', { collapseWhitespace: true });
apps/admin/data/directoryPages.js:16:    metaKeywords: 'electricians,nyc,licensed,emergency',
apps/admin/data/directoryPages.js:37:    metaKeywords: 'plumbers,atlanta,water heater,drain cleaning',
apps/admin/views/directory-pages/index.ejs:150:          <input class="field-control" type="text" name="newPage[metaKeywords]" value="<%= creationValues.metaKeywords || '' %>" />
apps/admin/views/directory-pages/index.ejs:294:                  <input class="field-control" type="text" name="pages[<%= index %>][metaKeywords]" value="<%= page.metaKeywords %>" />
apps/admin/routes/directoryPages.js:97:      metaKeywords: entry.metaKeywords,
apps/admin/routes/directoryPages.js:141:    metaKeywords: payload.metaKeywords || '',
codex/LOGS/tasklog_39_render_canonical_meta_tags_from_directory_configuration_1762959900.log:518:bash -lc 'rg --no-heading -n "metaKeywords" -n apps/web/src' in /var/home/rick/Development/mega-directory exited 1 in 44ms:
codex/LOGS/tasklog_39_render_canonical_meta_tags_from_directory_configuration_1762959900.log:524:bash -lc 'rg --no-heading -n "metaKeywords" apps/web/src/data/directory-catalog.js' in /var/home/rick/Development/mega-directory exited 1 in 42ms:
codex/LOGS/tasklog_39_render_canonical_meta_tags_from_directory_configuration_1762959900.log:629:bash -lc 'rg --no-heading -n "metaKeywords" -n' in /var/home/rick/Development/mega-directory
apps/api/src/server.ts:112:  metaKeywords: NullableString;
apps/api/src/server.ts:639:      metaKeywords: 'electricians,nyc,licensed,emergency',
apps/api/src/server.ts:1145:      metaKeywords: validation.value.metaKeywords ?? null,
apps/api/src/server.ts:1218:    if (validation.value.metaKeywords !== undefined) {
apps/api/src/server.ts:1219:      record.metaKeywords = validation.value.metaKeywords;
apps/api/src/server.ts:1434:    metaKeywords?: NullableString;

thinking
**Inspecting db/seed.ts for meta fields**
exec
bash -lc "sed -n '360,520p' db/seed.ts" in /var/home/rick/Development/mega-directory succeeded in 40ms:
    update: {
      state: 'CA',
      country: 'US',
      timezone: 'America/Los_Angeles',
      latitude: 37.7749,
      longitude: -122.4194,
      countryId: geography.country.id,
      stateId: geography.states.ca.id,
      cityId: geography.cities.sf.id,
      postalCodeId: geography.postalCodes.sf.id
    },
    create: {
      name: 'San Francisco',
      slug: 'san-francisco',
      state: 'CA',
      country: 'US',
      timezone: 'America/Los_Angeles',
      latitude: 37.7749,
      longitude: -122.4194,
      countryId: geography.country.id,

thinking
**Planning metadata integration and TDD**

I’m trying to figure out how to update the front-end to use directory meta fields rather than static data, aiming to render canonical meta tags properly. Since the user likely expects tests, I'll follow TDD by writing failing tests first, focusing on helpers like `buildDirectorySeoMetadata` and extending `BaseLayout` to render keywords. I’m also considering how to resolve page titles from `metaTitle`, `title`, and site defaults, and will check related admin services to clarify expected behavior.
exec
bash -lc "sed -n '1,220p' apps/admin/services/directoryPageService.js" in /var/home/rick/Development/mega-directory succeeded in 40ms:
const directoryPages = require('../data/directoryPages');
const directoryOptions = require('../data/directoryPageOptions');

const STATUSES = {
  DRAFT: 'DRAFT',
  ACTIVE: 'ACTIVE',
  ARCHIVED: 'ARCHIVED'
};

function getDirectoryPages() {
  return directoryPages.map((page) => ({
    ...page,
    categoryLabel: resolveCategory(page.categoryId)?.label ?? 'Unknown category',
    locationLabel: page.locationAgnostic
      ? 'Location agnostic'
      : resolveLocation(page.locationId)?.label ?? 'Unknown location'
  }));
}

function getDirectoryOptions() {

thinking
**Inspecting admin data structure**
exec
bash -lc "sed -n '1,160p' apps/admin/data/directoryPages.js" in /var/home/rick/Development/mega-directory succeeded in 40ms:
module.exports = [
  {
    id: 'dir_electricians_nyc',
    title: 'Top Electricians in New York City',
    slug: 'nyc-electricians',
    categoryId: 'cat_electricians',
    locationId: 'loc_new_york_ny',
    locationAgnostic: false,
    subdomain: 'nyc-electricians',
    subdirectory: 'nyc/electricians',
    heroTitle: 'Trusted NYC Electricians',
    heroSubtitle: 'Hire vetted pros across all five boroughs',
    introMarkdown: 'Compare **licensed electricians** ready for panel upgrades, EV chargers, and emergency calls.',
    metaTitle: 'Best Electricians in NYC | Mega Directory',
    metaDescription: 'Browse vetted electricians for Manhattan, Brooklyn, Queens, the Bronx, and Staten Island.',
    metaKeywords: 'electricians,nyc,licensed,emergency',
    ogImageUrl: 'https://cdn.example.com/og/nyc-electricians.png',
    status: 'ACTIVE',
    isActive: true,
    createdAt: '2024-05-10T14:20:00-04:00',

thinking
**Searching repository for metaTitle usage**
exec
bash -lc 'rg --no-heading -n "metaTitle"' in /var/home/rick/Development/mega-directory succeeded in 48ms:
apps/admin/test/directoryPageService.test.js:28:    metaTitle: '',
apps/admin/test/directoryPageService.test.js:35:    ['categoryId', 'locationId', 'metaDescription', 'metaTitle', 'subdirectory', 'subdomain', 'title']
apps/admin/test/directoryPageService.test.js:49:    metaTitle: 'Example',
apps/admin/test/directoryPageService.test.js:71:    metaTitle: '  Remote Support Pros  ',
apps/admin/test/directoryPageService.test.js:87:  assert.strictEqual(result.record.metaTitle, 'Remote Support Pros');
apps/admin/test/directoryPageService.test.js:107:      metaTitle: 'Updated Meta Title',
apps/admin/test/seoService.test.js:17:  const originalTitle = target.metaTitle;
apps/admin/test/seoService.test.js:24:      metaTitle: originalTitle,
apps/admin/test/seoService.test.js:30:  assert.strictEqual(target.metaTitle, originalTitle);
apps/admin/test/seoService.test.js:38:      metaTitle: nextTitle,
apps/admin/test/seoService.test.js:43:  assert.strictEqual(target.metaTitle, nextTitle);
apps/admin/test/seoService.test.js:62:  assert.strictEqual(target.metaTitle, originalStore[1].metaTitle);
apps/admin/test/seoService.test.js:71:    { id: 'missing_entry', metaTitle: 'No-op' },
apps/admin/services/directoryPageService.js:115:        metaTitle: '',
apps/admin/services/directoryPageService.js:132:  assignString(next, payload, 'metaTitle');
apps/admin/services/directoryPageService.js:182:  if (!record.metaTitle) {
apps/admin/services/directoryPageService.js:183:    errors.metaTitle = 'Meta title is required';
apps/admin/services/seoService.js:20:    const nextTitle = normalizeString(update.metaTitle);
apps/admin/services/seoService.js:22:    const hasTitleChange = typeof nextTitle === 'string' && nextTitle !== entry.metaTitle;
apps/admin/services/seoService.js:31:      entry.metaTitle = nextTitle;

thinking
**Outlining meta tags implementation plan**

I’m gathering info on existing SEO-related code and planning to add meta tags with data from the API. I’ll update components like DirectoryPage and sample data with meta fields, write tests for the new helper, and figure out how to run those tests smoothly. Let’s explore the current setup and map out clear steps to improve SEO metadata handling.
exec
bash -lc 'cat package.json' in /var/home/rick/Development/mega-directory succeeded in 39ms:
{
  "name": "mega-directory",
  "private": true,
  "version": "0.1.0",
  "workspaces": [
    "apps/*",
    "packages/*"
  ],
  "scripts": {
    "test": "npm run test:root && npm run test:workspaces",
    "test:root": "node --test tests/**/*.test.js",
    "test:workspaces": "npm run test --workspaces --if-present"
  }
}

thinking
**Preparing to run tests**
exec
bash -lc 'cat apps/web/package.json' in /var/home/rick/Development/mega-directory succeeded in 40ms:
{
  "name": "mega-directory-astro",
  "private": true,
  "type": "module",
  "version": "0.0.1",
  "scripts": {
    "dev": "astro dev",
    "start": "astro dev",
    "build": "astro build",
    "preview": "astro preview",
    "test": "node --test ./test/**/*.test.mjs",
    "astro": "astro"
  },
  "dependencies": {
    "astro": "^5.15.5"
  },
  "devDependencies": {
    "@astrojs/tailwind": "^5.1.1",
    "autoprefixer": "^10.4.20",
    "postcss": "^8.4.49",

thinking
**Drafting detailed update plan**
Plan update
  → Review existing directory SEO metadata handling and identify required enhancements for canonical tags.
  • Implement metadata sourcing from directory configuration (helpers, components, layout) and cover with tests.
  • Update sample data if needed and run full test suite.

thinking
**Planning SEO metadata restructuring**

I'm mapping out how to restructure SEO metadata handling by adding a resolver function for directory SEO fields, ensuring proper fallbacks for titles, descriptions, keywords, and Open Graph data, plus verifying that canonical URLs are fully resolved using existing directory routing helpers.
exec
bash -lc "sed -n '1,240p' apps/web/src/lib/directory-routing.js" in /var/home/rick/Development/mega-directory succeeded in 41ms:
import {
  buildDirectoryPagePath,
  buildDirectoryRouteConfig,
  directoryRoutingSettings,
  getDirectorySubdirectorySlug,
  normalizeSubdirectory,
  sanitizeHostname,
} from './directory-helpers.js';

const SUBDIRECTORY_BASE = directoryRoutingSettings.subdirectoryBase || '/directories';
const SUBDOMAIN_ROOT = directoryRoutingSettings.subdomainRoot || '';
const NORMALIZED_BASE =
  !SUBDIRECTORY_BASE || SUBDIRECTORY_BASE === '/' ? '/' : SUBDIRECTORY_BASE.replace(/\/+$/, '');
const BASE_WITH_LEADING = NORMALIZED_BASE.startsWith('/') ? NORMALIZED_BASE : `/${NORMALIZED_BASE}`;
const BASE_STRIPPED = BASE_WITH_LEADING === '/' ? '' : BASE_WITH_LEADING.replace(/^\//, '');

const SUBDOMAIN_SUFFIX = SUBDOMAIN_ROOT ? `.${SUBDOMAIN_ROOT}` : '';

const normalizePathname = (pathname = '/') => {
  if (!pathname) {

thinking
**Designing SEO metadata helper functions**
exec
bash -lc "sed -n '150,220p' db/schema.prisma'" in /var/home/rick/Development/mega-directory exited 2 in 39ms:
bash: -c: line 1: unexpected EOF while looking for matching `''

thinking
**Identifying syntax error**
exec
bash -lc "sed -n '150,220p' db/schema.prisma" in /var/home/rick/Development/mega-directory succeeded in 40ms:
  longitude   Float?
  accuracy    Int?
  createdAt   DateTime        @default(now())
  updatedAt   DateTime        @updatedAt

  country    Country          @relation(fields: [countryId], references: [id])
  state      StateProvince?   @relation(fields: [stateId], references: [id])
  city       City?            @relation(fields: [cityId], references: [id])
  listings   Listing[]        @relation("ListingPostalCode")
  listingAddresses ListingAddress[] @relation("AddressPostalCode")
  locations  Location[]       @relation("PostalCodeLocations")

  @@index([countryId, code])
  @@index([cityId])
  @@unique([countryId, code, placeName])
}

model Category {
  id              Int            @id @default(autoincrement())
  name            String

thinking
**Designing comprehensive SEO metadata helper**

I'm planning to create a new exported function in `directory-helpers.js` that compiles SEO metadata for directories by combining explicit meta fields, category SEO data, and sensible fallbacks like hero subtitles and site defaults; I’ll also update `DirectoryPage` to use this helper for cleaner, more consistent metadata handling and add thorough tests to cover various fallback scenarios.
exec
bash -lc 'rg -n "categorySeo" apps/web/src/components/DirectoryPage.astro' in /var/home/rick/Development/mega-directory succeeded in 45ms:
25:const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
31:const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
32:const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
33:const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;

thinking
**Restructuring SEO metadata helper**
exec
bash -lc 'rg --no-heading -n "ogImage" apps/web/src/data/directory-catalog.js' in /var/home/rick/Development/mega-directory exited 1 in 40ms:


thinking
**Planning SEO metadata enhancements**

I'm sorting out how to properly fetch and fallback SEO metadata fields like `ogImageUrl`, keywords, title, and description from directories and site config, ensuring backward compatibility and proper exports. Next, I'll update DirectoryPage and BaseLayout to use this metadata, and add corresponding fields to sample directory data for demonstration.
exec
bash -lc "sed -n '200,520p' apps/web/src/data/directory-catalog.js" in /var/home/rick/Development/mega-directory succeeded in 40ms:
        description:
          'Commercial grease traps, boiler rebuilds, and campus-wide leak detection with SONAR mapping.',
        badges: ['Hydronics', 'Campus scale'],
        subcategories: ['plumbing'],
        score: 84.9,
        scoreTooltip: 'Score weights P1 response time more heavily for mountain clients.',
        highlights: ['SCADA integrations for FM dashboards.', 'Technicians cross-trained in controls.'],
        locationLabel: 'Golden, CO',
        coordinates: { latitude: 39.7392, longitude: -104.9903 },
      },
    ],
  },
  {
    slug: 'jobs-new-york-city',
    subdomain: 'jobs-nyc',
    subdirectory: 'jobs/new-york-city',
    locationAgnostic: true,
    name: 'NYC Hiring Partners',
    heroTitle: 'Recruiters for media, finance, and tech',
    heroSubtitle: 'Boutique teams with candidate briefing portals and pay transparency baked in.',

thinking
**Planning SEO metadata additions**
exec
bash -lc 'git status -sb' in /var/home/rick/Development/mega-directory succeeded in 43ms:
## main...origin/main [ahead 1]
 M .env.example
 M codex/LOGS/codex_run_2025-11-12_06-13-21.log
 M codex/LOGS/tasklog_36_create_text-based_data_import_script_with_llm_and_html_parsing_modes_1762958558.log
?? .editorconfig
?? .vscode/
?? apps/admin/data/imported-listings.json
?? codex/LOGS/tasklog_36_create_text-based_data_import_script_with_llm_and_html_parsing_modes_1762958558.log.done
?? codex/LOGS/tasklog_37_generate_admin_interface_for_reviewing_imported_json_listing_data_1762959134.log
?? codex/LOGS/tasklog_37_generate_admin_interface_for_reviewing_imported_json_listing_data_1762959134.log.done
?? codex/LOGS/tasklog_39_render_canonical_meta_tags_from_directory_configuration_1762959900.log
?? codex/TASKS/work_list
?? docs/codex_tasks_bundle.zip
?? docs/codex_tasks_detailed_final.zip

thinking
**Adding SEO metadata helpers**
exec
bash -lc /bin/ls in /var/home/rick/Development/mega-directory succeeded in 41ms:
AGENTS.md
apps
codex
codex.toml
codex.yaml
db
docker-compose.yml
docs
env.json
Makefile
package.json
packages
README.md
scripts
tests
tsconfig.json

thinking
**Applying patch to directory-helpers.js**
file update
M /var/home/rick/Development/mega-directory/apps/web/src/lib/directory-helpers.js
@@ -80,2 +80,20 @@
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
apply_patch(auto_approved=true) exited 0 in 6ms:
Success. Updated the following files:
M apps/web/src/lib/directory-helpers.js
file update:
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..7e214602a7a8626f114a3a46fa3339d73e4fffbb
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {

file update:
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..7e214602a7a8626f114a3a46fa3339d73e4fffbb
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {


thinking
**Planning new SEO metadata function**
file update
M /var/home/rick/Development/mega-directory/apps/web/src/lib/directory-helpers.js
@@ -383,2 +383,41 @@
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
apply_patch(auto_approved=true) exited 0 in 5ms:
Success. Updated the following files:
M apps/web/src/lib/directory-helpers.js
file update:
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];

file update:
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];


thinking
**Updating DirectoryPage imports and SEO logic**
exec
bash -lc 'rg -n "heroSubtitle" apps/web/src/components/DirectoryPage.astro' in /var/home/rick/Development/mega-directory succeeded in 41ms:
30:const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
31:const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
134:      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
file update:
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];


thinking
**Reworking SEO metadata constants**

I'm sorting out the SEO-related constants by replacing scattered logic with a cleaner approach using `buildDirectorySeoMetadata`. I’ll keep the trimmed `heroSubtitle` constant for display and fallback scenarios while updating imports and refactoring the SEO payload to include updated keys like `keywords` and a more consistent `ogImage`. This should streamline how page titles, descriptions, and images are handled.
file update
M /var/home/rick/Development/mega-directory/apps/web/src/components/DirectoryPage.astro
@@ -3,3 +3,3 @@
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
@@ -24,11 +24,7 @@
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
@@ -37,8 +33,3 @@
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
@@ -48,2 +39,3 @@
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
apply_patch(auto_approved=true) exited 0 in 51ms:
Success. Updated the following files:
M apps/web/src/components/DirectoryPage.astro
file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..faf31b85fb06fbc6e718d6495cd1924003295edb
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];

file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..faf31b85fb06fbc6e718d6495cd1924003295edb
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];


thinking
**Reviewing SEO metadata handling and keywords integration**

I’m untangling how `heroSubtitle` is used and trimmed differently in local constants versus helpers, confirming it stays relevant for display and SEO metadata. I also want to handle `metaKeywords` carefully, ensuring it's a trimmed string or omitted if null, then update `BaseLayout` to insert a meta keywords tag only when appropriate, right after the description meta tag.
file update
M /var/home/rick/Development/mega-directory/apps/web/src/layouts/BaseLayout.astro
@@ -38,2 +38,3 @@
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
@@ -54,2 +55,3 @@
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
apply_patch(auto_approved=true) exited 0 in 8ms:
Success. Updated the following files:
M apps/web/src/layouts/BaseLayout.astro
file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..faf31b85fb06fbc6e718d6495cd1924003295edb
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];

file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..faf31b85fb06fbc6e718d6495cd1924003295edb
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];


thinking
**Preparing to update directory metadata**
exec
bash -lc "rg -n \"slug: 'professional-services-new-york-city'\" -n apps/web/src/data/directory-catalog.js" in /var/home/rick/Development/mega-directory succeeded in 43ms:
3:    slug: 'professional-services-new-york-city',
file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..faf31b85fb06fbc6e718d6495cd1924003295edb
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];


thinking
**Preparing to edit top lines**
exec
bash -lc "sed -n '1,120p' apps/web/src/data/directory-catalog.js" in /var/home/rick/Development/mega-directory succeeded in 40ms:
export const directoryCatalog = [
  {
    slug: 'professional-services-new-york-city',
    subdomain: 'pros-nyc',
    subdirectory: 'professional-services/new-york-city',
    locationAgnostic: false,
    name: 'NYC Professional Services',
    heroTitle: 'Trusted Pros in New York City',
    heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
    category: {
      slug: 'professional-services',
      name: 'Professional Services',
      description: 'Verified operators for commercial and residential work orders.',
      metaTitle: 'Professional Services Directory',
      metaDescription: 'Curated electricians, HVAC crews, and facilities partners.',
    },
    location: {
      slug: 'new-york-city',
      name: 'New York City',
      state: 'NY',
file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..faf31b85fb06fbc6e718d6495cd1924003295edb
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];


thinking
**Adding metadata fields near hero subtitle**
file update
M /var/home/rick/Development/mega-directory/apps/web/src/data/directory-catalog.js
@@ -9,2 +9,6 @@
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
apply_patch(auto_approved=true) exited 0 in 11ms:
Success. Updated the following files:
M apps/web/src/data/directory-catalog.js
file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..faf31b85fb06fbc6e718d6495cd1924003295edb
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..3aeabcbbd165f36dfd22b5d62c244056a0a69e76
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];

file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..faf31b85fb06fbc6e718d6495cd1924003295edb
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..3aeabcbbd165f36dfd22b5d62c244056a0a69e76
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];


thinking
**Locating specific directory by slug**
exec
bash -lc "rg -n \"slug: 'professional-services-denver'\" apps/web/src/data/directory-catalog.js" in /var/home/rick/Development/mega-directory succeeded in 41ms:
130:    slug: 'professional-services-denver',
file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..faf31b85fb06fbc6e718d6495cd1924003295edb
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..3aeabcbbd165f36dfd22b5d62c244056a0a69e76
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];


thinking
**Reviewing file section for metadata insertion**
exec
bash -lc "sed -n '130,220p' apps/web/src/data/directory-catalog.js" in /var/home/rick/Development/mega-directory succeeded in 41ms:
    slug: 'professional-services-denver',
    subdomain: 'pros-denver',
    subdirectory: 'professional-services/denver',
    locationAgnostic: false,
    name: 'Denver Professional Services',
    heroTitle: 'Rocky Mountain Response Teams',
    heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
    category: {
      slug: 'professional-services',
      name: 'Professional Services',
      description: 'Verified operators for commercial and residential work orders.',
      metaTitle: 'Professional Services Directory',
      metaDescription: 'Curated electricians, HVAC crews, and facilities partners.',
    },
    location: {
      slug: 'denver-co',
      name: 'Denver',
      state: 'CO',
      country: 'US',
      timezone: 'America/Denver',
file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..faf31b85fb06fbc6e718d6495cd1924003295edb
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..3aeabcbbd165f36dfd22b5d62c244056a0a69e76
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];


thinking
**Inserting meta fields after heroSubtitle**
file update
M /var/home/rick/Development/mega-directory/apps/web/src/data/directory-catalog.js
@@ -136,2 +136,6 @@
     heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
+    metaTitle: 'Professional Services in Denver',
+    metaDescription: 'High-altitude contractors for roofing, HVAC, and facilities teams across the Front Range.',
+    metaKeywords: 'contractors, roofing, hvac, denver',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-denver.png',
     category: {
apply_patch(auto_approved=true) exited 0 in 9ms:
Success. Updated the following files:
M apps/web/src/data/directory-catalog.js
file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..faf31b85fb06fbc6e718d6495cd1924003295edb
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..1acedf4d6fbbdfb9aa3cc7595f06af8245101ed6
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -130,6 +134,10 @@
     name: 'Denver Professional Services',
     heroTitle: 'Rocky Mountain Response Teams',
     heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
+    metaTitle: 'Professional Services in Denver',
+    metaDescription: 'High-altitude contractors for roofing, HVAC, and facilities teams across the Front Range.',
+    metaKeywords: 'contractors, roofing, hvac, denver',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-denver.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];

file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..faf31b85fb06fbc6e718d6495cd1924003295edb
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..1acedf4d6fbbdfb9aa3cc7595f06af8245101ed6
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -130,6 +134,10 @@
     name: 'Denver Professional Services',
     heroTitle: 'Rocky Mountain Response Teams',
     heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
+    metaTitle: 'Professional Services in Denver',
+    metaDescription: 'High-altitude contractors for roofing, HVAC, and facilities teams across the Front Range.',
+    metaKeywords: 'contractors, roofing, hvac, denver',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-denver.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];


thinking
**Searching for job entries in NYC and SF**
exec
bash -lc "rg -n \"slug: 'jobs-new-york-city'\" apps/web/src/data/directory-catalog.js" in /var/home/rick/Development/mega-directory succeeded in 41ms:
221:    slug: 'jobs-new-york-city',
file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..faf31b85fb06fbc6e718d6495cd1924003295edb
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..1acedf4d6fbbdfb9aa3cc7595f06af8245101ed6
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -130,6 +134,10 @@
     name: 'Denver Professional Services',
     heroTitle: 'Rocky Mountain Response Teams',
     heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
+    metaTitle: 'Professional Services in Denver',
+    metaDescription: 'High-altitude contractors for roofing, HVAC, and facilities teams across the Front Range.',
+    metaKeywords: 'contractors, roofing, hvac, denver',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-denver.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];


thinking
**Inserting metadata below heroSubtitle**
file update
M /var/home/rick/Development/mega-directory/apps/web/src/data/directory-catalog.js
@@ -227,2 +227,6 @@
     heroSubtitle: 'Boutique teams with candidate briefing portals and pay transparency baked in.',
+    metaTitle: 'NYC Jobs & Recruiters',
+    metaDescription: 'Recruiting partners and job boards covering finance, media, and tech roles in New York City.',
+    metaKeywords: 'jobs, recruiters, nyc, talent partners',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-nyc.png',
     category: {
apply_patch(auto_approved=true) exited 0 in 11ms:
Success. Updated the following files:
M apps/web/src/data/directory-catalog.js
file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..faf31b85fb06fbc6e718d6495cd1924003295edb
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..42f896bcc3c4fa74deed07c75218ebea9a8bf1a5
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -130,6 +134,10 @@
     name: 'Denver Professional Services',
     heroTitle: 'Rocky Mountain Response Teams',
     heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
+    metaTitle: 'Professional Services in Denver',
+    metaDescription: 'High-altitude contractors for roofing, HVAC, and facilities teams across the Front Range.',
+    metaKeywords: 'contractors, roofing, hvac, denver',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-denver.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -217,6 +225,10 @@
     name: 'NYC Hiring Partners',
     heroTitle: 'Recruiters for media, finance, and tech',
     heroSubtitle: 'Boutique teams with candidate briefing portals and pay transparency baked in.',
+    metaTitle: 'NYC Jobs & Recruiters',
+    metaDescription: 'Recruiting partners and job boards covering finance, media, and tech roles in New York City.',
+    metaKeywords: 'jobs, recruiters, nyc, talent partners',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-nyc.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];

file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..faf31b85fb06fbc6e718d6495cd1924003295edb
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..42f896bcc3c4fa74deed07c75218ebea9a8bf1a5
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -130,6 +134,10 @@
     name: 'Denver Professional Services',
     heroTitle: 'Rocky Mountain Response Teams',
     heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
+    metaTitle: 'Professional Services in Denver',
+    metaDescription: 'High-altitude contractors for roofing, HVAC, and facilities teams across the Front Range.',
+    metaKeywords: 'contractors, roofing, hvac, denver',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-denver.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -217,6 +225,10 @@
     name: 'NYC Hiring Partners',
     heroTitle: 'Recruiters for media, finance, and tech',
     heroSubtitle: 'Boutique teams with candidate briefing portals and pay transparency baked in.',
+    metaTitle: 'NYC Jobs & Recruiters',
+    metaDescription: 'Recruiting partners and job boards covering finance, media, and tech roles in New York City.',
+    metaKeywords: 'jobs, recruiters, nyc, talent partners',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-nyc.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];


thinking
**Searching for SF jobs slug**
exec
bash -lc "rg -n \"slug: 'jobs-san-francisco'\" apps/web/src/data/directory-catalog.js" in /var/home/rick/Development/mega-directory succeeded in 43ms:
317:    slug: 'jobs-san-francisco',
file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..faf31b85fb06fbc6e718d6495cd1924003295edb
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..42f896bcc3c4fa74deed07c75218ebea9a8bf1a5
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -130,6 +134,10 @@
     name: 'Denver Professional Services',
     heroTitle: 'Rocky Mountain Response Teams',
     heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
+    metaTitle: 'Professional Services in Denver',
+    metaDescription: 'High-altitude contractors for roofing, HVAC, and facilities teams across the Front Range.',
+    metaKeywords: 'contractors, roofing, hvac, denver',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-denver.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -217,6 +225,10 @@
     name: 'NYC Hiring Partners',
     heroTitle: 'Recruiters for media, finance, and tech',
     heroSubtitle: 'Boutique teams with candidate briefing portals and pay transparency baked in.',
+    metaTitle: 'NYC Jobs & Recruiters',
+    metaDescription: 'Recruiting partners and job boards covering finance, media, and tech roles in New York City.',
+    metaKeywords: 'jobs, recruiters, nyc, talent partners',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-nyc.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];


thinking
**Inserting metadata after subtitle**
file update
M /var/home/rick/Development/mega-directory/apps/web/src/data/directory-catalog.js
@@ -323,2 +323,6 @@
     heroSubtitle: 'Embedded sourcers plus candidate concierge support for relocation.',
+    metaTitle: 'Bay Area Jobs & Recruiters',
+    metaDescription: 'Fractional and embedded recruiting teams covering product, design, and GTM roles in the Bay Area.',
+    metaKeywords: 'jobs, recruiters, bay area, san francisco',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-sf.png',
     category: {
apply_patch(auto_approved=true) exited 0 in 10ms:
Success. Updated the following files:
M apps/web/src/data/directory-catalog.js
file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..faf31b85fb06fbc6e718d6495cd1924003295edb
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..e7ba66f77954f7c7f4961786f815d4d12b188946
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -130,6 +134,10 @@
     name: 'Denver Professional Services',
     heroTitle: 'Rocky Mountain Response Teams',
     heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
+    metaTitle: 'Professional Services in Denver',
+    metaDescription: 'High-altitude contractors for roofing, HVAC, and facilities teams across the Front Range.',
+    metaKeywords: 'contractors, roofing, hvac, denver',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-denver.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -217,6 +225,10 @@
     name: 'NYC Hiring Partners',
     heroTitle: 'Recruiters for media, finance, and tech',
     heroSubtitle: 'Boutique teams with candidate briefing portals and pay transparency baked in.',
+    metaTitle: 'NYC Jobs & Recruiters',
+    metaDescription: 'Recruiting partners and job boards covering finance, media, and tech roles in New York City.',
+    metaKeywords: 'jobs, recruiters, nyc, talent partners',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-nyc.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
@@ -309,6 +321,10 @@
     name: 'Bay Area Hiring Partners',
     heroTitle: 'Operator-friendly recruiters on the West Coast',
     heroSubtitle: 'Embedded sourcers plus candidate concierge support for relocation.',
+    metaTitle: 'Bay Area Jobs & Recruiters',
+    metaDescription: 'Fractional and embedded recruiting teams covering product, design, and GTM roles in the Bay Area.',
+    metaKeywords: 'jobs, recruiters, bay area, san francisco',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-sf.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];

file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..faf31b85fb06fbc6e718d6495cd1924003295edb
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..e7ba66f77954f7c7f4961786f815d4d12b188946
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -130,6 +134,10 @@
     name: 'Denver Professional Services',
     heroTitle: 'Rocky Mountain Response Teams',
     heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
+    metaTitle: 'Professional Services in Denver',
+    metaDescription: 'High-altitude contractors for roofing, HVAC, and facilities teams across the Front Range.',
+    metaKeywords: 'contractors, roofing, hvac, denver',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-denver.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -217,6 +225,10 @@
     name: 'NYC Hiring Partners',
     heroTitle: 'Recruiters for media, finance, and tech',
     heroSubtitle: 'Boutique teams with candidate briefing portals and pay transparency baked in.',
+    metaTitle: 'NYC Jobs & Recruiters',
+    metaDescription: 'Recruiting partners and job boards covering finance, media, and tech roles in New York City.',
+    metaKeywords: 'jobs, recruiters, nyc, talent partners',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-nyc.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
@@ -309,6 +321,10 @@
     name: 'Bay Area Hiring Partners',
     heroTitle: 'Operator-friendly recruiters on the West Coast',
     heroSubtitle: 'Embedded sourcers plus candidate concierge support for relocation.',
+    metaTitle: 'Bay Area Jobs & Recruiters',
+    metaDescription: 'Fractional and embedded recruiting teams covering product, design, and GTM roles in the Bay Area.',
+    metaKeywords: 'jobs, recruiters, bay area, san francisco',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-sf.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];


thinking
**Preparing to update directory helpers tests**
exec
bash -lc 'rg -n "resolveCategorySeoMetadata" apps/web/test/directory-helpers.test.mjs' in /var/home/rick/Development/mega-directory succeeded in 41ms:
18:  resolveCategorySeoMetadata,
447:test('resolveCategorySeoMetadata trims values and applies layered fallbacks', () => {
448:  const explicit = resolveCategorySeoMetadata({
459:  const fallbackFromDescription = resolveCategorySeoMetadata({
469:  const defaultFallback = resolveCategorySeoMetadata({});
file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..faf31b85fb06fbc6e718d6495cd1924003295edb
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..e7ba66f77954f7c7f4961786f815d4d12b188946
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -130,6 +134,10 @@
     name: 'Denver Professional Services',
     heroTitle: 'Rocky Mountain Response Teams',
     heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
+    metaTitle: 'Professional Services in Denver',
+    metaDescription: 'High-altitude contractors for roofing, HVAC, and facilities teams across the Front Range.',
+    metaKeywords: 'contractors, roofing, hvac, denver',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-denver.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -217,6 +225,10 @@
     name: 'NYC Hiring Partners',
     heroTitle: 'Recruiters for media, finance, and tech',
     heroSubtitle: 'Boutique teams with candidate briefing portals and pay transparency baked in.',
+    metaTitle: 'NYC Jobs & Recruiters',
+    metaDescription: 'Recruiting partners and job boards covering finance, media, and tech roles in New York City.',
+    metaKeywords: 'jobs, recruiters, nyc, talent partners',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-nyc.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
@@ -309,6 +321,10 @@
     name: 'Bay Area Hiring Partners',
     heroTitle: 'Operator-friendly recruiters on the West Coast',
     heroSubtitle: 'Embedded sourcers plus candidate concierge support for relocation.',
+    metaTitle: 'Bay Area Jobs & Recruiters',
+    metaDescription: 'Fractional and embedded recruiting teams covering product, design, and GTM roles in the Bay Area.',
+    metaKeywords: 'jobs, recruiters, bay area, san francisco',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-sf.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];


thinking
**Inspecting existing tests**
exec
bash -lc "sed -n '420,520p' apps/web/test/directory-helpers.test.mjs" in /var/home/rick/Development/mega-directory succeeded in 43ms:

  assert.strictEqual(result.tierTwo.length, 1, 'one tier-two slot resolved');
  assert.strictEqual(result.tierTwo[0].listing.slug, 'harbor-hvac');
  assert.strictEqual(result.tierTwo[0].slot.tier, 'PREMIUM');

  assert.deepStrictEqual(
    result.remainingListings.map((listing) => listing.slug),
    ['metro-clean'],
    'remaining listings exclude featured ones'
  );
});

test('segmentFeaturedListings falls back to score-ordered listings respecting featuredLimit', () => {
  const result = segmentFeaturedListings(sampleDirectories[1]);

  assert.ok(result.hero, 'fallback hero should exist');
  assert.strictEqual(result.hero.listing.slug, 'riverfront-roofing');
  assert.strictEqual(result.hero.slot.tier, 'HERO');
  assert.strictEqual(result.hero.slot.label, 'Top pick');

file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..faf31b85fb06fbc6e718d6495cd1924003295edb
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..e7ba66f77954f7c7f4961786f815d4d12b188946
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -130,6 +134,10 @@
     name: 'Denver Professional Services',
     heroTitle: 'Rocky Mountain Response Teams',
     heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
+    metaTitle: 'Professional Services in Denver',
+    metaDescription: 'High-altitude contractors for roofing, HVAC, and facilities teams across the Front Range.',
+    metaKeywords: 'contractors, roofing, hvac, denver',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-denver.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -217,6 +225,10 @@
     name: 'NYC Hiring Partners',
     heroTitle: 'Recruiters for media, finance, and tech',
     heroSubtitle: 'Boutique teams with candidate briefing portals and pay transparency baked in.',
+    metaTitle: 'NYC Jobs & Recruiters',
+    metaDescription: 'Recruiting partners and job boards covering finance, media, and tech roles in New York City.',
+    metaKeywords: 'jobs, recruiters, nyc, talent partners',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-nyc.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
@@ -309,6 +321,10 @@
     name: 'Bay Area Hiring Partners',
     heroTitle: 'Operator-friendly recruiters on the West Coast',
     heroSubtitle: 'Embedded sourcers plus candidate concierge support for relocation.',
+    metaTitle: 'Bay Area Jobs & Recruiters',
+    metaDescription: 'Fractional and embedded recruiting teams covering product, design, and GTM roles in the Bay Area.',
+    metaKeywords: 'jobs, recruiters, bay area, san francisco',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-sf.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];


thinking
**Adding tests for buildDirectorySeoMetadata**
exec
bash -lc 'rg -n "siteConfig" apps/web/test/directory-helpers.test.mjs' in /var/home/rick/Development/mega-directory exited 1 in 41ms:

file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..faf31b85fb06fbc6e718d6495cd1924003295edb
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..e7ba66f77954f7c7f4961786f815d4d12b188946
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -130,6 +134,10 @@
     name: 'Denver Professional Services',
     heroTitle: 'Rocky Mountain Response Teams',
     heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
+    metaTitle: 'Professional Services in Denver',
+    metaDescription: 'High-altitude contractors for roofing, HVAC, and facilities teams across the Front Range.',
+    metaKeywords: 'contractors, roofing, hvac, denver',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-denver.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -217,6 +225,10 @@
     name: 'NYC Hiring Partners',
     heroTitle: 'Recruiters for media, finance, and tech',
     heroSubtitle: 'Boutique teams with candidate briefing portals and pay transparency baked in.',
+    metaTitle: 'NYC Jobs & Recruiters',
+    metaDescription: 'Recruiting partners and job boards covering finance, media, and tech roles in New York City.',
+    metaKeywords: 'jobs, recruiters, nyc, talent partners',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-nyc.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
@@ -309,6 +321,10 @@
     name: 'Bay Area Hiring Partners',
     heroTitle: 'Operator-friendly recruiters on the West Coast',
     heroSubtitle: 'Embedded sourcers plus candidate concierge support for relocation.',
+    metaTitle: 'Bay Area Jobs & Recruiters',
+    metaDescription: 'Fractional and embedded recruiting teams covering product, design, and GTM roles in the Bay Area.',
+    metaKeywords: 'jobs, recruiters, bay area, san francisco',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-sf.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];


thinking
**Planning SEO metadata tests and imports**

I'm mapping out adding thorough tests for `buildDirectorySeoMetadata` covering overrides and fallback logic, including hero subtitle, category metadata, and site defaults. To do this cleanly, I'll import `siteConfig` and `buildDirectorySeoMetadata`, define a helper to clone directory data to avoid mutation, and structure tests to confirm correct fallback behavior step-by-step. This way, I ensure coverage without affecting existing sample data.
file update
M /var/home/rick/Development/mega-directory/apps/web/test/directory-helpers.test.mjs
@@ -18,2 +18,3 @@
   resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
@@ -26,2 +27,3 @@
 } from '../src/lib/directory-routing.js';
+import { siteConfig } from '../src/config/site-config.js';
 
apply_patch(auto_approved=true) exited 0 in 12ms:
Success. Updated the following files:
M apps/web/test/directory-helpers.test.mjs
file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..faf31b85fb06fbc6e718d6495cd1924003295edb
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..e7ba66f77954f7c7f4961786f815d4d12b188946
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -130,6 +134,10 @@
     name: 'Denver Professional Services',
     heroTitle: 'Rocky Mountain Response Teams',
     heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
+    metaTitle: 'Professional Services in Denver',
+    metaDescription: 'High-altitude contractors for roofing, HVAC, and facilities teams across the Front Range.',
+    metaKeywords: 'contractors, roofing, hvac, denver',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-denver.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -217,6 +225,10 @@
     name: 'NYC Hiring Partners',
     heroTitle: 'Recruiters for media, finance, and tech',
     heroSubtitle: 'Boutique teams with candidate briefing portals and pay transparency baked in.',
+    metaTitle: 'NYC Jobs & Recruiters',
+    metaDescription: 'Recruiting partners and job boards covering finance, media, and tech roles in New York City.',
+    metaKeywords: 'jobs, recruiters, nyc, talent partners',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-nyc.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
@@ -309,6 +321,10 @@
     name: 'Bay Area Hiring Partners',
     heroTitle: 'Operator-friendly recruiters on the West Coast',
     heroSubtitle: 'Embedded sourcers plus candidate concierge support for relocation.',
+    metaTitle: 'Bay Area Jobs & Recruiters',
+    metaDescription: 'Fractional and embedded recruiting teams covering product, design, and GTM roles in the Bay Area.',
+    metaKeywords: 'jobs, recruiters, bay area, san francisco',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-sf.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];
diff --git a/apps/web/test/directory-helpers.test.mjs b/apps/web/test/directory-helpers.test.mjs
index da16c7abe7e229891080cbfd761b57dfdad3c25f..bdd2a88368e4d0455f3ce19414ed554679ad0c3b
--- a/apps/web/test/directory-helpers.test.mjs
+++ b/apps/web/test/directory-helpers.test.mjs
@@ -16,6 +16,7 @@
   getDirectorySubdirectorySlug,
   segmentFeaturedListings,
   resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../src/lib/directory-helpers.js';
@@ -24,6 +25,7 @@
   matchSubdomainRequest,
   buildDirectoryResponseTargets,
 } from '../src/lib/directory-routing.js';
+import { siteConfig } from '../src/config/site-config.js';
 
 const sampleDirectories = [
   {

file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..faf31b85fb06fbc6e718d6495cd1924003295edb
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..e7ba66f77954f7c7f4961786f815d4d12b188946
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -130,6 +134,10 @@
     name: 'Denver Professional Services',
     heroTitle: 'Rocky Mountain Response Teams',
     heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
+    metaTitle: 'Professional Services in Denver',
+    metaDescription: 'High-altitude contractors for roofing, HVAC, and facilities teams across the Front Range.',
+    metaKeywords: 'contractors, roofing, hvac, denver',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-denver.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -217,6 +225,10 @@
     name: 'NYC Hiring Partners',
     heroTitle: 'Recruiters for media, finance, and tech',
     heroSubtitle: 'Boutique teams with candidate briefing portals and pay transparency baked in.',
+    metaTitle: 'NYC Jobs & Recruiters',
+    metaDescription: 'Recruiting partners and job boards covering finance, media, and tech roles in New York City.',
+    metaKeywords: 'jobs, recruiters, nyc, talent partners',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-nyc.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
@@ -309,6 +321,10 @@
     name: 'Bay Area Hiring Partners',
     heroTitle: 'Operator-friendly recruiters on the West Coast',
     heroSubtitle: 'Embedded sourcers plus candidate concierge support for relocation.',
+    metaTitle: 'Bay Area Jobs & Recruiters',
+    metaDescription: 'Fractional and embedded recruiting teams covering product, design, and GTM roles in the Bay Area.',
+    metaKeywords: 'jobs, recruiters, bay area, san francisco',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-sf.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];
diff --git a/apps/web/test/directory-helpers.test.mjs b/apps/web/test/directory-helpers.test.mjs
index da16c7abe7e229891080cbfd761b57dfdad3c25f..bdd2a88368e4d0455f3ce19414ed554679ad0c3b
--- a/apps/web/test/directory-helpers.test.mjs
+++ b/apps/web/test/directory-helpers.test.mjs
@@ -16,6 +16,7 @@
   getDirectorySubdirectorySlug,
   segmentFeaturedListings,
   resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../src/lib/directory-helpers.js';
@@ -24,6 +25,7 @@
   matchSubdomainRequest,
   buildDirectoryResponseTargets,
 } from '../src/lib/directory-routing.js';
+import { siteConfig } from '../src/config/site-config.js';
 
 const sampleDirectories = [
   {


thinking
**Adding cloneDirectory helper function**
file update
M /var/home/rick/Development/mega-directory/apps/web/test/directory-helpers.test.mjs
@@ -148,2 +148,8 @@
 
+const cloneDirectory = (directory) => ({
+  ...directory,
+  category: directory?.category ? { ...directory.category } : undefined,
+  location: directory?.location ? { ...directory.location } : undefined,
+});
+
 test('sortListingsByScore orders items descending without mutating input', () => {
apply_patch(auto_approved=true) exited 0 in 12ms:
Success. Updated the following files:
M apps/web/test/directory-helpers.test.mjs
file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..faf31b85fb06fbc6e718d6495cd1924003295edb
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..e7ba66f77954f7c7f4961786f815d4d12b188946
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -130,6 +134,10 @@
     name: 'Denver Professional Services',
     heroTitle: 'Rocky Mountain Response Teams',
     heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
+    metaTitle: 'Professional Services in Denver',
+    metaDescription: 'High-altitude contractors for roofing, HVAC, and facilities teams across the Front Range.',
+    metaKeywords: 'contractors, roofing, hvac, denver',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-denver.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -217,6 +225,10 @@
     name: 'NYC Hiring Partners',
     heroTitle: 'Recruiters for media, finance, and tech',
     heroSubtitle: 'Boutique teams with candidate briefing portals and pay transparency baked in.',
+    metaTitle: 'NYC Jobs & Recruiters',
+    metaDescription: 'Recruiting partners and job boards covering finance, media, and tech roles in New York City.',
+    metaKeywords: 'jobs, recruiters, nyc, talent partners',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-nyc.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
@@ -309,6 +321,10 @@
     name: 'Bay Area Hiring Partners',
     heroTitle: 'Operator-friendly recruiters on the West Coast',
     heroSubtitle: 'Embedded sourcers plus candidate concierge support for relocation.',
+    metaTitle: 'Bay Area Jobs & Recruiters',
+    metaDescription: 'Fractional and embedded recruiting teams covering product, design, and GTM roles in the Bay Area.',
+    metaKeywords: 'jobs, recruiters, bay area, san francisco',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-sf.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];
diff --git a/apps/web/test/directory-helpers.test.mjs b/apps/web/test/directory-helpers.test.mjs
index da16c7abe7e229891080cbfd761b57dfdad3c25f..47aac14c0b85d15667cd6ed68f2c8fe924b49456
--- a/apps/web/test/directory-helpers.test.mjs
+++ b/apps/web/test/directory-helpers.test.mjs
@@ -16,6 +16,7 @@
   getDirectorySubdirectorySlug,
   segmentFeaturedListings,
   resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../src/lib/directory-helpers.js';
@@ -24,6 +25,7 @@
   matchSubdomainRequest,
   buildDirectoryResponseTargets,
 } from '../src/lib/directory-routing.js';
+import { siteConfig } from '../src/config/site-config.js';
 
 const sampleDirectories = [
   {
@@ -144,6 +146,12 @@
   },
 ];
 
+const cloneDirectory = (directory) => ({
+  ...directory,
+  category: directory?.category ? { ...directory.category } : undefined,
+  location: directory?.location ? { ...directory.location } : undefined,
+});
+
 test('sortListingsByScore orders items descending without mutating input', () => {
   const original = sampleDirectories[0].listings;
   const sorted = sortListingsByScore(original);

file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..faf31b85fb06fbc6e718d6495cd1924003295edb
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..e7ba66f77954f7c7f4961786f815d4d12b188946
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -130,6 +134,10 @@
     name: 'Denver Professional Services',
     heroTitle: 'Rocky Mountain Response Teams',
     heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
+    metaTitle: 'Professional Services in Denver',
+    metaDescription: 'High-altitude contractors for roofing, HVAC, and facilities teams across the Front Range.',
+    metaKeywords: 'contractors, roofing, hvac, denver',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-denver.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -217,6 +225,10 @@
     name: 'NYC Hiring Partners',
     heroTitle: 'Recruiters for media, finance, and tech',
     heroSubtitle: 'Boutique teams with candidate briefing portals and pay transparency baked in.',
+    metaTitle: 'NYC Jobs & Recruiters',
+    metaDescription: 'Recruiting partners and job boards covering finance, media, and tech roles in New York City.',
+    metaKeywords: 'jobs, recruiters, nyc, talent partners',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-nyc.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
@@ -309,6 +321,10 @@
     name: 'Bay Area Hiring Partners',
     heroTitle: 'Operator-friendly recruiters on the West Coast',
     heroSubtitle: 'Embedded sourcers plus candidate concierge support for relocation.',
+    metaTitle: 'Bay Area Jobs & Recruiters',
+    metaDescription: 'Fractional and embedded recruiting teams covering product, design, and GTM roles in the Bay Area.',
+    metaKeywords: 'jobs, recruiters, bay area, san francisco',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-sf.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];
diff --git a/apps/web/test/directory-helpers.test.mjs b/apps/web/test/directory-helpers.test.mjs
index da16c7abe7e229891080cbfd761b57dfdad3c25f..47aac14c0b85d15667cd6ed68f2c8fe924b49456
--- a/apps/web/test/directory-helpers.test.mjs
+++ b/apps/web/test/directory-helpers.test.mjs
@@ -16,6 +16,7 @@
   getDirectorySubdirectorySlug,
   segmentFeaturedListings,
   resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../src/lib/directory-helpers.js';
@@ -24,6 +25,7 @@
   matchSubdomainRequest,
   buildDirectoryResponseTargets,
 } from '../src/lib/directory-routing.js';
+import { siteConfig } from '../src/config/site-config.js';
 
 const sampleDirectories = [
   {
@@ -144,6 +146,12 @@
   },
 ];
 
+const cloneDirectory = (directory) => ({
+  ...directory,
+  category: directory?.category ? { ...directory.category } : undefined,
+  location: directory?.location ? { ...directory.location } : undefined,
+});
+
 test('sortListingsByScore orders items descending without mutating input', () => {
   const original = sampleDirectories[0].listings;
   const sorted = sortListingsByScore(original);


thinking
**Adding SEO metadata tests**
file update
M /var/home/rick/Development/mega-directory/apps/web/test/directory-helpers.test.mjs
@@ -484,2 +484,37 @@
 
+test('buildDirectorySeoMetadata prioritizes directory overrides and normalizes keywords', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '  Custom NYC Pros ',
+    metaDescription: '  Tailored copy for editors ',
+    metaKeywords: 'hvac, electricians , 24/7 dispatch ,',
+    ogImageUrl: 'https://cdn.example.com/og/custom.png',
+  });
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Custom NYC Pros');
+  assert.strictEqual(result.description, 'Tailored copy for editors');
+  assert.strictEqual(result.keywords, 'hvac, electricians, 24/7 dispatch');
+  assert.strictEqual(result.image, 'https://cdn.example.com/og/custom.png');
+});
+
+test('buildDirectorySeoMetadata falls back to hero subtitle and category metadata when overrides missing', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '',
+    title: '',
+    metaDescription: '',
+    metaKeywords: '',
+    ogImageUrl: '',
+    heroSubtitle: '  Rapid crews with on-call supervisors ',
+  });
+  directory.category.metaDescription = '';
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Professional Services Directory · New York City');
+  assert.strictEqual(result.description, 'Rapid crews with on-call supervisors');
+  assert.strictEqual(result.keywords, null);
+  assert.strictEqual(result.image, siteConfig.defaultOgImage);
+});
+
 test('matchSubdirectoryRequest returns normalized directory + optional subcategory', () => {
apply_patch(auto_approved=true) exited 0 in 11ms:
Success. Updated the following files:
M apps/web/test/directory-helpers.test.mjs
file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..faf31b85fb06fbc6e718d6495cd1924003295edb
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..e7ba66f77954f7c7f4961786f815d4d12b188946
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -130,6 +134,10 @@
     name: 'Denver Professional Services',
     heroTitle: 'Rocky Mountain Response Teams',
     heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
+    metaTitle: 'Professional Services in Denver',
+    metaDescription: 'High-altitude contractors for roofing, HVAC, and facilities teams across the Front Range.',
+    metaKeywords: 'contractors, roofing, hvac, denver',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-denver.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -217,6 +225,10 @@
     name: 'NYC Hiring Partners',
     heroTitle: 'Recruiters for media, finance, and tech',
     heroSubtitle: 'Boutique teams with candidate briefing portals and pay transparency baked in.',
+    metaTitle: 'NYC Jobs & Recruiters',
+    metaDescription: 'Recruiting partners and job boards covering finance, media, and tech roles in New York City.',
+    metaKeywords: 'jobs, recruiters, nyc, talent partners',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-nyc.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
@@ -309,6 +321,10 @@
     name: 'Bay Area Hiring Partners',
     heroTitle: 'Operator-friendly recruiters on the West Coast',
     heroSubtitle: 'Embedded sourcers plus candidate concierge support for relocation.',
+    metaTitle: 'Bay Area Jobs & Recruiters',
+    metaDescription: 'Fractional and embedded recruiting teams covering product, design, and GTM roles in the Bay Area.',
+    metaKeywords: 'jobs, recruiters, bay area, san francisco',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-sf.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];
diff --git a/apps/web/test/directory-helpers.test.mjs b/apps/web/test/directory-helpers.test.mjs
index da16c7abe7e229891080cbfd761b57dfdad3c25f..7e3bacfbae8f0d4a0f6a052fbc8425a43f3a5a5a
--- a/apps/web/test/directory-helpers.test.mjs
+++ b/apps/web/test/directory-helpers.test.mjs
@@ -16,6 +16,7 @@
   getDirectorySubdirectorySlug,
   segmentFeaturedListings,
   resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../src/lib/directory-helpers.js';
@@ -24,6 +25,7 @@
   matchSubdomainRequest,
   buildDirectoryResponseTargets,
 } from '../src/lib/directory-routing.js';
+import { siteConfig } from '../src/config/site-config.js';
 
 const sampleDirectories = [
   {
@@ -144,6 +146,12 @@
   },
 ];
 
+const cloneDirectory = (directory) => ({
+  ...directory,
+  category: directory?.category ? { ...directory.category } : undefined,
+  location: directory?.location ? { ...directory.location } : undefined,
+});
+
 test('sortListingsByScore orders items descending without mutating input', () => {
   const original = sampleDirectories[0].listings;
   const sorted = sortListingsByScore(original);
@@ -474,6 +482,41 @@
   );
 });
 
+test('buildDirectorySeoMetadata prioritizes directory overrides and normalizes keywords', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '  Custom NYC Pros ',
+    metaDescription: '  Tailored copy for editors ',
+    metaKeywords: 'hvac, electricians , 24/7 dispatch ,',
+    ogImageUrl: 'https://cdn.example.com/og/custom.png',
+  });
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Custom NYC Pros');
+  assert.strictEqual(result.description, 'Tailored copy for editors');
+  assert.strictEqual(result.keywords, 'hvac, electricians, 24/7 dispatch');
+  assert.strictEqual(result.image, 'https://cdn.example.com/og/custom.png');
+});
+
+test('buildDirectorySeoMetadata falls back to hero subtitle and category metadata when overrides missing', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '',
+    title: '',
+    metaDescription: '',
+    metaKeywords: '',
+    ogImageUrl: '',
+    heroSubtitle: '  Rapid crews with on-call supervisors ',
+  });
+  directory.category.metaDescription = '';
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Professional Services Directory · New York City');
+  assert.strictEqual(result.description, 'Rapid crews with on-call supervisors');
+  assert.strictEqual(result.keywords, null);
+  assert.strictEqual(result.image, siteConfig.defaultOgImage);
+});
+
 test('matchSubdirectoryRequest returns normalized directory + optional subcategory', () => {
   const baseMatch = matchSubdirectoryRequest(
     sampleDirectories,

file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..faf31b85fb06fbc6e718d6495cd1924003295edb
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..e7ba66f77954f7c7f4961786f815d4d12b188946
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -130,6 +134,10 @@
     name: 'Denver Professional Services',
     heroTitle: 'Rocky Mountain Response Teams',
     heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
+    metaTitle: 'Professional Services in Denver',
+    metaDescription: 'High-altitude contractors for roofing, HVAC, and facilities teams across the Front Range.',
+    metaKeywords: 'contractors, roofing, hvac, denver',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-denver.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -217,6 +225,10 @@
     name: 'NYC Hiring Partners',
     heroTitle: 'Recruiters for media, finance, and tech',
     heroSubtitle: 'Boutique teams with candidate briefing portals and pay transparency baked in.',
+    metaTitle: 'NYC Jobs & Recruiters',
+    metaDescription: 'Recruiting partners and job boards covering finance, media, and tech roles in New York City.',
+    metaKeywords: 'jobs, recruiters, nyc, talent partners',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-nyc.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
@@ -309,6 +321,10 @@
     name: 'Bay Area Hiring Partners',
     heroTitle: 'Operator-friendly recruiters on the West Coast',
     heroSubtitle: 'Embedded sourcers plus candidate concierge support for relocation.',
+    metaTitle: 'Bay Area Jobs & Recruiters',
+    metaDescription: 'Fractional and embedded recruiting teams covering product, design, and GTM roles in the Bay Area.',
+    metaKeywords: 'jobs, recruiters, bay area, san francisco',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-sf.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];
diff --git a/apps/web/test/directory-helpers.test.mjs b/apps/web/test/directory-helpers.test.mjs
index da16c7abe7e229891080cbfd761b57dfdad3c25f..7e3bacfbae8f0d4a0f6a052fbc8425a43f3a5a5a
--- a/apps/web/test/directory-helpers.test.mjs
+++ b/apps/web/test/directory-helpers.test.mjs
@@ -16,6 +16,7 @@
   getDirectorySubdirectorySlug,
   segmentFeaturedListings,
   resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../src/lib/directory-helpers.js';
@@ -24,6 +25,7 @@
   matchSubdomainRequest,
   buildDirectoryResponseTargets,
 } from '../src/lib/directory-routing.js';
+import { siteConfig } from '../src/config/site-config.js';
 
 const sampleDirectories = [
   {
@@ -144,6 +146,12 @@
   },
 ];
 
+const cloneDirectory = (directory) => ({
+  ...directory,
+  category: directory?.category ? { ...directory.category } : undefined,
+  location: directory?.location ? { ...directory.location } : undefined,
+});
+
 test('sortListingsByScore orders items descending without mutating input', () => {
   const original = sampleDirectories[0].listings;
   const sorted = sortListingsByScore(original);
@@ -474,6 +482,41 @@
   );
 });
 
+test('buildDirectorySeoMetadata prioritizes directory overrides and normalizes keywords', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '  Custom NYC Pros ',
+    metaDescription: '  Tailored copy for editors ',
+    metaKeywords: 'hvac, electricians , 24/7 dispatch ,',
+    ogImageUrl: 'https://cdn.example.com/og/custom.png',
+  });
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Custom NYC Pros');
+  assert.strictEqual(result.description, 'Tailored copy for editors');
+  assert.strictEqual(result.keywords, 'hvac, electricians, 24/7 dispatch');
+  assert.strictEqual(result.image, 'https://cdn.example.com/og/custom.png');
+});
+
+test('buildDirectorySeoMetadata falls back to hero subtitle and category metadata when overrides missing', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '',
+    title: '',
+    metaDescription: '',
+    metaKeywords: '',
+    ogImageUrl: '',
+    heroSubtitle: '  Rapid crews with on-call supervisors ',
+  });
+  directory.category.metaDescription = '';
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Professional Services Directory · New York City');
+  assert.strictEqual(result.description, 'Rapid crews with on-call supervisors');
+  assert.strictEqual(result.keywords, null);
+  assert.strictEqual(result.image, siteConfig.defaultOgImage);
+});
+
 test('matchSubdirectoryRequest returns normalized directory + optional subcategory', () => {
   const baseMatch = matchSubdirectoryRequest(
     sampleDirectories,


thinking
**Verifying configuration and constants usage**
exec
bash -lc 'rg -n "heroSubtitle" apps/web/src/components/DirectoryPage.astro' in /var/home/rick/Development/mega-directory succeeded in 41ms:
25:const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
126:      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..faf31b85fb06fbc6e718d6495cd1924003295edb
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..e7ba66f77954f7c7f4961786f815d4d12b188946
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -130,6 +134,10 @@
     name: 'Denver Professional Services',
     heroTitle: 'Rocky Mountain Response Teams',
     heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
+    metaTitle: 'Professional Services in Denver',
+    metaDescription: 'High-altitude contractors for roofing, HVAC, and facilities teams across the Front Range.',
+    metaKeywords: 'contractors, roofing, hvac, denver',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-denver.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -217,6 +225,10 @@
     name: 'NYC Hiring Partners',
     heroTitle: 'Recruiters for media, finance, and tech',
     heroSubtitle: 'Boutique teams with candidate briefing portals and pay transparency baked in.',
+    metaTitle: 'NYC Jobs & Recruiters',
+    metaDescription: 'Recruiting partners and job boards covering finance, media, and tech roles in New York City.',
+    metaKeywords: 'jobs, recruiters, nyc, talent partners',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-nyc.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
@@ -309,6 +321,10 @@
     name: 'Bay Area Hiring Partners',
     heroTitle: 'Operator-friendly recruiters on the West Coast',
     heroSubtitle: 'Embedded sourcers plus candidate concierge support for relocation.',
+    metaTitle: 'Bay Area Jobs & Recruiters',
+    metaDescription: 'Fractional and embedded recruiting teams covering product, design, and GTM roles in the Bay Area.',
+    metaKeywords: 'jobs, recruiters, bay area, san francisco',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-sf.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];
diff --git a/apps/web/test/directory-helpers.test.mjs b/apps/web/test/directory-helpers.test.mjs
index da16c7abe7e229891080cbfd761b57dfdad3c25f..7e3bacfbae8f0d4a0f6a052fbc8425a43f3a5a5a
--- a/apps/web/test/directory-helpers.test.mjs
+++ b/apps/web/test/directory-helpers.test.mjs
@@ -16,6 +16,7 @@
   getDirectorySubdirectorySlug,
   segmentFeaturedListings,
   resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../src/lib/directory-helpers.js';
@@ -24,6 +25,7 @@
   matchSubdomainRequest,
   buildDirectoryResponseTargets,
 } from '../src/lib/directory-routing.js';
+import { siteConfig } from '../src/config/site-config.js';
 
 const sampleDirectories = [
   {
@@ -144,6 +146,12 @@
   },
 ];
 
+const cloneDirectory = (directory) => ({
+  ...directory,
+  category: directory?.category ? { ...directory.category } : undefined,
+  location: directory?.location ? { ...directory.location } : undefined,
+});
+
 test('sortListingsByScore orders items descending without mutating input', () => {
   const original = sampleDirectories[0].listings;
   const sorted = sortListingsByScore(original);
@@ -474,6 +482,41 @@
   );
 });
 
+test('buildDirectorySeoMetadata prioritizes directory overrides and normalizes keywords', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '  Custom NYC Pros ',
+    metaDescription: '  Tailored copy for editors ',
+    metaKeywords: 'hvac, electricians , 24/7 dispatch ,',
+    ogImageUrl: 'https://cdn.example.com/og/custom.png',
+  });
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Custom NYC Pros');
+  assert.strictEqual(result.description, 'Tailored copy for editors');
+  assert.strictEqual(result.keywords, 'hvac, electricians, 24/7 dispatch');
+  assert.strictEqual(result.image, 'https://cdn.example.com/og/custom.png');
+});
+
+test('buildDirectorySeoMetadata falls back to hero subtitle and category metadata when overrides missing', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '',
+    title: '',
+    metaDescription: '',
+    metaKeywords: '',
+    ogImageUrl: '',
+    heroSubtitle: '  Rapid crews with on-call supervisors ',
+  });
+  directory.category.metaDescription = '';
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Professional Services Directory · New York City');
+  assert.strictEqual(result.description, 'Rapid crews with on-call supervisors');
+  assert.strictEqual(result.keywords, null);
+  assert.strictEqual(result.image, siteConfig.defaultOgImage);
+});
+
 test('matchSubdirectoryRequest returns normalized directory + optional subcategory', () => {
   const baseMatch = matchSubdirectoryRequest(
     sampleDirectories,


thinking
**Evaluating heroSubtitle usage**
exec
bash -lc "sed -n '120,160p' apps/web/src/components/DirectoryPage.astro" in /var/home/rick/Development/mega-directory succeeded in 45ms:
      <span>{directory.category.name}</span>
      <span class="mx-2 text-slate-600">/</span>
      <span>{directory.location.name}</span>
    </nav>
    <div class="space-y-3">
      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
    </div>
    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
      {heroStats.map((stat) => (
        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
        </div>
      ))}
    </dl>
  </section>

  {showDirectoryMap && (
    <DirectoryMap
file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..faf31b85fb06fbc6e718d6495cd1924003295edb
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..e7ba66f77954f7c7f4961786f815d4d12b188946
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -130,6 +134,10 @@
     name: 'Denver Professional Services',
     heroTitle: 'Rocky Mountain Response Teams',
     heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
+    metaTitle: 'Professional Services in Denver',
+    metaDescription: 'High-altitude contractors for roofing, HVAC, and facilities teams across the Front Range.',
+    metaKeywords: 'contractors, roofing, hvac, denver',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-denver.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -217,6 +225,10 @@
     name: 'NYC Hiring Partners',
     heroTitle: 'Recruiters for media, finance, and tech',
     heroSubtitle: 'Boutique teams with candidate briefing portals and pay transparency baked in.',
+    metaTitle: 'NYC Jobs & Recruiters',
+    metaDescription: 'Recruiting partners and job boards covering finance, media, and tech roles in New York City.',
+    metaKeywords: 'jobs, recruiters, nyc, talent partners',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-nyc.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
@@ -309,6 +321,10 @@
     name: 'Bay Area Hiring Partners',
     heroTitle: 'Operator-friendly recruiters on the West Coast',
     heroSubtitle: 'Embedded sourcers plus candidate concierge support for relocation.',
+    metaTitle: 'Bay Area Jobs & Recruiters',
+    metaDescription: 'Fractional and embedded recruiting teams covering product, design, and GTM roles in the Bay Area.',
+    metaKeywords: 'jobs, recruiters, bay area, san francisco',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-sf.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];
diff --git a/apps/web/test/directory-helpers.test.mjs b/apps/web/test/directory-helpers.test.mjs
index da16c7abe7e229891080cbfd761b57dfdad3c25f..7e3bacfbae8f0d4a0f6a052fbc8425a43f3a5a5a
--- a/apps/web/test/directory-helpers.test.mjs
+++ b/apps/web/test/directory-helpers.test.mjs
@@ -16,6 +16,7 @@
   getDirectorySubdirectorySlug,
   segmentFeaturedListings,
   resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../src/lib/directory-helpers.js';
@@ -24,6 +25,7 @@
   matchSubdomainRequest,
   buildDirectoryResponseTargets,
 } from '../src/lib/directory-routing.js';
+import { siteConfig } from '../src/config/site-config.js';
 
 const sampleDirectories = [
   {
@@ -144,6 +146,12 @@
   },
 ];
 
+const cloneDirectory = (directory) => ({
+  ...directory,
+  category: directory?.category ? { ...directory.category } : undefined,
+  location: directory?.location ? { ...directory.location } : undefined,
+});
+
 test('sortListingsByScore orders items descending without mutating input', () => {
   const original = sampleDirectories[0].listings;
   const sorted = sortListingsByScore(original);
@@ -474,6 +482,41 @@
   );
 });
 
+test('buildDirectorySeoMetadata prioritizes directory overrides and normalizes keywords', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '  Custom NYC Pros ',
+    metaDescription: '  Tailored copy for editors ',
+    metaKeywords: 'hvac, electricians , 24/7 dispatch ,',
+    ogImageUrl: 'https://cdn.example.com/og/custom.png',
+  });
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Custom NYC Pros');
+  assert.strictEqual(result.description, 'Tailored copy for editors');
+  assert.strictEqual(result.keywords, 'hvac, electricians, 24/7 dispatch');
+  assert.strictEqual(result.image, 'https://cdn.example.com/og/custom.png');
+});
+
+test('buildDirectorySeoMetadata falls back to hero subtitle and category metadata when overrides missing', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '',
+    title: '',
+    metaDescription: '',
+    metaKeywords: '',
+    ogImageUrl: '',
+    heroSubtitle: '  Rapid crews with on-call supervisors ',
+  });
+  directory.category.metaDescription = '';
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Professional Services Directory · New York City');
+  assert.strictEqual(result.description, 'Rapid crews with on-call supervisors');
+  assert.strictEqual(result.keywords, null);
+  assert.strictEqual(result.image, siteConfig.defaultOgImage);
+});
+
 test('matchSubdirectoryRequest returns normalized directory + optional subcategory', () => {
   const baseMatch = matchSubdirectoryRequest(
     sampleDirectories,


thinking
**Updating conditional rendering for subtitle**
file update
M /var/home/rick/Development/mega-directory/apps/web/src/components/DirectoryPage.astro
@@ -125,3 +125,3 @@
       <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+      {heroSubtitle && <p class="text-sm text-slate-300">{heroSubtitle}</p>}
     </div>
apply_patch(auto_approved=true) exited 0 in 12ms:
Success. Updated the following files:
M apps/web/src/components/DirectoryPage.astro
file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..3d48c2ec8b13600e84bb7d9b8b43ac09b548fd73
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
@@ -131,7 +123,7 @@
     </nav>
     <div class="space-y-3">
       <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+      {heroSubtitle && <p class="text-sm text-slate-300">{heroSubtitle}</p>}
     </div>
     <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
       {heroStats.map((stat) => (
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..e7ba66f77954f7c7f4961786f815d4d12b188946
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -130,6 +134,10 @@
     name: 'Denver Professional Services',
     heroTitle: 'Rocky Mountain Response Teams',
     heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
+    metaTitle: 'Professional Services in Denver',
+    metaDescription: 'High-altitude contractors for roofing, HVAC, and facilities teams across the Front Range.',
+    metaKeywords: 'contractors, roofing, hvac, denver',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-denver.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -217,6 +225,10 @@
     name: 'NYC Hiring Partners',
     heroTitle: 'Recruiters for media, finance, and tech',
     heroSubtitle: 'Boutique teams with candidate briefing portals and pay transparency baked in.',
+    metaTitle: 'NYC Jobs & Recruiters',
+    metaDescription: 'Recruiting partners and job boards covering finance, media, and tech roles in New York City.',
+    metaKeywords: 'jobs, recruiters, nyc, talent partners',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-nyc.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
@@ -309,6 +321,10 @@
     name: 'Bay Area Hiring Partners',
     heroTitle: 'Operator-friendly recruiters on the West Coast',
     heroSubtitle: 'Embedded sourcers plus candidate concierge support for relocation.',
+    metaTitle: 'Bay Area Jobs & Recruiters',
+    metaDescription: 'Fractional and embedded recruiting teams covering product, design, and GTM roles in the Bay Area.',
+    metaKeywords: 'jobs, recruiters, bay area, san francisco',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-sf.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];
diff --git a/apps/web/test/directory-helpers.test.mjs b/apps/web/test/directory-helpers.test.mjs
index da16c7abe7e229891080cbfd761b57dfdad3c25f..7e3bacfbae8f0d4a0f6a052fbc8425a43f3a5a5a
--- a/apps/web/test/directory-helpers.test.mjs
+++ b/apps/web/test/directory-helpers.test.mjs
@@ -16,6 +16,7 @@
   getDirectorySubdirectorySlug,
   segmentFeaturedListings,
   resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../src/lib/directory-helpers.js';
@@ -24,6 +25,7 @@
   matchSubdomainRequest,
   buildDirectoryResponseTargets,
 } from '../src/lib/directory-routing.js';
+import { siteConfig } from '../src/config/site-config.js';
 
 const sampleDirectories = [
   {
@@ -144,6 +146,12 @@
   },
 ];
 
+const cloneDirectory = (directory) => ({
+  ...directory,
+  category: directory?.category ? { ...directory.category } : undefined,
+  location: directory?.location ? { ...directory.location } : undefined,
+});
+
 test('sortListingsByScore orders items descending without mutating input', () => {
   const original = sampleDirectories[0].listings;
   const sorted = sortListingsByScore(original);
@@ -474,6 +482,41 @@
   );
 });
 
+test('buildDirectorySeoMetadata prioritizes directory overrides and normalizes keywords', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '  Custom NYC Pros ',
+    metaDescription: '  Tailored copy for editors ',
+    metaKeywords: 'hvac, electricians , 24/7 dispatch ,',
+    ogImageUrl: 'https://cdn.example.com/og/custom.png',
+  });
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Custom NYC Pros');
+  assert.strictEqual(result.description, 'Tailored copy for editors');
+  assert.strictEqual(result.keywords, 'hvac, electricians, 24/7 dispatch');
+  assert.strictEqual(result.image, 'https://cdn.example.com/og/custom.png');
+});
+
+test('buildDirectorySeoMetadata falls back to hero subtitle and category metadata when overrides missing', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '',
+    title: '',
+    metaDescription: '',
+    metaKeywords: '',
+    ogImageUrl: '',
+    heroSubtitle: '  Rapid crews with on-call supervisors ',
+  });
+  directory.category.metaDescription = '';
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Professional Services Directory · New York City');
+  assert.strictEqual(result.description, 'Rapid crews with on-call supervisors');
+  assert.strictEqual(result.keywords, null);
+  assert.strictEqual(result.image, siteConfig.defaultOgImage);
+});
+
 test('matchSubdirectoryRequest returns normalized directory + optional subcategory', () => {
   const baseMatch = matchSubdirectoryRequest(
     sampleDirectories,

file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..3d48c2ec8b13600e84bb7d9b8b43ac09b548fd73
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
@@ -131,7 +123,7 @@
     </nav>
     <div class="space-y-3">
       <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+      {heroSubtitle && <p class="text-sm text-slate-300">{heroSubtitle}</p>}
     </div>
     <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
       {heroStats.map((stat) => (
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..e7ba66f77954f7c7f4961786f815d4d12b188946
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -130,6 +134,10 @@
     name: 'Denver Professional Services',
     heroTitle: 'Rocky Mountain Response Teams',
     heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
+    metaTitle: 'Professional Services in Denver',
+    metaDescription: 'High-altitude contractors for roofing, HVAC, and facilities teams across the Front Range.',
+    metaKeywords: 'contractors, roofing, hvac, denver',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-denver.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -217,6 +225,10 @@
     name: 'NYC Hiring Partners',
     heroTitle: 'Recruiters for media, finance, and tech',
     heroSubtitle: 'Boutique teams with candidate briefing portals and pay transparency baked in.',
+    metaTitle: 'NYC Jobs & Recruiters',
+    metaDescription: 'Recruiting partners and job boards covering finance, media, and tech roles in New York City.',
+    metaKeywords: 'jobs, recruiters, nyc, talent partners',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-nyc.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
@@ -309,6 +321,10 @@
     name: 'Bay Area Hiring Partners',
     heroTitle: 'Operator-friendly recruiters on the West Coast',
     heroSubtitle: 'Embedded sourcers plus candidate concierge support for relocation.',
+    metaTitle: 'Bay Area Jobs & Recruiters',
+    metaDescription: 'Fractional and embedded recruiting teams covering product, design, and GTM roles in the Bay Area.',
+    metaKeywords: 'jobs, recruiters, bay area, san francisco',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-sf.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];
diff --git a/apps/web/test/directory-helpers.test.mjs b/apps/web/test/directory-helpers.test.mjs
index da16c7abe7e229891080cbfd761b57dfdad3c25f..7e3bacfbae8f0d4a0f6a052fbc8425a43f3a5a5a
--- a/apps/web/test/directory-helpers.test.mjs
+++ b/apps/web/test/directory-helpers.test.mjs
@@ -16,6 +16,7 @@
   getDirectorySubdirectorySlug,
   segmentFeaturedListings,
   resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../src/lib/directory-helpers.js';
@@ -24,6 +25,7 @@
   matchSubdomainRequest,
   buildDirectoryResponseTargets,
 } from '../src/lib/directory-routing.js';
+import { siteConfig } from '../src/config/site-config.js';
 
 const sampleDirectories = [
   {
@@ -144,6 +146,12 @@
   },
 ];
 
+const cloneDirectory = (directory) => ({
+  ...directory,
+  category: directory?.category ? { ...directory.category } : undefined,
+  location: directory?.location ? { ...directory.location } : undefined,
+});
+
 test('sortListingsByScore orders items descending without mutating input', () => {
   const original = sampleDirectories[0].listings;
   const sorted = sortListingsByScore(original);
@@ -474,6 +482,41 @@
   );
 });
 
+test('buildDirectorySeoMetadata prioritizes directory overrides and normalizes keywords', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '  Custom NYC Pros ',
+    metaDescription: '  Tailored copy for editors ',
+    metaKeywords: 'hvac, electricians , 24/7 dispatch ,',
+    ogImageUrl: 'https://cdn.example.com/og/custom.png',
+  });
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Custom NYC Pros');
+  assert.strictEqual(result.description, 'Tailored copy for editors');
+  assert.strictEqual(result.keywords, 'hvac, electricians, 24/7 dispatch');
+  assert.strictEqual(result.image, 'https://cdn.example.com/og/custom.png');
+});
+
+test('buildDirectorySeoMetadata falls back to hero subtitle and category metadata when overrides missing', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '',
+    title: '',
+    metaDescription: '',
+    metaKeywords: '',
+    ogImageUrl: '',
+    heroSubtitle: '  Rapid crews with on-call supervisors ',
+  });
+  directory.category.metaDescription = '';
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Professional Services Directory · New York City');
+  assert.strictEqual(result.description, 'Rapid crews with on-call supervisors');
+  assert.strictEqual(result.keywords, null);
+  assert.strictEqual(result.image, siteConfig.defaultOgImage);
+});
+
 test('matchSubdirectoryRequest returns normalized directory + optional subcategory', () => {
   const baseMatch = matchSubdirectoryRequest(
     sampleDirectories,


thinking
**Verifying SEO and meta updates before testing**

I reviewed how the SEO metadata and meta keywords are sanitized and handled across components, ensuring fallback logic covers undefined cases. Now, I’m preparing to run tests with `npm test` in the root to validate these updates before moving forward.
exec
bash -lc 'npm test' in /var/home/rick/Development/mega-directory succeeded in 3.87s:

> mega-directory@0.1.0 test
> npm run test:root && npm run test:workspaces


> mega-directory@0.1.0 test:root
> node --test tests/**/*.test.js

TAP version 13
# Subtest: tests/directory_pages_schema.test.js
ok 1 - tests/directory_pages_schema.test.js
  ---
  duration_ms: 146.961491
  type: 'test'
  ...
# Subtest: tests/listings_table_enhancements.test.js
ok 2 - tests/listings_table_enhancements.test.js
  ---
  duration_ms: 146.495926
  type: 'test'
file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..3d48c2ec8b13600e84bb7d9b8b43ac09b548fd73
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
@@ -131,7 +123,7 @@
     </nav>
     <div class="space-y-3">
       <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+      {heroSubtitle && <p class="text-sm text-slate-300">{heroSubtitle}</p>}
     </div>
     <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
       {heroStats.map((stat) => (
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..e7ba66f77954f7c7f4961786f815d4d12b188946
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -130,6 +134,10 @@
     name: 'Denver Professional Services',
     heroTitle: 'Rocky Mountain Response Teams',
     heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
+    metaTitle: 'Professional Services in Denver',
+    metaDescription: 'High-altitude contractors for roofing, HVAC, and facilities teams across the Front Range.',
+    metaKeywords: 'contractors, roofing, hvac, denver',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-denver.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -217,6 +225,10 @@
     name: 'NYC Hiring Partners',
     heroTitle: 'Recruiters for media, finance, and tech',
     heroSubtitle: 'Boutique teams with candidate briefing portals and pay transparency baked in.',
+    metaTitle: 'NYC Jobs & Recruiters',
+    metaDescription: 'Recruiting partners and job boards covering finance, media, and tech roles in New York City.',
+    metaKeywords: 'jobs, recruiters, nyc, talent partners',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-nyc.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
@@ -309,6 +321,10 @@
     name: 'Bay Area Hiring Partners',
     heroTitle: 'Operator-friendly recruiters on the West Coast',
     heroSubtitle: 'Embedded sourcers plus candidate concierge support for relocation.',
+    metaTitle: 'Bay Area Jobs & Recruiters',
+    metaDescription: 'Fractional and embedded recruiting teams covering product, design, and GTM roles in the Bay Area.',
+    metaKeywords: 'jobs, recruiters, bay area, san francisco',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-sf.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];
diff --git a/apps/web/test/directory-helpers.test.mjs b/apps/web/test/directory-helpers.test.mjs
index da16c7abe7e229891080cbfd761b57dfdad3c25f..7e3bacfbae8f0d4a0f6a052fbc8425a43f3a5a5a
--- a/apps/web/test/directory-helpers.test.mjs
+++ b/apps/web/test/directory-helpers.test.mjs
@@ -16,6 +16,7 @@
   getDirectorySubdirectorySlug,
   segmentFeaturedListings,
   resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../src/lib/directory-helpers.js';
@@ -24,6 +25,7 @@
   matchSubdomainRequest,
   buildDirectoryResponseTargets,
 } from '../src/lib/directory-routing.js';
+import { siteConfig } from '../src/config/site-config.js';
 
 const sampleDirectories = [
   {
@@ -144,6 +146,12 @@
   },
 ];
 
+const cloneDirectory = (directory) => ({
+  ...directory,
+  category: directory?.category ? { ...directory.category } : undefined,
+  location: directory?.location ? { ...directory.location } : undefined,
+});
+
 test('sortListingsByScore orders items descending without mutating input', () => {
   const original = sampleDirectories[0].listings;
   const sorted = sortListingsByScore(original);
@@ -474,6 +482,41 @@
   );
 });
 
+test('buildDirectorySeoMetadata prioritizes directory overrides and normalizes keywords', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '  Custom NYC Pros ',
+    metaDescription: '  Tailored copy for editors ',
+    metaKeywords: 'hvac, electricians , 24/7 dispatch ,',
+    ogImageUrl: 'https://cdn.example.com/og/custom.png',
+  });
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Custom NYC Pros');
+  assert.strictEqual(result.description, 'Tailored copy for editors');
+  assert.strictEqual(result.keywords, 'hvac, electricians, 24/7 dispatch');
+  assert.strictEqual(result.image, 'https://cdn.example.com/og/custom.png');
+});
+
+test('buildDirectorySeoMetadata falls back to hero subtitle and category metadata when overrides missing', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '',
+    title: '',
+    metaDescription: '',
+    metaKeywords: '',
+    ogImageUrl: '',
+    heroSubtitle: '  Rapid crews with on-call supervisors ',
+  });
+  directory.category.metaDescription = '';
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Professional Services Directory · New York City');
+  assert.strictEqual(result.description, 'Rapid crews with on-call supervisors');
+  assert.strictEqual(result.keywords, null);
+  assert.strictEqual(result.image, siteConfig.defaultOgImage);
+});
+
 test('matchSubdirectoryRequest returns normalized directory + optional subcategory', () => {
   const baseMatch = matchSubdirectoryRequest(
     sampleDirectories,


thinking
**Updating plan statuses**
Plan update
  ✓ Review existing directory SEO metadata handling and identify required enhancements for canonical tags.
  ✓ Implement metadata sourcing from directory configuration (helpers, components, layout) and cover with tests.
  ✓ Update sample data if needed and run full test suite.
file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..3d48c2ec8b13600e84bb7d9b8b43ac09b548fd73
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
@@ -131,7 +123,7 @@
     </nav>
     <div class="space-y-3">
       <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+      {heroSubtitle && <p class="text-sm text-slate-300">{heroSubtitle}</p>}
     </div>
     <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
       {heroStats.map((stat) => (
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..e7ba66f77954f7c7f4961786f815d4d12b188946
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -130,6 +134,10 @@
     name: 'Denver Professional Services',
     heroTitle: 'Rocky Mountain Response Teams',
     heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
+    metaTitle: 'Professional Services in Denver',
+    metaDescription: 'High-altitude contractors for roofing, HVAC, and facilities teams across the Front Range.',
+    metaKeywords: 'contractors, roofing, hvac, denver',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-denver.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -217,6 +225,10 @@
     name: 'NYC Hiring Partners',
     heroTitle: 'Recruiters for media, finance, and tech',
     heroSubtitle: 'Boutique teams with candidate briefing portals and pay transparency baked in.',
+    metaTitle: 'NYC Jobs & Recruiters',
+    metaDescription: 'Recruiting partners and job boards covering finance, media, and tech roles in New York City.',
+    metaKeywords: 'jobs, recruiters, nyc, talent partners',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-nyc.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
@@ -309,6 +321,10 @@
     name: 'Bay Area Hiring Partners',
     heroTitle: 'Operator-friendly recruiters on the West Coast',
     heroSubtitle: 'Embedded sourcers plus candidate concierge support for relocation.',
+    metaTitle: 'Bay Area Jobs & Recruiters',
+    metaDescription: 'Fractional and embedded recruiting teams covering product, design, and GTM roles in the Bay Area.',
+    metaKeywords: 'jobs, recruiters, bay area, san francisco',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-sf.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];
diff --git a/apps/web/test/directory-helpers.test.mjs b/apps/web/test/directory-helpers.test.mjs
index da16c7abe7e229891080cbfd761b57dfdad3c25f..7e3bacfbae8f0d4a0f6a052fbc8425a43f3a5a5a
--- a/apps/web/test/directory-helpers.test.mjs
+++ b/apps/web/test/directory-helpers.test.mjs
@@ -16,6 +16,7 @@
   getDirectorySubdirectorySlug,
   segmentFeaturedListings,
   resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../src/lib/directory-helpers.js';
@@ -24,6 +25,7 @@
   matchSubdomainRequest,
   buildDirectoryResponseTargets,
 } from '../src/lib/directory-routing.js';
+import { siteConfig } from '../src/config/site-config.js';
 
 const sampleDirectories = [
   {
@@ -144,6 +146,12 @@
   },
 ];
 
+const cloneDirectory = (directory) => ({
+  ...directory,
+  category: directory?.category ? { ...directory.category } : undefined,
+  location: directory?.location ? { ...directory.location } : undefined,
+});
+
 test('sortListingsByScore orders items descending without mutating input', () => {
   const original = sampleDirectories[0].listings;
   const sorted = sortListingsByScore(original);
@@ -474,6 +482,41 @@
   );
 });
 
+test('buildDirectorySeoMetadata prioritizes directory overrides and normalizes keywords', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '  Custom NYC Pros ',
+    metaDescription: '  Tailored copy for editors ',
+    metaKeywords: 'hvac, electricians , 24/7 dispatch ,',
+    ogImageUrl: 'https://cdn.example.com/og/custom.png',
+  });
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Custom NYC Pros');
+  assert.strictEqual(result.description, 'Tailored copy for editors');
+  assert.strictEqual(result.keywords, 'hvac, electricians, 24/7 dispatch');
+  assert.strictEqual(result.image, 'https://cdn.example.com/og/custom.png');
+});
+
+test('buildDirectorySeoMetadata falls back to hero subtitle and category metadata when overrides missing', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '',
+    title: '',
+    metaDescription: '',
+    metaKeywords: '',
+    ogImageUrl: '',
+    heroSubtitle: '  Rapid crews with on-call supervisors ',
+  });
+  directory.category.metaDescription = '';
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Professional Services Directory · New York City');
+  assert.strictEqual(result.description, 'Rapid crews with on-call supervisors');
+  assert.strictEqual(result.keywords, null);
+  assert.strictEqual(result.image, siteConfig.defaultOgImage);
+});
+
 test('matchSubdirectoryRequest returns normalized directory + optional subcategory', () => {
   const baseMatch = matchSubdirectoryRequest(
     sampleDirectories,


thinking
**Checking touched files**
exec
bash -lc 'git status -sb' in /var/home/rick/Development/mega-directory succeeded in 42ms:
## main...origin/main [ahead 1]
 M .env.example
 M apps/web/src/components/DirectoryPage.astro
 M apps/web/src/data/directory-catalog.js
 M apps/web/src/layouts/BaseLayout.astro
 M apps/web/src/lib/directory-helpers.js
 M apps/web/test/directory-helpers.test.mjs
 M codex/LOGS/codex_run_2025-11-12_06-13-21.log
 M codex/LOGS/tasklog_36_create_text-based_data_import_script_with_llm_and_html_parsing_modes_1762958558.log
?? .editorconfig
?? .vscode/
?? apps/admin/data/imported-listings.json
?? codex/LOGS/tasklog_36_create_text-based_data_import_script_with_llm_and_html_parsing_modes_1762958558.log.done
?? codex/LOGS/tasklog_37_generate_admin_interface_for_reviewing_imported_json_listing_data_1762959134.log
?? codex/LOGS/tasklog_37_generate_admin_interface_for_reviewing_imported_json_listing_data_1762959134.log.done
?? codex/LOGS/tasklog_39_render_canonical_meta_tags_from_directory_configuration_1762959900.log
?? codex/TASKS/work_list
?? docs/codex_tasks_bundle.zip
?? docs/codex_tasks_detailed_final.zip
file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..3d48c2ec8b13600e84bb7d9b8b43ac09b548fd73
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
@@ -131,7 +123,7 @@
     </nav>
     <div class="space-y-3">
       <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+      {heroSubtitle && <p class="text-sm text-slate-300">{heroSubtitle}</p>}
     </div>
     <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
       {heroStats.map((stat) => (
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..e7ba66f77954f7c7f4961786f815d4d12b188946
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -130,6 +134,10 @@
     name: 'Denver Professional Services',
     heroTitle: 'Rocky Mountain Response Teams',
     heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
+    metaTitle: 'Professional Services in Denver',
+    metaDescription: 'High-altitude contractors for roofing, HVAC, and facilities teams across the Front Range.',
+    metaKeywords: 'contractors, roofing, hvac, denver',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-denver.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -217,6 +225,10 @@
     name: 'NYC Hiring Partners',
     heroTitle: 'Recruiters for media, finance, and tech',
     heroSubtitle: 'Boutique teams with candidate briefing portals and pay transparency baked in.',
+    metaTitle: 'NYC Jobs & Recruiters',
+    metaDescription: 'Recruiting partners and job boards covering finance, media, and tech roles in New York City.',
+    metaKeywords: 'jobs, recruiters, nyc, talent partners',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-nyc.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
@@ -309,6 +321,10 @@
     name: 'Bay Area Hiring Partners',
     heroTitle: 'Operator-friendly recruiters on the West Coast',
     heroSubtitle: 'Embedded sourcers plus candidate concierge support for relocation.',
+    metaTitle: 'Bay Area Jobs & Recruiters',
+    metaDescription: 'Fractional and embedded recruiting teams covering product, design, and GTM roles in the Bay Area.',
+    metaKeywords: 'jobs, recruiters, bay area, san francisco',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-sf.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];
diff --git a/apps/web/test/directory-helpers.test.mjs b/apps/web/test/directory-helpers.test.mjs
index da16c7abe7e229891080cbfd761b57dfdad3c25f..7e3bacfbae8f0d4a0f6a052fbc8425a43f3a5a5a
--- a/apps/web/test/directory-helpers.test.mjs
+++ b/apps/web/test/directory-helpers.test.mjs
@@ -16,6 +16,7 @@
   getDirectorySubdirectorySlug,
   segmentFeaturedListings,
   resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../src/lib/directory-helpers.js';
@@ -24,6 +25,7 @@
   matchSubdomainRequest,
   buildDirectoryResponseTargets,
 } from '../src/lib/directory-routing.js';
+import { siteConfig } from '../src/config/site-config.js';
 
 const sampleDirectories = [
   {
@@ -144,6 +146,12 @@
   },
 ];
 
+const cloneDirectory = (directory) => ({
+  ...directory,
+  category: directory?.category ? { ...directory.category } : undefined,
+  location: directory?.location ? { ...directory.location } : undefined,
+});
+
 test('sortListingsByScore orders items descending without mutating input', () => {
   const original = sampleDirectories[0].listings;
   const sorted = sortListingsByScore(original);
@@ -474,6 +482,41 @@
   );
 });
 
+test('buildDirectorySeoMetadata prioritizes directory overrides and normalizes keywords', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '  Custom NYC Pros ',
+    metaDescription: '  Tailored copy for editors ',
+    metaKeywords: 'hvac, electricians , 24/7 dispatch ,',
+    ogImageUrl: 'https://cdn.example.com/og/custom.png',
+  });
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Custom NYC Pros');
+  assert.strictEqual(result.description, 'Tailored copy for editors');
+  assert.strictEqual(result.keywords, 'hvac, electricians, 24/7 dispatch');
+  assert.strictEqual(result.image, 'https://cdn.example.com/og/custom.png');
+});
+
+test('buildDirectorySeoMetadata falls back to hero subtitle and category metadata when overrides missing', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '',
+    title: '',
+    metaDescription: '',
+    metaKeywords: '',
+    ogImageUrl: '',
+    heroSubtitle: '  Rapid crews with on-call supervisors ',
+  });
+  directory.category.metaDescription = '';
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Professional Services Directory · New York City');
+  assert.strictEqual(result.description, 'Rapid crews with on-call supervisors');
+  assert.strictEqual(result.keywords, null);
+  assert.strictEqual(result.image, siteConfig.defaultOgImage);
+});
+
 test('matchSubdirectoryRequest returns normalized directory + optional subcategory', () => {
   const baseMatch = matchSubdirectoryRequest(
     sampleDirectories,


thinking
**Preparing detailed change summary with line references**

I’m organizing a final summary that notes all updated files with approximate line numbers, including the new `buildDirectorySeoMetadata` helper and keyword sanitization in `apps/web/src/lib/directory-helpers.js`. I’ll highlight usage in DirectoryPage and BaseLayout, mention added tests, and confirm running `npm test` for verification—all while aiming to clearly cite each change by file path and line range.
exec
bash -lc "nl -ba apps/web/src/lib/directory-helpers.js | sed -n '30,140p'" in /var/home/rick/Development/mega-directory succeeded in 43ms:
    30	
    31	function normalizeBasePath(value) {
    32	  const trimmed = String(value ?? '').trim();
    33	  if (!trimmed) {
    34	    return '/directories';
    35	  }
    36	  return ensureLeadingSlash(trimmed.replace(/\/+$/, '')) || '/directories';
    37	}
    38	
    39	export function sanitizeHostname(value) {
    40	  const normalized = String(value ?? '')
    41	    .trim()
    42	    .toLowerCase()
    43	    .replace(/^(https?:)?\/\//, '')
    44	    .replace(/\/.*$/, '');
    45	  return normalized.replace(/[^a-z0-9.-]/g, '');
    46	}
    47	
    48	const normalizeScore = (value) =>
    49	  typeof value === 'number' && Number.isFinite(value) ? value : FALLBACK_SCORE;
file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..3d48c2ec8b13600e84bb7d9b8b43ac09b548fd73
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
@@ -131,7 +123,7 @@
     </nav>
     <div class="space-y-3">
       <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+      {heroSubtitle && <p class="text-sm text-slate-300">{heroSubtitle}</p>}
     </div>
     <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
       {heroStats.map((stat) => (
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..e7ba66f77954f7c7f4961786f815d4d12b188946
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -130,6 +134,10 @@
     name: 'Denver Professional Services',
     heroTitle: 'Rocky Mountain Response Teams',
     heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
+    metaTitle: 'Professional Services in Denver',
+    metaDescription: 'High-altitude contractors for roofing, HVAC, and facilities teams across the Front Range.',
+    metaKeywords: 'contractors, roofing, hvac, denver',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-denver.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -217,6 +225,10 @@
     name: 'NYC Hiring Partners',
     heroTitle: 'Recruiters for media, finance, and tech',
     heroSubtitle: 'Boutique teams with candidate briefing portals and pay transparency baked in.',
+    metaTitle: 'NYC Jobs & Recruiters',
+    metaDescription: 'Recruiting partners and job boards covering finance, media, and tech roles in New York City.',
+    metaKeywords: 'jobs, recruiters, nyc, talent partners',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-nyc.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
@@ -309,6 +321,10 @@
     name: 'Bay Area Hiring Partners',
     heroTitle: 'Operator-friendly recruiters on the West Coast',
     heroSubtitle: 'Embedded sourcers plus candidate concierge support for relocation.',
+    metaTitle: 'Bay Area Jobs & Recruiters',
+    metaDescription: 'Fractional and embedded recruiting teams covering product, design, and GTM roles in the Bay Area.',
+    metaKeywords: 'jobs, recruiters, bay area, san francisco',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-sf.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];
diff --git a/apps/web/test/directory-helpers.test.mjs b/apps/web/test/directory-helpers.test.mjs
index da16c7abe7e229891080cbfd761b57dfdad3c25f..7e3bacfbae8f0d4a0f6a052fbc8425a43f3a5a5a
--- a/apps/web/test/directory-helpers.test.mjs
+++ b/apps/web/test/directory-helpers.test.mjs
@@ -16,6 +16,7 @@
   getDirectorySubdirectorySlug,
   segmentFeaturedListings,
   resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../src/lib/directory-helpers.js';
@@ -24,6 +25,7 @@
   matchSubdomainRequest,
   buildDirectoryResponseTargets,
 } from '../src/lib/directory-routing.js';
+import { siteConfig } from '../src/config/site-config.js';
 
 const sampleDirectories = [
   {
@@ -144,6 +146,12 @@
   },
 ];
 
+const cloneDirectory = (directory) => ({
+  ...directory,
+  category: directory?.category ? { ...directory.category } : undefined,
+  location: directory?.location ? { ...directory.location } : undefined,
+});
+
 test('sortListingsByScore orders items descending without mutating input', () => {
   const original = sampleDirectories[0].listings;
   const sorted = sortListingsByScore(original);
@@ -474,6 +482,41 @@
   );
 });
 
+test('buildDirectorySeoMetadata prioritizes directory overrides and normalizes keywords', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '  Custom NYC Pros ',
+    metaDescription: '  Tailored copy for editors ',
+    metaKeywords: 'hvac, electricians , 24/7 dispatch ,',
+    ogImageUrl: 'https://cdn.example.com/og/custom.png',
+  });
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Custom NYC Pros');
+  assert.strictEqual(result.description, 'Tailored copy for editors');
+  assert.strictEqual(result.keywords, 'hvac, electricians, 24/7 dispatch');
+  assert.strictEqual(result.image, 'https://cdn.example.com/og/custom.png');
+});
+
+test('buildDirectorySeoMetadata falls back to hero subtitle and category metadata when overrides missing', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '',
+    title: '',
+    metaDescription: '',
+    metaKeywords: '',
+    ogImageUrl: '',
+    heroSubtitle: '  Rapid crews with on-call supervisors ',
+  });
+  directory.category.metaDescription = '';
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Professional Services Directory · New York City');
+  assert.strictEqual(result.description, 'Rapid crews with on-call supervisors');
+  assert.strictEqual(result.keywords, null);
+  assert.strictEqual(result.image, siteConfig.defaultOgImage);
+});
+
 test('matchSubdirectoryRequest returns normalized directory + optional subcategory', () => {
   const baseMatch = matchSubdirectoryRequest(
     sampleDirectories,


thinking
**Adding line numbers for exported function**
exec
bash -lc "nl -ba apps/web/src/lib/directory-helpers.js | sed -n '340,460p'" in /var/home/rick/Development/mega-directory succeeded in 42ms:
   340	        ...entry,
   341	        directories: entry.directories.sort(
   342	          (a, b) => (b.stats?.averageScore ?? 0) - (a.stats?.averageScore ?? 0),
   343	        ),
   344	      }))
   345	      .sort((a, b) => sortByName(a.location.name, b.location.name));
   346	
   347	  return Array.from(categoryMap.values())
   348	    .map((entry) => ({
   349	      ...entry,
   350	      locations: sortLocations(entry.locations),
   351	    }))
   352	    .sort((a, b) => sortByName(a.category.name, b.category.name));
   353	}
   354	
   355	export function findDirectoryEntry(directories = [], categorySlug, locationSlug) {
   356	  if (!Array.isArray(directories) || !categorySlug || !locationSlug) {
   357	    return undefined;
   358	  }
   359	
file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..3d48c2ec8b13600e84bb7d9b8b43ac09b548fd73
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
@@ -131,7 +123,7 @@
     </nav>
     <div class="space-y-3">
       <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+      {heroSubtitle && <p class="text-sm text-slate-300">{heroSubtitle}</p>}
     </div>
     <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
       {heroStats.map((stat) => (
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..e7ba66f77954f7c7f4961786f815d4d12b188946
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -130,6 +134,10 @@
     name: 'Denver Professional Services',
     heroTitle: 'Rocky Mountain Response Teams',
     heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
+    metaTitle: 'Professional Services in Denver',
+    metaDescription: 'High-altitude contractors for roofing, HVAC, and facilities teams across the Front Range.',
+    metaKeywords: 'contractors, roofing, hvac, denver',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-denver.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -217,6 +225,10 @@
     name: 'NYC Hiring Partners',
     heroTitle: 'Recruiters for media, finance, and tech',
     heroSubtitle: 'Boutique teams with candidate briefing portals and pay transparency baked in.',
+    metaTitle: 'NYC Jobs & Recruiters',
+    metaDescription: 'Recruiting partners and job boards covering finance, media, and tech roles in New York City.',
+    metaKeywords: 'jobs, recruiters, nyc, talent partners',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-nyc.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
@@ -309,6 +321,10 @@
     name: 'Bay Area Hiring Partners',
     heroTitle: 'Operator-friendly recruiters on the West Coast',
     heroSubtitle: 'Embedded sourcers plus candidate concierge support for relocation.',
+    metaTitle: 'Bay Area Jobs & Recruiters',
+    metaDescription: 'Fractional and embedded recruiting teams covering product, design, and GTM roles in the Bay Area.',
+    metaKeywords: 'jobs, recruiters, bay area, san francisco',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-sf.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];
diff --git a/apps/web/test/directory-helpers.test.mjs b/apps/web/test/directory-helpers.test.mjs
index da16c7abe7e229891080cbfd761b57dfdad3c25f..7e3bacfbae8f0d4a0f6a052fbc8425a43f3a5a5a
--- a/apps/web/test/directory-helpers.test.mjs
+++ b/apps/web/test/directory-helpers.test.mjs
@@ -16,6 +16,7 @@
   getDirectorySubdirectorySlug,
   segmentFeaturedListings,
   resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../src/lib/directory-helpers.js';
@@ -24,6 +25,7 @@
   matchSubdomainRequest,
   buildDirectoryResponseTargets,
 } from '../src/lib/directory-routing.js';
+import { siteConfig } from '../src/config/site-config.js';
 
 const sampleDirectories = [
   {
@@ -144,6 +146,12 @@
   },
 ];
 
+const cloneDirectory = (directory) => ({
+  ...directory,
+  category: directory?.category ? { ...directory.category } : undefined,
+  location: directory?.location ? { ...directory.location } : undefined,
+});
+
 test('sortListingsByScore orders items descending without mutating input', () => {
   const original = sampleDirectories[0].listings;
   const sorted = sortListingsByScore(original);
@@ -474,6 +482,41 @@
   );
 });
 
+test('buildDirectorySeoMetadata prioritizes directory overrides and normalizes keywords', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '  Custom NYC Pros ',
+    metaDescription: '  Tailored copy for editors ',
+    metaKeywords: 'hvac, electricians , 24/7 dispatch ,',
+    ogImageUrl: 'https://cdn.example.com/og/custom.png',
+  });
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Custom NYC Pros');
+  assert.strictEqual(result.description, 'Tailored copy for editors');
+  assert.strictEqual(result.keywords, 'hvac, electricians, 24/7 dispatch');
+  assert.strictEqual(result.image, 'https://cdn.example.com/og/custom.png');
+});
+
+test('buildDirectorySeoMetadata falls back to hero subtitle and category metadata when overrides missing', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '',
+    title: '',
+    metaDescription: '',
+    metaKeywords: '',
+    ogImageUrl: '',
+    heroSubtitle: '  Rapid crews with on-call supervisors ',
+  });
+  directory.category.metaDescription = '';
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Professional Services Directory · New York City');
+  assert.strictEqual(result.description, 'Rapid crews with on-call supervisors');
+  assert.strictEqual(result.keywords, null);
+  assert.strictEqual(result.image, siteConfig.defaultOgImage);
+});
+
 test('matchSubdirectoryRequest returns normalized directory + optional subcategory', () => {
   const baseMatch = matchSubdirectoryRequest(
     sampleDirectories,


thinking
**Noting code references and line numbers**
exec
bash -lc "nl -ba apps/web/src/components/DirectoryPage.astro | sed -n '1,120p'" in /var/home/rick/Development/mega-directory succeeded in 41ms:
     1	---
     2	import BaseLayout from '../layouts/BaseLayout.astro';
     3	import {
     4	  buildDirectorySeoMetadata,
     5	  buildDirectoryMapPins,
     6	  shouldRenderDirectoryMap,
     7	} from '../lib/directory-helpers.js';
     8	import { buildDirectoryResponseTargets } from '../lib/directory-routing.js';
     9	import DirectoryListing from './DirectoryListing.astro';
    10	import DirectoryMap from './DirectoryMap.astro';
    11	
    12	const {
    13	  directory,
    14	  navItems,
    15	  heroStats,
    16	  listings = [],
    17	  totalListings = listings.length,
    18	  subcategoryNav = [],
    19	  featuredHero = null,
    20	  featuredTierTwo = [],
file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..3d48c2ec8b13600e84bb7d9b8b43ac09b548fd73
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
@@ -131,7 +123,7 @@
     </nav>
     <div class="space-y-3">
       <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+      {heroSubtitle && <p class="text-sm text-slate-300">{heroSubtitle}</p>}
     </div>
     <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
       {heroStats.map((stat) => (
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..e7ba66f77954f7c7f4961786f815d4d12b188946
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -130,6 +134,10 @@
     name: 'Denver Professional Services',
     heroTitle: 'Rocky Mountain Response Teams',
     heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
+    metaTitle: 'Professional Services in Denver',
+    metaDescription: 'High-altitude contractors for roofing, HVAC, and facilities teams across the Front Range.',
+    metaKeywords: 'contractors, roofing, hvac, denver',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-denver.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -217,6 +225,10 @@
     name: 'NYC Hiring Partners',
     heroTitle: 'Recruiters for media, finance, and tech',
     heroSubtitle: 'Boutique teams with candidate briefing portals and pay transparency baked in.',
+    metaTitle: 'NYC Jobs & Recruiters',
+    metaDescription: 'Recruiting partners and job boards covering finance, media, and tech roles in New York City.',
+    metaKeywords: 'jobs, recruiters, nyc, talent partners',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-nyc.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
@@ -309,6 +321,10 @@
     name: 'Bay Area Hiring Partners',
     heroTitle: 'Operator-friendly recruiters on the West Coast',
     heroSubtitle: 'Embedded sourcers plus candidate concierge support for relocation.',
+    metaTitle: 'Bay Area Jobs & Recruiters',
+    metaDescription: 'Fractional and embedded recruiting teams covering product, design, and GTM roles in the Bay Area.',
+    metaKeywords: 'jobs, recruiters, bay area, san francisco',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-sf.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];
diff --git a/apps/web/test/directory-helpers.test.mjs b/apps/web/test/directory-helpers.test.mjs
index da16c7abe7e229891080cbfd761b57dfdad3c25f..7e3bacfbae8f0d4a0f6a052fbc8425a43f3a5a5a
--- a/apps/web/test/directory-helpers.test.mjs
+++ b/apps/web/test/directory-helpers.test.mjs
@@ -16,6 +16,7 @@
   getDirectorySubdirectorySlug,
   segmentFeaturedListings,
   resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../src/lib/directory-helpers.js';
@@ -24,6 +25,7 @@
   matchSubdomainRequest,
   buildDirectoryResponseTargets,
 } from '../src/lib/directory-routing.js';
+import { siteConfig } from '../src/config/site-config.js';
 
 const sampleDirectories = [
   {
@@ -144,6 +146,12 @@
   },
 ];
 
+const cloneDirectory = (directory) => ({
+  ...directory,
+  category: directory?.category ? { ...directory.category } : undefined,
+  location: directory?.location ? { ...directory.location } : undefined,
+});
+
 test('sortListingsByScore orders items descending without mutating input', () => {
   const original = sampleDirectories[0].listings;
   const sorted = sortListingsByScore(original);
@@ -474,6 +482,41 @@
   );
 });
 
+test('buildDirectorySeoMetadata prioritizes directory overrides and normalizes keywords', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '  Custom NYC Pros ',
+    metaDescription: '  Tailored copy for editors ',
+    metaKeywords: 'hvac, electricians , 24/7 dispatch ,',
+    ogImageUrl: 'https://cdn.example.com/og/custom.png',
+  });
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Custom NYC Pros');
+  assert.strictEqual(result.description, 'Tailored copy for editors');
+  assert.strictEqual(result.keywords, 'hvac, electricians, 24/7 dispatch');
+  assert.strictEqual(result.image, 'https://cdn.example.com/og/custom.png');
+});
+
+test('buildDirectorySeoMetadata falls back to hero subtitle and category metadata when overrides missing', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '',
+    title: '',
+    metaDescription: '',
+    metaKeywords: '',
+    ogImageUrl: '',
+    heroSubtitle: '  Rapid crews with on-call supervisors ',
+  });
+  directory.category.metaDescription = '';
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Professional Services Directory · New York City');
+  assert.strictEqual(result.description, 'Rapid crews with on-call supervisors');
+  assert.strictEqual(result.keywords, null);
+  assert.strictEqual(result.image, siteConfig.defaultOgImage);
+});
+
 test('matchSubdirectoryRequest returns normalized directory + optional subcategory', () => {
   const baseMatch = matchSubdirectoryRequest(
     sampleDirectories,


thinking
**Identifying subtitle line range**
exec
bash -lc "nl -ba apps/web/src/components/DirectoryPage.astro | sed -n '120,150p'" in /var/home/rick/Development/mega-directory succeeded in 42ms:
   120	      <span>{directory.category.name}</span>
   121	      <span class="mx-2 text-slate-600">/</span>
   122	      <span>{directory.location.name}</span>
   123	    </nav>
   124	    <div class="space-y-3">
   125	      <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
   126	      {heroSubtitle && <p class="text-sm text-slate-300">{heroSubtitle}</p>}
   127	    </div>
   128	    <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
   129	      {heroStats.map((stat) => (
   130	        <div class="rounded-2xl border border-white/10 bg-white/5 p-4 text-center">
   131	          <dt class="text-xs uppercase tracking-[0.3em] text-slate-400">{stat.label}</dt>
   132	          <dd class="text-2xl font-semibold text-white">{stat.value}</dd>
   133	        </div>
   134	      ))}
   135	    </dl>
   136	  </section>
   137	
   138	  {showDirectoryMap && (
   139	    <DirectoryMap
file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..3d48c2ec8b13600e84bb7d9b8b43ac09b548fd73
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
@@ -131,7 +123,7 @@
     </nav>
     <div class="space-y-3">
       <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+      {heroSubtitle && <p class="text-sm text-slate-300">{heroSubtitle}</p>}
     </div>
     <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
       {heroStats.map((stat) => (
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..e7ba66f77954f7c7f4961786f815d4d12b188946
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -130,6 +134,10 @@
     name: 'Denver Professional Services',
     heroTitle: 'Rocky Mountain Response Teams',
     heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
+    metaTitle: 'Professional Services in Denver',
+    metaDescription: 'High-altitude contractors for roofing, HVAC, and facilities teams across the Front Range.',
+    metaKeywords: 'contractors, roofing, hvac, denver',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-denver.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -217,6 +225,10 @@
     name: 'NYC Hiring Partners',
     heroTitle: 'Recruiters for media, finance, and tech',
     heroSubtitle: 'Boutique teams with candidate briefing portals and pay transparency baked in.',
+    metaTitle: 'NYC Jobs & Recruiters',
+    metaDescription: 'Recruiting partners and job boards covering finance, media, and tech roles in New York City.',
+    metaKeywords: 'jobs, recruiters, nyc, talent partners',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-nyc.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
@@ -309,6 +321,10 @@
     name: 'Bay Area Hiring Partners',
     heroTitle: 'Operator-friendly recruiters on the West Coast',
     heroSubtitle: 'Embedded sourcers plus candidate concierge support for relocation.',
+    metaTitle: 'Bay Area Jobs & Recruiters',
+    metaDescription: 'Fractional and embedded recruiting teams covering product, design, and GTM roles in the Bay Area.',
+    metaKeywords: 'jobs, recruiters, bay area, san francisco',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-sf.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];
diff --git a/apps/web/test/directory-helpers.test.mjs b/apps/web/test/directory-helpers.test.mjs
index da16c7abe7e229891080cbfd761b57dfdad3c25f..7e3bacfbae8f0d4a0f6a052fbc8425a43f3a5a5a
--- a/apps/web/test/directory-helpers.test.mjs
+++ b/apps/web/test/directory-helpers.test.mjs
@@ -16,6 +16,7 @@
   getDirectorySubdirectorySlug,
   segmentFeaturedListings,
   resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../src/lib/directory-helpers.js';
@@ -24,6 +25,7 @@
   matchSubdomainRequest,
   buildDirectoryResponseTargets,
 } from '../src/lib/directory-routing.js';
+import { siteConfig } from '../src/config/site-config.js';
 
 const sampleDirectories = [
   {
@@ -144,6 +146,12 @@
   },
 ];
 
+const cloneDirectory = (directory) => ({
+  ...directory,
+  category: directory?.category ? { ...directory.category } : undefined,
+  location: directory?.location ? { ...directory.location } : undefined,
+});
+
 test('sortListingsByScore orders items descending without mutating input', () => {
   const original = sampleDirectories[0].listings;
   const sorted = sortListingsByScore(original);
@@ -474,6 +482,41 @@
   );
 });
 
+test('buildDirectorySeoMetadata prioritizes directory overrides and normalizes keywords', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '  Custom NYC Pros ',
+    metaDescription: '  Tailored copy for editors ',
+    metaKeywords: 'hvac, electricians , 24/7 dispatch ,',
+    ogImageUrl: 'https://cdn.example.com/og/custom.png',
+  });
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Custom NYC Pros');
+  assert.strictEqual(result.description, 'Tailored copy for editors');
+  assert.strictEqual(result.keywords, 'hvac, electricians, 24/7 dispatch');
+  assert.strictEqual(result.image, 'https://cdn.example.com/og/custom.png');
+});
+
+test('buildDirectorySeoMetadata falls back to hero subtitle and category metadata when overrides missing', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '',
+    title: '',
+    metaDescription: '',
+    metaKeywords: '',
+    ogImageUrl: '',
+    heroSubtitle: '  Rapid crews with on-call supervisors ',
+  });
+  directory.category.metaDescription = '';
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Professional Services Directory · New York City');
+  assert.strictEqual(result.description, 'Rapid crews with on-call supervisors');
+  assert.strictEqual(result.keywords, null);
+  assert.strictEqual(result.image, siteConfig.defaultOgImage);
+});
+
 test('matchSubdirectoryRequest returns normalized directory + optional subcategory', () => {
   const baseMatch = matchSubdirectoryRequest(
     sampleDirectories,


thinking
**Inspecting BaseLayout file lines**
exec
bash -lc "nl -ba apps/web/src/layouts/BaseLayout.astro | sed -n '1,140p'" in /var/home/rick/Development/mega-directory succeeded in 41ms:
     1	---
     2	import SiteFooter from '../components/SiteFooter.astro';
     3	import SiteHeader from '../components/SiteHeader.astro';
     4	import { siteConfig } from '../config/site-config.js';
     5	import '../styles/global.css';
     6	
     7	const {
     8	  title,
     9	  description,
    10	  navItems,
    11	  showHeader = true,
    12	  showFooter = true,
    13	  seo = {},
    14	} = Astro.props;
    15	
    16	const siteName = siteConfig.siteName;
    17	const resolvedTitle = title ?? siteName;
    18	const computedTitle =
    19	  seo.title ??
    20	  (resolvedTitle === siteName ? siteName : `${resolvedTitle} · ${siteName}`);
file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..3d48c2ec8b13600e84bb7d9b8b43ac09b548fd73
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
@@ -131,7 +123,7 @@
     </nav>
     <div class="space-y-3">
       <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+      {heroSubtitle && <p class="text-sm text-slate-300">{heroSubtitle}</p>}
     </div>
     <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
       {heroStats.map((stat) => (
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..e7ba66f77954f7c7f4961786f815d4d12b188946
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -130,6 +134,10 @@
     name: 'Denver Professional Services',
     heroTitle: 'Rocky Mountain Response Teams',
     heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
+    metaTitle: 'Professional Services in Denver',
+    metaDescription: 'High-altitude contractors for roofing, HVAC, and facilities teams across the Front Range.',
+    metaKeywords: 'contractors, roofing, hvac, denver',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-denver.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -217,6 +225,10 @@
     name: 'NYC Hiring Partners',
     heroTitle: 'Recruiters for media, finance, and tech',
     heroSubtitle: 'Boutique teams with candidate briefing portals and pay transparency baked in.',
+    metaTitle: 'NYC Jobs & Recruiters',
+    metaDescription: 'Recruiting partners and job boards covering finance, media, and tech roles in New York City.',
+    metaKeywords: 'jobs, recruiters, nyc, talent partners',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-nyc.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
@@ -309,6 +321,10 @@
     name: 'Bay Area Hiring Partners',
     heroTitle: 'Operator-friendly recruiters on the West Coast',
     heroSubtitle: 'Embedded sourcers plus candidate concierge support for relocation.',
+    metaTitle: 'Bay Area Jobs & Recruiters',
+    metaDescription: 'Fractional and embedded recruiting teams covering product, design, and GTM roles in the Bay Area.',
+    metaKeywords: 'jobs, recruiters, bay area, san francisco',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-sf.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];
diff --git a/apps/web/test/directory-helpers.test.mjs b/apps/web/test/directory-helpers.test.mjs
index da16c7abe7e229891080cbfd761b57dfdad3c25f..7e3bacfbae8f0d4a0f6a052fbc8425a43f3a5a5a
--- a/apps/web/test/directory-helpers.test.mjs
+++ b/apps/web/test/directory-helpers.test.mjs
@@ -16,6 +16,7 @@
   getDirectorySubdirectorySlug,
   segmentFeaturedListings,
   resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../src/lib/directory-helpers.js';
@@ -24,6 +25,7 @@
   matchSubdomainRequest,
   buildDirectoryResponseTargets,
 } from '../src/lib/directory-routing.js';
+import { siteConfig } from '../src/config/site-config.js';
 
 const sampleDirectories = [
   {
@@ -144,6 +146,12 @@
   },
 ];
 
+const cloneDirectory = (directory) => ({
+  ...directory,
+  category: directory?.category ? { ...directory.category } : undefined,
+  location: directory?.location ? { ...directory.location } : undefined,
+});
+
 test('sortListingsByScore orders items descending without mutating input', () => {
   const original = sampleDirectories[0].listings;
   const sorted = sortListingsByScore(original);
@@ -474,6 +482,41 @@
   );
 });
 
+test('buildDirectorySeoMetadata prioritizes directory overrides and normalizes keywords', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '  Custom NYC Pros ',
+    metaDescription: '  Tailored copy for editors ',
+    metaKeywords: 'hvac, electricians , 24/7 dispatch ,',
+    ogImageUrl: 'https://cdn.example.com/og/custom.png',
+  });
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Custom NYC Pros');
+  assert.strictEqual(result.description, 'Tailored copy for editors');
+  assert.strictEqual(result.keywords, 'hvac, electricians, 24/7 dispatch');
+  assert.strictEqual(result.image, 'https://cdn.example.com/og/custom.png');
+});
+
+test('buildDirectorySeoMetadata falls back to hero subtitle and category metadata when overrides missing', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '',
+    title: '',
+    metaDescription: '',
+    metaKeywords: '',
+    ogImageUrl: '',
+    heroSubtitle: '  Rapid crews with on-call supervisors ',
+  });
+  directory.category.metaDescription = '';
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Professional Services Directory · New York City');
+  assert.strictEqual(result.description, 'Rapid crews with on-call supervisors');
+  assert.strictEqual(result.keywords, null);
+  assert.strictEqual(result.image, siteConfig.defaultOgImage);
+});
+
 test('matchSubdirectoryRequest returns normalized directory + optional subcategory', () => {
   const baseMatch = matchSubdirectoryRequest(
     sampleDirectories,


thinking
**Gathering line numbers for citations**
exec
bash -lc "nl -ba apps/web/src/data/directory-catalog.js | sed -n '1,120p'" in /var/home/rick/Development/mega-directory succeeded in 41ms:
     1	export const directoryCatalog = [
     2	  {
     3	    slug: 'professional-services-new-york-city',
     4	    subdomain: 'pros-nyc',
     5	    subdirectory: 'professional-services/new-york-city',
     6	    locationAgnostic: false,
     7	    name: 'NYC Professional Services',
     8	    heroTitle: 'Trusted Pros in New York City',
     9	    heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
    10	    metaTitle: 'Professional Services in NYC',
    11	    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
    12	    metaKeywords: 'electricians, hvac, maintenance, new york city',
    13	    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
    14	    category: {
    15	      slug: 'professional-services',
    16	      name: 'Professional Services',
    17	      description: 'Verified operators for commercial and residential work orders.',
    18	      metaTitle: 'Professional Services Directory',
    19	      metaDescription: 'Curated electricians, HVAC crews, and facilities partners.',
    20	    },
file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..3d48c2ec8b13600e84bb7d9b8b43ac09b548fd73
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
@@ -131,7 +123,7 @@
     </nav>
     <div class="space-y-3">
       <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+      {heroSubtitle && <p class="text-sm text-slate-300">{heroSubtitle}</p>}
     </div>
     <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
       {heroStats.map((stat) => (
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..e7ba66f77954f7c7f4961786f815d4d12b188946
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -130,6 +134,10 @@
     name: 'Denver Professional Services',
     heroTitle: 'Rocky Mountain Response Teams',
     heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
+    metaTitle: 'Professional Services in Denver',
+    metaDescription: 'High-altitude contractors for roofing, HVAC, and facilities teams across the Front Range.',
+    metaKeywords: 'contractors, roofing, hvac, denver',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-denver.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -217,6 +225,10 @@
     name: 'NYC Hiring Partners',
     heroTitle: 'Recruiters for media, finance, and tech',
     heroSubtitle: 'Boutique teams with candidate briefing portals and pay transparency baked in.',
+    metaTitle: 'NYC Jobs & Recruiters',
+    metaDescription: 'Recruiting partners and job boards covering finance, media, and tech roles in New York City.',
+    metaKeywords: 'jobs, recruiters, nyc, talent partners',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-nyc.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
@@ -309,6 +321,10 @@
     name: 'Bay Area Hiring Partners',
     heroTitle: 'Operator-friendly recruiters on the West Coast',
     heroSubtitle: 'Embedded sourcers plus candidate concierge support for relocation.',
+    metaTitle: 'Bay Area Jobs & Recruiters',
+    metaDescription: 'Fractional and embedded recruiting teams covering product, design, and GTM roles in the Bay Area.',
+    metaKeywords: 'jobs, recruiters, bay area, san francisco',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-sf.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];
diff --git a/apps/web/test/directory-helpers.test.mjs b/apps/web/test/directory-helpers.test.mjs
index da16c7abe7e229891080cbfd761b57dfdad3c25f..7e3bacfbae8f0d4a0f6a052fbc8425a43f3a5a5a
--- a/apps/web/test/directory-helpers.test.mjs
+++ b/apps/web/test/directory-helpers.test.mjs
@@ -16,6 +16,7 @@
   getDirectorySubdirectorySlug,
   segmentFeaturedListings,
   resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../src/lib/directory-helpers.js';
@@ -24,6 +25,7 @@
   matchSubdomainRequest,
   buildDirectoryResponseTargets,
 } from '../src/lib/directory-routing.js';
+import { siteConfig } from '../src/config/site-config.js';
 
 const sampleDirectories = [
   {
@@ -144,6 +146,12 @@
   },
 ];
 
+const cloneDirectory = (directory) => ({
+  ...directory,
+  category: directory?.category ? { ...directory.category } : undefined,
+  location: directory?.location ? { ...directory.location } : undefined,
+});
+
 test('sortListingsByScore orders items descending without mutating input', () => {
   const original = sampleDirectories[0].listings;
   const sorted = sortListingsByScore(original);
@@ -474,6 +482,41 @@
   );
 });
 
+test('buildDirectorySeoMetadata prioritizes directory overrides and normalizes keywords', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '  Custom NYC Pros ',
+    metaDescription: '  Tailored copy for editors ',
+    metaKeywords: 'hvac, electricians , 24/7 dispatch ,',
+    ogImageUrl: 'https://cdn.example.com/og/custom.png',
+  });
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Custom NYC Pros');
+  assert.strictEqual(result.description, 'Tailored copy for editors');
+  assert.strictEqual(result.keywords, 'hvac, electricians, 24/7 dispatch');
+  assert.strictEqual(result.image, 'https://cdn.example.com/og/custom.png');
+});
+
+test('buildDirectorySeoMetadata falls back to hero subtitle and category metadata when overrides missing', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '',
+    title: '',
+    metaDescription: '',
+    metaKeywords: '',
+    ogImageUrl: '',
+    heroSubtitle: '  Rapid crews with on-call supervisors ',
+  });
+  directory.category.metaDescription = '';
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Professional Services Directory · New York City');
+  assert.strictEqual(result.description, 'Rapid crews with on-call supervisors');
+  assert.strictEqual(result.keywords, null);
+  assert.strictEqual(result.image, siteConfig.defaultOgImage);
+});
+
 test('matchSubdirectoryRequest returns normalized directory + optional subcategory', () => {
   const baseMatch = matchSubdirectoryRequest(
     sampleDirectories,


thinking
**Gathering line numbers for references**
exec
bash -lc "nl -ba apps/web/test/directory-helpers.test.mjs | sed -n '420,520p'" in /var/home/rick/Development/mega-directory succeeded in 41ms:
   420	
   421	test('segmentFeaturedListings returns hero + tier-two slots with remaining listings pruned', () => {
   422	  const result = segmentFeaturedListings(sampleDirectories[0]);
   423	
   424	  assert.ok(result.hero, 'hero slot should resolve');
   425	  assert.strictEqual(result.hero.listing.slug, 'bright-sparks');
   426	  assert.strictEqual(result.hero.slot.label, 'Editor pick');
   427	  assert.strictEqual(result.hero.slot.tier, 'HERO');
   428	
   429	  assert.strictEqual(result.tierTwo.length, 1, 'one tier-two slot resolved');
   430	  assert.strictEqual(result.tierTwo[0].listing.slug, 'harbor-hvac');
   431	  assert.strictEqual(result.tierTwo[0].slot.tier, 'PREMIUM');
   432	
   433	  assert.deepStrictEqual(
   434	    result.remainingListings.map((listing) => listing.slug),
   435	    ['metro-clean'],
   436	    'remaining listings exclude featured ones'
   437	  );
   438	});
   439	
file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..3d48c2ec8b13600e84bb7d9b8b43ac09b548fd73
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
@@ -131,7 +123,7 @@
     </nav>
     <div class="space-y-3">
       <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+      {heroSubtitle && <p class="text-sm text-slate-300">{heroSubtitle}</p>}
     </div>
     <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
       {heroStats.map((stat) => (
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..e7ba66f77954f7c7f4961786f815d4d12b188946
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -130,6 +134,10 @@
     name: 'Denver Professional Services',
     heroTitle: 'Rocky Mountain Response Teams',
     heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
+    metaTitle: 'Professional Services in Denver',
+    metaDescription: 'High-altitude contractors for roofing, HVAC, and facilities teams across the Front Range.',
+    metaKeywords: 'contractors, roofing, hvac, denver',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-denver.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -217,6 +225,10 @@
     name: 'NYC Hiring Partners',
     heroTitle: 'Recruiters for media, finance, and tech',
     heroSubtitle: 'Boutique teams with candidate briefing portals and pay transparency baked in.',
+    metaTitle: 'NYC Jobs & Recruiters',
+    metaDescription: 'Recruiting partners and job boards covering finance, media, and tech roles in New York City.',
+    metaKeywords: 'jobs, recruiters, nyc, talent partners',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-nyc.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
@@ -309,6 +321,10 @@
     name: 'Bay Area Hiring Partners',
     heroTitle: 'Operator-friendly recruiters on the West Coast',
     heroSubtitle: 'Embedded sourcers plus candidate concierge support for relocation.',
+    metaTitle: 'Bay Area Jobs & Recruiters',
+    metaDescription: 'Fractional and embedded recruiting teams covering product, design, and GTM roles in the Bay Area.',
+    metaKeywords: 'jobs, recruiters, bay area, san francisco',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-sf.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];
diff --git a/apps/web/test/directory-helpers.test.mjs b/apps/web/test/directory-helpers.test.mjs
index da16c7abe7e229891080cbfd761b57dfdad3c25f..7e3bacfbae8f0d4a0f6a052fbc8425a43f3a5a5a
--- a/apps/web/test/directory-helpers.test.mjs
+++ b/apps/web/test/directory-helpers.test.mjs
@@ -16,6 +16,7 @@
   getDirectorySubdirectorySlug,
   segmentFeaturedListings,
   resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../src/lib/directory-helpers.js';
@@ -24,6 +25,7 @@
   matchSubdomainRequest,
   buildDirectoryResponseTargets,
 } from '../src/lib/directory-routing.js';
+import { siteConfig } from '../src/config/site-config.js';
 
 const sampleDirectories = [
   {
@@ -144,6 +146,12 @@
   },
 ];
 
+const cloneDirectory = (directory) => ({
+  ...directory,
+  category: directory?.category ? { ...directory.category } : undefined,
+  location: directory?.location ? { ...directory.location } : undefined,
+});
+
 test('sortListingsByScore orders items descending without mutating input', () => {
   const original = sampleDirectories[0].listings;
   const sorted = sortListingsByScore(original);
@@ -474,6 +482,41 @@
   );
 });
 
+test('buildDirectorySeoMetadata prioritizes directory overrides and normalizes keywords', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '  Custom NYC Pros ',
+    metaDescription: '  Tailored copy for editors ',
+    metaKeywords: 'hvac, electricians , 24/7 dispatch ,',
+    ogImageUrl: 'https://cdn.example.com/og/custom.png',
+  });
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Custom NYC Pros');
+  assert.strictEqual(result.description, 'Tailored copy for editors');
+  assert.strictEqual(result.keywords, 'hvac, electricians, 24/7 dispatch');
+  assert.strictEqual(result.image, 'https://cdn.example.com/og/custom.png');
+});
+
+test('buildDirectorySeoMetadata falls back to hero subtitle and category metadata when overrides missing', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '',
+    title: '',
+    metaDescription: '',
+    metaKeywords: '',
+    ogImageUrl: '',
+    heroSubtitle: '  Rapid crews with on-call supervisors ',
+  });
+  directory.category.metaDescription = '';
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Professional Services Directory · New York City');
+  assert.strictEqual(result.description, 'Rapid crews with on-call supervisors');
+  assert.strictEqual(result.keywords, null);
+  assert.strictEqual(result.image, siteConfig.defaultOgImage);
+});
+
 test('matchSubdirectoryRequest returns normalized directory + optional subcategory', () => {
   const baseMatch = matchSubdirectoryRequest(
     sampleDirectories,


thinking
**Summarizing change references and test plans**
exec
bash -lc 'rg -n "cloneDirectory" apps/web/test/directory-helpers.test.mjs' in /var/home/rick/Development/mega-directory succeeded in 40ms:
149:const cloneDirectory = (directory) => ({
486:  const directory = cloneDirectory(sampleDirectories[0]);
502:  const directory = cloneDirectory(sampleDirectories[0]);
file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..3d48c2ec8b13600e84bb7d9b8b43ac09b548fd73
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
@@ -131,7 +123,7 @@
     </nav>
     <div class="space-y-3">
       <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+      {heroSubtitle && <p class="text-sm text-slate-300">{heroSubtitle}</p>}
     </div>
     <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
       {heroStats.map((stat) => (
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..e7ba66f77954f7c7f4961786f815d4d12b188946
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -130,6 +134,10 @@
     name: 'Denver Professional Services',
     heroTitle: 'Rocky Mountain Response Teams',
     heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
+    metaTitle: 'Professional Services in Denver',
+    metaDescription: 'High-altitude contractors for roofing, HVAC, and facilities teams across the Front Range.',
+    metaKeywords: 'contractors, roofing, hvac, denver',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-denver.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -217,6 +225,10 @@
     name: 'NYC Hiring Partners',
     heroTitle: 'Recruiters for media, finance, and tech',
     heroSubtitle: 'Boutique teams with candidate briefing portals and pay transparency baked in.',
+    metaTitle: 'NYC Jobs & Recruiters',
+    metaDescription: 'Recruiting partners and job boards covering finance, media, and tech roles in New York City.',
+    metaKeywords: 'jobs, recruiters, nyc, talent partners',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-nyc.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
@@ -309,6 +321,10 @@
     name: 'Bay Area Hiring Partners',
     heroTitle: 'Operator-friendly recruiters on the West Coast',
     heroSubtitle: 'Embedded sourcers plus candidate concierge support for relocation.',
+    metaTitle: 'Bay Area Jobs & Recruiters',
+    metaDescription: 'Fractional and embedded recruiting teams covering product, design, and GTM roles in the Bay Area.',
+    metaKeywords: 'jobs, recruiters, bay area, san francisco',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-sf.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];
diff --git a/apps/web/test/directory-helpers.test.mjs b/apps/web/test/directory-helpers.test.mjs
index da16c7abe7e229891080cbfd761b57dfdad3c25f..7e3bacfbae8f0d4a0f6a052fbc8425a43f3a5a5a
--- a/apps/web/test/directory-helpers.test.mjs
+++ b/apps/web/test/directory-helpers.test.mjs
@@ -16,6 +16,7 @@
   getDirectorySubdirectorySlug,
   segmentFeaturedListings,
   resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../src/lib/directory-helpers.js';
@@ -24,6 +25,7 @@
   matchSubdomainRequest,
   buildDirectoryResponseTargets,
 } from '../src/lib/directory-routing.js';
+import { siteConfig } from '../src/config/site-config.js';
 
 const sampleDirectories = [
   {
@@ -144,6 +146,12 @@
   },
 ];
 
+const cloneDirectory = (directory) => ({
+  ...directory,
+  category: directory?.category ? { ...directory.category } : undefined,
+  location: directory?.location ? { ...directory.location } : undefined,
+});
+
 test('sortListingsByScore orders items descending without mutating input', () => {
   const original = sampleDirectories[0].listings;
   const sorted = sortListingsByScore(original);
@@ -474,6 +482,41 @@
   );
 });
 
+test('buildDirectorySeoMetadata prioritizes directory overrides and normalizes keywords', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '  Custom NYC Pros ',
+    metaDescription: '  Tailored copy for editors ',
+    metaKeywords: 'hvac, electricians , 24/7 dispatch ,',
+    ogImageUrl: 'https://cdn.example.com/og/custom.png',
+  });
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Custom NYC Pros');
+  assert.strictEqual(result.description, 'Tailored copy for editors');
+  assert.strictEqual(result.keywords, 'hvac, electricians, 24/7 dispatch');
+  assert.strictEqual(result.image, 'https://cdn.example.com/og/custom.png');
+});
+
+test('buildDirectorySeoMetadata falls back to hero subtitle and category metadata when overrides missing', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '',
+    title: '',
+    metaDescription: '',
+    metaKeywords: '',
+    ogImageUrl: '',
+    heroSubtitle: '  Rapid crews with on-call supervisors ',
+  });
+  directory.category.metaDescription = '';
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Professional Services Directory · New York City');
+  assert.strictEqual(result.description, 'Rapid crews with on-call supervisors');
+  assert.strictEqual(result.keywords, null);
+  assert.strictEqual(result.image, siteConfig.defaultOgImage);
+});
+
 test('matchSubdirectoryRequest returns normalized directory + optional subcategory', () => {
   const baseMatch = matchSubdirectoryRequest(
     sampleDirectories,


thinking
**Summarizing test and next steps**
codex
**Changes**
- Added keyword/url sanitizers and a centralized `buildDirectorySeoMetadata` helper so canonical titles, descriptions, keywords, and OG images now resolve from directory fields with sensible fallbacks (`apps/web/src/lib/directory-helpers.js:79`, `apps/web/src/lib/directory-helpers.js:384`).
- Directory pages pull that helper output, forward keywords into the layout, and only render hero subtitles when content exists, ensuring the SSR head reflects directory configuration (`apps/web/src/components/DirectoryPage.astro:3`, `apps/web/src/components/DirectoryPage.astro:25`, `apps/web/src/components/DirectoryPage.astro:124`).
- Base layout now emits `<meta name="keywords">` whenever SEO data provides it, aligning with canonical tag requirements (`apps/web/src/layouts/BaseLayout.astro:39`).
- Static directory catalog entries gained per-page metaTitle/metaDescription/metaKeywords/ogImageUrl fields so local builds exercise the new SEO path before live API data arrives (`apps/web/src/data/directory-catalog.js:3`, `apps/web/src/data/directory-catalog.js:130`, `apps/web/src/data/directory-catalog.js:221`, `apps/web/src/data/directory-catalog.js:317`).
- Extended helper tests with a cloning utility and new cases that confirm overrides, keyword normalization, and hero/site fallbacks behave as expected (`apps/web/test/directory-helpers.test.mjs:149`, `apps/web/test/directory-helpers.test.mjs:485`, `apps/web/test/directory-helpers.test.mjs:502`).

**Tests**
- `npm test`

**Next Steps**
1. Spot-check the rendered head tags in an Astro `dev` session (or built HTML) to confirm real directory/API data flows into the new SEO helper as expected, especially when subdomain routing toggles.
file update:
diff --git a/apps/web/src/components/DirectoryPage.astro b/apps/web/src/components/DirectoryPage.astro
index d8a5516fbe43389157ba173fac1035716c065737..3d48c2ec8b13600e84bb7d9b8b43ac09b548fd73
--- a/apps/web/src/components/DirectoryPage.astro
+++ b/apps/web/src/components/DirectoryPage.astro
@@ -1,7 +1,7 @@
 ---
 import BaseLayout from '../layouts/BaseLayout.astro';
 import {
-  resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../lib/directory-helpers.js';
@@ -22,30 +22,22 @@
   subcategorySlug = null,
 } = Astro.props;
 
-const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
-const locationName = typeof directory?.location?.name === 'string' ? directory.location.name : '';
-const hasExplicitCategoryDescription =
-  typeof directory?.category?.metaDescription === 'string' &&
-  directory.category.metaDescription.trim().length > 0;
 const heroSubtitle = typeof directory?.heroSubtitle === 'string' ? directory.heroSubtitle.trim() : '';
-const fallbackDescription = heroSubtitle || categorySeo.metaDescription;
-const pageDescription = hasExplicitCategoryDescription ? categorySeo.metaDescription : fallbackDescription;
-const pageTitle = locationName ? `${categorySeo.metaTitle} · ${locationName}` : categorySeo.metaTitle;
+const directorySeo = buildDirectorySeoMetadata(directory);
+const pageTitle = directorySeo.title;
+const pageDescription = directorySeo.description;
+const metaKeywords = directorySeo.keywords;
 const routeMeta = directory?.routes ?? {};
 const activeRouteTargets = buildDirectoryResponseTargets(directory, subcategorySlug ?? '');
 const canonicalTarget =
   activeRouteTargets.canonicalUrl ?? activeRouteTargets.path ?? routeMeta.canonicalUrl ?? routeMeta.subdirectory;
-const ogImage =
-  typeof directory?.ogImage === 'string'
-    ? directory.ogImage
-    : typeof directory?.category?.ogImage === 'string'
-      ? directory.category.ogImage
-      : undefined;
+const ogImage = directorySeo.image;
 const seoPayload = {
   title: pageTitle,
   description: pageDescription,
   canonicalUrl: canonicalTarget,
   image: ogImage,
+  keywords: metaKeywords ?? undefined,
   openGraph: {
     image: ogImage,
     title: pageTitle,
@@ -131,7 +123,7 @@
     </nav>
     <div class="space-y-3">
       <h1 class="text-3xl font-semibold text-white">{directory.heroTitle}</h1>
-      <p class="text-sm text-slate-300">{directory.heroSubtitle}</p>
+      {heroSubtitle && <p class="text-sm text-slate-300">{heroSubtitle}</p>}
     </div>
     <dl class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
       {heroStats.map((stat) => (
diff --git a/apps/web/src/data/directory-catalog.js b/apps/web/src/data/directory-catalog.js
index b1964edc9bee2f678fca57fa51a28c1a4543a038..e7ba66f77954f7c7f4961786f815d4d12b188946
--- a/apps/web/src/data/directory-catalog.js
+++ b/apps/web/src/data/directory-catalog.js
@@ -7,6 +7,10 @@
     name: 'NYC Professional Services',
     heroTitle: 'Trusted Pros in New York City',
     heroSubtitle: 'Electricians, HVAC teams, and general contractors with transparent SLAs.',
+    metaTitle: 'Professional Services in NYC',
+    metaDescription: 'Hand-reviewed electricians, HVAC teams, and facilities partners across New York City.',
+    metaKeywords: 'electricians, hvac, maintenance, new york city',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-nyc.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -130,6 +134,10 @@
     name: 'Denver Professional Services',
     heroTitle: 'Rocky Mountain Response Teams',
     heroSubtitle: 'Contractors covering the Front Range with snow-readiness baked in.',
+    metaTitle: 'Professional Services in Denver',
+    metaDescription: 'High-altitude contractors for roofing, HVAC, and facilities teams across the Front Range.',
+    metaKeywords: 'contractors, roofing, hvac, denver',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/pros-denver.png',
     category: {
       slug: 'professional-services',
       name: 'Professional Services',
@@ -217,6 +225,10 @@
     name: 'NYC Hiring Partners',
     heroTitle: 'Recruiters for media, finance, and tech',
     heroSubtitle: 'Boutique teams with candidate briefing portals and pay transparency baked in.',
+    metaTitle: 'NYC Jobs & Recruiters',
+    metaDescription: 'Recruiting partners and job boards covering finance, media, and tech roles in New York City.',
+    metaKeywords: 'jobs, recruiters, nyc, talent partners',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-nyc.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
@@ -309,6 +321,10 @@
     name: 'Bay Area Hiring Partners',
     heroTitle: 'Operator-friendly recruiters on the West Coast',
     heroSubtitle: 'Embedded sourcers plus candidate concierge support for relocation.',
+    metaTitle: 'Bay Area Jobs & Recruiters',
+    metaDescription: 'Fractional and embedded recruiting teams covering product, design, and GTM roles in the Bay Area.',
+    metaKeywords: 'jobs, recruiters, bay area, san francisco',
+    ogImageUrl: 'https://cdn.megadirectory.local/og/jobs-sf.png',
     category: {
       slug: 'jobs',
       name: 'Jobs',
diff --git a/apps/web/src/layouts/BaseLayout.astro b/apps/web/src/layouts/BaseLayout.astro
index bc9d647891d12a609e4027ac76a977974d566469..edac312e2d22880ec57c623b64d6f92471335755
--- a/apps/web/src/layouts/BaseLayout.astro
+++ b/apps/web/src/layouts/BaseLayout.astro
@@ -36,6 +36,7 @@
 const ogTitle = seo.openGraph?.title ?? computedTitle;
 const ogDescription = seo.openGraph?.description ?? resolvedDescription;
 const ogType = seo.openGraph?.type ?? 'website';
+const keywords = typeof seo.keywords === 'string' ? seo.keywords : null;
 const twitterCard = seo.twitter?.card ?? 'summary_large_image';
 const twitterTitle = seo.twitter?.title ?? computedTitle;
 const twitterDescription = seo.twitter?.description ?? resolvedDescription;
@@ -52,6 +53,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>{computedTitle}</title>
     <meta name="description" content={resolvedDescription} />
+    {keywords && <meta name="keywords" content={keywords} />}
     {noindex && <meta name="robots" content="noindex, nofollow" />}
     {canonicalUrl && <link rel="canonical" href={canonicalUrl} />}
     <link
diff --git a/apps/web/src/lib/directory-helpers.js b/apps/web/src/lib/directory-helpers.js
index a75c39c6a0f7db0b683af89984bb29f734e1bd7e..705b1d66301efe6ac72fad6be8bd04e860dcdd85
--- a/apps/web/src/lib/directory-helpers.js
+++ b/apps/web/src/lib/directory-helpers.js
@@ -78,6 +78,24 @@
 
 const sanitizeText = (value) => (typeof value === 'string' ? value.trim() : '');
 
+const sanitizeKeywords = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value
+    .split(',')
+    .map((entry) => entry.trim())
+    .filter(Boolean)
+    .join(', ');
+};
+
+const sanitizeUrl = (value) => {
+  if (typeof value !== 'string') {
+    return '';
+  }
+  return value.trim();
+};
+
 const getListingSlug = (listing) => normalizeSlug(listing?.slug ?? listing?.name, '');
 
 const normalizeListingSubcategories = (entries) => {
@@ -363,6 +381,45 @@
   };
 }
 
+export function buildDirectorySeoMetadata(directory = {}) {
+  const categorySeo = resolveCategorySeoMetadata(directory?.category ?? {});
+  const locationName = sanitizeText(directory?.location?.name);
+  const directoryTitle = sanitizeText(directory?.title);
+  const explicitMetaTitle = sanitizeText(directory?.metaTitle);
+  const derivedCategoryTitle = locationName
+    ? `${categorySeo.metaTitle} · ${locationName}`
+    : categorySeo.metaTitle;
+  const resolvedTitle =
+    explicitMetaTitle ||
+    directoryTitle ||
+    derivedCategoryTitle ||
+    siteConfig.siteName ||
+    DEFAULT_DIRECTORY_NAME;
+
+  const explicitDescription = sanitizeText(directory?.metaDescription);
+  const heroSubtitle = sanitizeText(directory?.heroSubtitle);
+  const resolvedDescription =
+    explicitDescription ||
+    heroSubtitle ||
+    categorySeo.metaDescription ||
+    siteConfig.defaultDescription ||
+    DEFAULT_CATEGORY_DESCRIPTION_TEMPLATE.replace('NAME', DEFAULT_DIRECTORY_NAME);
+
+  const keywords = sanitizeKeywords(directory?.metaKeywords);
+  const image =
+    sanitizeUrl(directory?.ogImageUrl) ||
+    sanitizeUrl(directory?.ogImage) ||
+    sanitizeUrl(directory?.category?.ogImageUrl) ||
+    sanitizeUrl(siteConfig.defaultOgImage);
+
+  return {
+    title: resolvedTitle,
+    description: resolvedDescription,
+    keywords: keywords || null,
+    image: image || null,
+  };
+}
+
 export function buildDirectorySubcategories(directory) {
   if (!directory) {
     return [];
diff --git a/apps/web/test/directory-helpers.test.mjs b/apps/web/test/directory-helpers.test.mjs
index da16c7abe7e229891080cbfd761b57dfdad3c25f..7e3bacfbae8f0d4a0f6a052fbc8425a43f3a5a5a
--- a/apps/web/test/directory-helpers.test.mjs
+++ b/apps/web/test/directory-helpers.test.mjs
@@ -16,6 +16,7 @@
   getDirectorySubdirectorySlug,
   segmentFeaturedListings,
   resolveCategorySeoMetadata,
+  buildDirectorySeoMetadata,
   buildDirectoryMapPins,
   shouldRenderDirectoryMap,
 } from '../src/lib/directory-helpers.js';
@@ -24,6 +25,7 @@
   matchSubdomainRequest,
   buildDirectoryResponseTargets,
 } from '../src/lib/directory-routing.js';
+import { siteConfig } from '../src/config/site-config.js';
 
 const sampleDirectories = [
   {
@@ -144,6 +146,12 @@
   },
 ];
 
+const cloneDirectory = (directory) => ({
+  ...directory,
+  category: directory?.category ? { ...directory.category } : undefined,
+  location: directory?.location ? { ...directory.location } : undefined,
+});
+
 test('sortListingsByScore orders items descending without mutating input', () => {
   const original = sampleDirectories[0].listings;
   const sorted = sortListingsByScore(original);
@@ -474,6 +482,41 @@
   );
 });
 
+test('buildDirectorySeoMetadata prioritizes directory overrides and normalizes keywords', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '  Custom NYC Pros ',
+    metaDescription: '  Tailored copy for editors ',
+    metaKeywords: 'hvac, electricians , 24/7 dispatch ,',
+    ogImageUrl: 'https://cdn.example.com/og/custom.png',
+  });
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Custom NYC Pros');
+  assert.strictEqual(result.description, 'Tailored copy for editors');
+  assert.strictEqual(result.keywords, 'hvac, electricians, 24/7 dispatch');
+  assert.strictEqual(result.image, 'https://cdn.example.com/og/custom.png');
+});
+
+test('buildDirectorySeoMetadata falls back to hero subtitle and category metadata when overrides missing', () => {
+  const directory = cloneDirectory(sampleDirectories[0]);
+  Object.assign(directory, {
+    metaTitle: '',
+    title: '',
+    metaDescription: '',
+    metaKeywords: '',
+    ogImageUrl: '',
+    heroSubtitle: '  Rapid crews with on-call supervisors ',
+  });
+  directory.category.metaDescription = '';
+
+  const result = buildDirectorySeoMetadata(directory);
+  assert.strictEqual(result.title, 'Professional Services Directory · New York City');
+  assert.strictEqual(result.description, 'Rapid crews with on-call supervisors');
+  assert.strictEqual(result.keywords, null);
+  assert.strictEqual(result.image, siteConfig.defaultOgImage);
+});
+
 test('matchSubdirectoryRequest returns normalized directory + optional subcategory', () => {
   const baseMatch = matchSubdirectoryRequest(
     sampleDirectories,

tokens used
191,418
**Changes**
- Added keyword/url sanitizers and a centralized `buildDirectorySeoMetadata` helper so canonical titles, descriptions, keywords, and OG images now resolve from directory fields with sensible fallbacks (`apps/web/src/lib/directory-helpers.js:79`, `apps/web/src/lib/directory-helpers.js:384`).
- Directory pages pull that helper output, forward keywords into the layout, and only render hero subtitles when content exists, ensuring the SSR head reflects directory configuration (`apps/web/src/components/DirectoryPage.astro:3`, `apps/web/src/components/DirectoryPage.astro:25`, `apps/web/src/components/DirectoryPage.astro:124`).
- Base layout now emits `<meta name="keywords">` whenever SEO data provides it, aligning with canonical tag requirements (`apps/web/src/layouts/BaseLayout.astro:39`).
- Static directory catalog entries gained per-page metaTitle/metaDescription/metaKeywords/ogImageUrl fields so local builds exercise the new SEO path before live API data arrives (`apps/web/src/data/directory-catalog.js:3`, `apps/web/src/data/directory-catalog.js:130`, `apps/web/src/data/directory-catalog.js:221`, `apps/web/src/data/directory-catalog.js:317`).
- Extended helper tests with a cloning utility and new cases that confirm overrides, keyword normalization, and hero/site fallbacks behave as expected (`apps/web/test/directory-helpers.test.mjs:149`, `apps/web/test/directory-helpers.test.mjs:485`, `apps/web/test/directory-helpers.test.mjs:502`).

**Tests**
- `npm test`

**Next Steps**
1. Spot-check the rendered head tags in an Astro `dev` session (or built HTML) to confirm real directory/API data flows into the new SEO helper as expected, especially when subdomain routing toggles.
