# Mega Directory Environment Variables
# Copy this file to .env and customize for your environment

# ============================================================================
# Service Ports (for running multiple dev instances simultaneously)
# ============================================================================
API_PORT=3030
ASTRO_PORT=3000
ADMIN_PORT=4000

# ============================================================================
# Database Configuration
# ============================================================================
# Configure these to run multiple dev instances on different ports
DB_PORT=5432
DB_HOST=localhost
DB_USER=postgres
DB_PASSWORD=password
DB_NAME=mega_directory

# Full DATABASE_URL (overrides individual DB_* settings if set)
# DATABASE_URL=postgresql://postgres:password@localhost:5432/mega_directory

# ============================================================================
# Authentication & Security
# ============================================================================
ADMIN_JWT_SECRET=local-dev-secret
ADMIN_JWT_ISSUER=mega-directory
ADMIN_JWT_AUDIENCE=admin
ADMIN_TOKEN_TTL_SECONDS=900

# Admin Login Credentials
ADMIN_LOGIN_EMAIL=admin@example.com
ADMIN_LOGIN_PASSCODE=localpass

# API Tokens
CRAWLER_BEARER_TOKEN=crawler-dev-token
ADMIN_API_TOKEN=admin-dev-token

# ============================================================================
# API URLs
# ============================================================================
API_BASE_URL=http://localhost:3030
PUBLIC_API_BASE_URL=http://localhost:3030
ADMIN_API_BASE_URL=http://localhost:3030

# ============================================================================
# Crawler Configuration
# ============================================================================
CRAWLER_API_ENDPOINT=http://localhost:3030/v1/crawler/listings
CRAWLER_API_TOKEN=crawler-dev-token
CRAWLER_INTERVAL=45
CRAWLER_LOG_LEVEL=DEBUG

# Skip crawler in dev bootstrap script
# SKIP_CRAWLER=1

# ============================================================================
# External Services (Optional)
# ============================================================================

# Geocoding APIs
# GEOCODEMAPS_API_KEY=your-key-here
# GOOGLEMAPS_API_KEY=your-key-here

# LLM Providers (for crawler enrichment)
# OPENAI_API_KEY=your-key-here
# OPENROUTER_API_KEY=your-key-here
# GEMINI_API_KEY=your-key-here

# Text Import Configuration
# TEXT_IMPORT_LLM_PROVIDER=openrouter
# TEXT_IMPORT_LLM_MODEL=anthropic/claude-3.5-sonnet
# TEXT_IMPORT_LLM_API_KEY=your-key-here
# TEXT_IMPORT_LLM_BASE_URL=https://openrouter.ai/api/v1
# TEXT_IMPORT_LLM_TIMEOUT=120

# ============================================================================
# Development Settings
# ============================================================================
NODE_ENV=development
LOG_LEVEL=debug

# Force reinstall of dependencies in dev bootstrap
# DEV_BOOTSTRAP_FORCE_INSTALL=1

# Python interpreter to use
# PYTHON_BIN=python3

# ============================================================================
# Running Multiple Development Instances
# ============================================================================
# To run multiple instances on the same machine, use different ports:
#
# Instance 1 (default):
#   API_PORT=3030 ASTRO_PORT=3000 ADMIN_PORT=4000 DB_PORT=5432
#
# Instance 2:
#   API_PORT=3031 ASTRO_PORT=3001 ADMIN_PORT=4001 DB_PORT=5433 DB_NAME=mega_directory_2
#
# Example:
#   DB_PORT=5433 DB_NAME=mega_directory_2 API_PORT=3031 ASTRO_PORT=3001 ADMIN_PORT=4001 ./scripts/dev-bootstrap.sh
#
# With Docker Compose:
#   DB_PORT=5433 DB_NAME=mega_directory_2 API_PORT=3031 ASTRO_PORT=3001 docker compose up
