# Integration Test Checklist

## Service Startup
- [ ] Database container running
- [ ] API server starts without errors
- [ ] API logs show "Database connection successful"
- [ ] Admin UI starts without errors
- [ ] Admin UI logs show "Admin API health check passed"

## Authentication
- [ ] /health endpoint returns 200
- [ ] Requests with valid token succeed
- [ ] Requests without token return 401
- [ ] Requests with invalid token return 403

## Listings CRUD
- [ ] GET /v1/admin/listings returns array
- [ ] POST /v1/admin/listings creates new record
- [ ] PUT /v1/admin/listings/:id updates record
- [ ] DELETE /v1/admin/listings/:id removes record
- [ ] Listings include nested addresses
- [ ] Listings include nested categories

## Data Persistence
- [ ] Created listings survive API restart
- [ ] Updated listings persist changes
- [ ] Deleted listings stay deleted
- [ ] Relationships (addresses, categories) persist

## Admin UI Integration
- [ ] Listings page loads and displays data
- [ ] Create listing form works
- [ ] Edit listing form works
- [ ] Delete listing button works
- [ ] Success/error messages display correctly
- [ ] Browser console shows no errors

## Database Verification
- [ ] psql queries confirm data matches API responses
- [ ] Foreign key relationships intact
- [ ] Unique constraints enforced
- [ ] Cascade deletes work correctly

## Import Script
- [ ] HTML extraction mode works
- [ ] LLM extraction mode works
- [ ] CSV import mode works
- [ ] API ingestion endpoint accepts extracted data
- [ ] Imported listings appear in admin UI

## Public Endpoints
- [ ] GET /v1/directories returns published directories
- [ ] GET /v1/directories/:slug returns directory with listings
- [ ] Only APPROVED listings appear in public directories
